System.register("chunks:///_virtual/_1.ts",["cc","./FrontYard.ts"],(function(t){var c,r,e;return{setters:[function(t){c=t.cclegacy,r=t._decorator},function(t){e=t.FrontYard}],execute:function(){c._RF.push({},"e82e2zopPtHo4KbaMsKDbkM","_1",void 0);r.ccclass,r.property,t("q",(function(){this.fy=e}));c._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Character.ts"],(function(t){var n,i,o,e,a,r,l,s,d,h,p,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Prefab,s=t.dragonBones,d=t.Vec3,h=t.Component},function(t){p=t.NodePools},function(t){c=t.CharacterScale}],execute:function(){var u,m,y,b,f,P,v,A,g,w,S,R,C,E,F,U,k;a._RF.push({},"a97bbP1jrpAOKueZ/Uiwdhb","AnimationController",void 0);var D=r.ccclass,L=r.property;t("AnimationController",(u=D("AnimationController"),m=L({type:String}),y=L({type:[String],displayName:"randomAnimateNumber"}),b=L({type:Number}),f=L({type:l}),P=L({type:l}),v=L([String]),A=L(l),u((S=n((w=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,o(n,"IdleAnim",S,e(n)),o(n,"RandomAnim",R,e(n)),o(n,"RandRate",C,e(n)),n.timeScale=void 0,o(n,"Vineback",E,e(n)),n.vineback=null,o(n,"PotFront",F,e(n)),n.potFront=null,n.bodyPart=[],n.otherPart=[],o(n,"startHideSlotName",U,e(n)),o(n,"PlantUpper",k,e(n)),n.plantUpper=void 0,n.anmCompleteListenerDone=!1,n.body=null,n}i(n,t);var a=n.prototype;return a.addVineBack=function(t){if(this.Vineback){var n=p.instantiatePooly(this.Vineback);n.parent=t,n.scale=this.node.scale,this.vineback=n.getComponent(s.ArmatureDisplay),this.bodyPart.push(this.vineback),this.otherPart.push(this.vineback)}this.playRandom()},a.addPotFront=function(t){if(this.PotFront){var n=p.instantiatePooly(this.PotFront);n.parent=t,n.scale=this.node.scale,this.potFront=n.getComponent(s.ArmatureDisplay),this.bodyPart.push(this.potFront),this.otherPart.push(this.potFront)}this.playRandom()},a.addPlantUpper=function(t){if(this.PlantUpper){var n=p.instantiatePooly(this.PlantUpper);n.parent=t,n.scale=this.node.scale,n.worldPosition=this.node.worldPosition,this.plantUpper=n.getComponent(s.ArmatureDisplay),this.bodyPart.push(this.plantUpper),this.playRandom()}},a.onDisable=function(){this.otherPart.concat([this.plantUpper]).forEach((function(t){p.destroyPooly(null==t?void 0:t.node)}))},a.anmCompleteListenerOn=function(){this.anmCompleteListenerDone||(this.anmCompleteListenerDone=!0,this.body.addEventListener(s.EventObject.COMPLETE,this.randomAnimate,this))},a.playAnimation=function(t,n,i,o){void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=this.timeScale),this.bodyPart.forEach((function(e){e&&(e.timeScale=o,0==i?e.playAnimation(t,n):0!=i&&e.armature().animation.fadeIn(t,i,n))}))},a.playRandom=function(){if(0==Math.round(100*Math.random()/this.RandRate)&&this.RandomAnim.length>0){var t=Math.round(Math.random()*(this.RandomAnim.length-1));this.playAnimation(this.RandomAnim[t],1)}else this.playAnimation(this.IdleAnim,1)},a.randomAnimate=function(t){t.type==s.EventObject.COMPLETE&&this.playRandom()},a.setTimeScale=function(t){this.bodyPart.forEach((function(n){n.timeScale=t}))},a.throwAllBackNFront=function(){var t=this;this.otherPart.concat().forEach((function(n){var i=t.bodyPart.indexOf(n);p.destroyPooly(n.node),-1!=i&&t.bodyPart.splice(i)}))},a.setBody=function(){this.body=this.node.getChildByName("Body").getComponent(s.ArmatureDisplay)},a.onLoad=function(){this.setBody()},a.onEnable=function(){this.node.scale=new d(c,c,c),this.bodyPart=[],this.otherPart=[],this.timeScale=.9+Math.round(20*Math.random())/100,this.bodyPart.push(this.body),this.playRandom(),this.anmCompleteListenerOn();var t=this.body.armature();this.startHideSlotName.forEach((function(n){var i;null==(i=t.getSlot(n))||i._setDisplayIndex(-1)}))},a.start=function(){this.body.timeScale=this.timeScale},a.fixTimeScale=function(t){var n=this;this.bodyPart.forEach((function(i){i.timeScale=n.timeScale*t*60}))},a.update=function(t){this.potFront&&(this.potFront.node.worldPosition=this.body.node.worldPosition),this.vineback&&(this.vineback.node.worldPosition=this.body.node.worldPosition),this.plantUpper&&(this.plantUpper.node.worldPosition=this.body.node.worldPosition,this.plantUpper.node.worldScale=this.body.node.worldScale,this.plantUpper.node.worldRotation=this.body.node.worldRotation)},n}(h)).prototype,"IdleAnim",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Idle"}}),R=n(w.prototype,"RandomAnim",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(w.prototype,"RandRate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),E=n(w.prototype,"Vineback",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(w.prototype,"PotFront",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(w.prototype,"startHideSlotName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(w.prototype,"PlantUpper",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/Armor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Materials.ts","./SoundRescourses.ts"],(function(t){var i,e,n,r,s,a,o,h,l,u,c,p,d,m,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,o=t.Enum,h=t.Prefab,l=t.dragonBones,u=t.Material,c=t.AudioSource,p=t.Color,d=t.Component},function(t){m=t.materialRes},function(t){f=t.sounds}],execute:function(){var g,y,b,A,v,D,S,C,R;s._RF.push({},"b6eeddCxRlJeI4ZcFg9Q6At","Armor",void 0);var w=a.ccclass,P=a.property,z=function(t){return t[t.plastic=0]="plastic",t[t.shield=1]="shield",t[t.none=2]="none",t}(z||{});o(z);t("Armor",(g=w("Armor Features"),y=P(Number),b=P(h),A=P({type:z}),g((S=i((D=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,n(i,"toughness",S,r(i)),i.health=0,n(i,"armorDROP",C,r(i)),i.db=null,i.hurting=0,n(i,"hurtSoundType",R,r(i)),i.material=void 0,i}e(i,t);var s=i.prototype;return s.onLoad=function(){this.db=this.getComponent(l.ArmatureDisplay);var t=new u;t.initialize({effectAsset:m.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=t,this.material.setProperty("chillColor",0)},s.onEnable=function(){this.hurting=0,this.getComponent(c)||this.addComponent(c),this.health=this.toughness,this.setDisplay()},s.playHurtSound=function(){switch(this.hurtSoundType){case z.plastic:f.playArmorHitPlastic();break;case z.shield:f.playArmorHitShield()}},s.shouldMaterial=function(){var t=new p(0,0,0,255);this.hurting>0&&(t.r+=10*this.hurting,t.g+=10*this.hurting,t.b+=10*this.hurting);var i=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(i,t),this.db.customMaterial=this.material},s.update=function(t){this.hurting>0&&(this.hurting-=60*t),this.shouldMaterial()},s.dealDamage=function(t,i){return void 0===i&&(i=!0),t<=0||(this.health-=t,this.hurting=10,i&&this.playHurtSound(),this.setDisplay()),this.health},s.setDisplay=function(){this.health>2*this.toughness/3?this.db.playAnimation("Broken0"):this.health<=2*this.toughness/3&&this.health>this.toughness/3?this.db.playAnimation("Broken1"):this.health<=this.toughness/3&&this.health>0&&this.db.playAnimation("Broken2")},i}(d)).prototype,"toughness",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 370}}),C=i(D.prototype,"armorDROP",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(D.prototype,"hurtSoundType",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.none}}),v=D))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/Armors.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,c,n,u,o,b;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,c=e.assertThisInitialized},function(e){n=e.cclegacy,u=e._decorator,o=e.Prefab,b=e.Component}],execute:function(){var a,s,l,_,p,f,k,y,g,w,m,h,z,d,v,A,B,D,L,P,x,F,I,R,j,q,C,E,H,M,O,S,T,W,X;n._RF.push({},"e5554r+OABBIoqkx+eyZoWX","Armors",void 0);var Z=u.ccclass,G=u.property,J=e("armorEnum",function(e){return e[e.basic_cone=0]="basic_cone",e[e.basic_bucket=1]="basic_bucket",e[e.basic_bricks=2]="basic_bricks",e[e.egypt_cone=3]="egypt_cone",e[e.egypt_bucket=4]="egypt_bucket",e[e.egypt_bricks=5]="egypt_bricks",e[e.future_cone=6]="future_cone",e[e.future_bucket=7]="future_bucket",e[e.future_bricks=8]="future_bricks",e[e.pirate_cone=9]="pirate_cone",e[e.pirate_bucket=10]="pirate_bucket",e[e.pirate_bricks=11]="pirate_bricks",e[e.cowboy_cone=12]="cowboy_cone",e[e.cowboy_bucket=13]="cowboy_bucket",e[e.cowboy_bricks=14]="cowboy_bricks",e[e.amount=15]="amount",e}({})),K=e("armors",function(){function e(){}return e.getArmor=function(e){switch(e){case J.basic_bucket:return this.res.basic_bucket;case J.basic_bricks:return this.res.basic_bricks;case J.future_cone:return this.res.future_cone;case J.future_bucket:return this.res.future_bucket;case J.future_bricks:return this.res.future_bricks;case J.egypt_cone:return this.res.egypt_cone;case J.egypt_bucket:return this.res.egypt_bucket;case J.egypt_bricks:return this.res.egypt_bricks;case J.cowboy_cone:return this.res.cowboy_cone;case J.cowboy_bucket:return this.res.cowboy_bucket;case J.cowboy_bricks:return this.res.cowboy_bricks;case J.pirate_cone:return this.res.pirate_cone;case J.pirate_bucket:return this.res.pirate_bucket;case J.pirate_bricks:return this.res.pirate_bricks;default:return this.res.basic_cone}},e}());K.res=void 0;e("Armors",(a=Z("Armors"),s=G(o),l=G(o),_=G(o),p=G(o),f=G(o),k=G(o),y=G(o),g=G(o),w=G(o),m=G(o),h=G(o),z=G(o),d=G(o),v=G(o),A=G(o),B=G(o),a((P=r((L=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return r=e.call.apply(e,[this].concat(n))||this,i(r,"basic_cone",P,c(r)),i(r,"basic_bucket",x,c(r)),i(r,"basic_bricks",F,c(r)),i(r,"future_cone",I,c(r)),i(r,"future_bucket",R,c(r)),i(r,"future_bricks",j,c(r)),i(r,"egypt_cone",q,c(r)),i(r,"egypt_bucket",C,c(r)),i(r,"egypt_bricks",E,c(r)),i(r,"pirate_cone",H,c(r)),i(r,"pirate_bucket",M,c(r)),i(r,"pirate_bricks",O,c(r)),i(r,"cowboy_cone",S,c(r)),i(r,"cowboy_bucket",T,c(r)),i(r,"cowboy_bricks",W,c(r)),i(r,"lost_cone",X,c(r)),r}return t(r,e),r.prototype.onLoad=function(){K.res=this},r}(b)).prototype,"basic_cone",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(L.prototype,"basic_bucket",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=r(L.prototype,"basic_bricks",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(L.prototype,"future_cone",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(L.prototype,"future_bucket",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(L.prototype,"future_bricks",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=r(L.prototype,"egypt_cone",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=r(L.prototype,"egypt_bucket",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=r(L.prototype,"egypt_bricks",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=r(L.prototype,"pirate_cone",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=r(L.prototype,"pirate_bucket",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=r(L.prototype,"pirate_bricks",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(L.prototype,"cowboy_cone",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=r(L.prototype,"cowboy_bucket",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=r(L.prototype,"cowboy_bricks",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=r(L.prototype,"lost_cone",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=L))||D));n._RF.pop()}}}));

System.register("chunks:///_virtual/BananaLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SniperPlant.ts","./LnC.ts","./NodePools.ts","./Character.ts","./commonShot.ts","./ProjectileManager.ts","./bananaLauncherSound.ts","./Square.ts","./CharacterManager.ts"],(function(n){var t,o,a,i,e,r,l,c,s,u,h,d,p,m,f,y,g,P,w,C;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){e=n.cclegacy,r=n._decorator,l=n.Prefab,c=n.CCFloat,s=n.KeyCode,u=n.Vec2},function(n){h=n.SniperPlant},function(n){d=n.LnC},function(n){p=n.NodePools,m=n.ArrayGet},function(n){f=n.CharacterType},function(n){y=n.commonShot},function(n){g=n.projectile},function(n){P=n.bananaLauncherSound},function(n){w=n.Square},function(n){C=n.ZombiePool}],execute:function(){var S,A,L,b,v,O,R;e._RF.push({},"cf114hcRKJKgbd4gyuONecz","BananaLauncher",void 0);var B=r.ccclass,D=r.property,j=function(){function n(){}return n.throwOneBananaOnPos=function(n,t,o,a,i,e){n.parent=a;var r=n.getComponent(y);return r.worldPosition=new u(t.x,t.y),r.height=o,r.gravity=0,r.linearVelocity=new u(0,0),r.bodyLinearVelocity=-i,g.registerProjectile(n,e),r},n.throwOneBananaOnNode=function(n,t,o,a,i,e){return this.throwOneBananaOnPos(n,t.worldPosition,o,a,i,e)},n}();n("BananaLauncherPlant",(S=B("BananaLauncherPlant"),A=D(l),L=D(c),S((O=t((v=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return t=n.call.apply(n,[this].concat(e))||this,a(t,"projectile",O,i(t)),a(t,"cooldownDuration",R,i(t)),t.coolingdown=0,t}o(t,n);var e=t.prototype;return e.LocateStartKeyCode=function(){return s.KEY_B},e.animationListener=function(n){if("drop"==n.name){var t;this.getComponent(P).playShootSound(!1);var o=p.instantiatePooly(this.projectile),a=C.inLawnPool(),i=null==(t=m.getRandom(a))?void 0:t.inLnC;i||(i=w.getRandomSquare().getComponent(d)),j.throwOneBananaOnNode(o,i.plantPoint,1e3,i.inLane.prjLayer,22,f.zombie)}"foodEnd"==n.name&&this.foodEnd()},e.sniperPlantLocatable=function(){return this.coolingdown<=0},e.setAnimation=function(n){switch(void 0===n&&(n=0),n){case 1:this.anmControl.IdleAnim="Steady",this.anmControl.RandomAnim=[],this.deathAnm="Death";break;case 2:this.anmControl.IdleAnim="IdleSad",this.anmControl.RandomAnim=["RandomSad"],this.deathAnm="DeathSad";break;default:this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death"}},e.specialSniperPlantDie=function(){},e.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1),this.getComponent(P).playFoodSound(),this.setAnimation(2),this.coolingdown=1/0,this.anmControl.playAnimation("Food",1)},e.waterable=function(){return this.sniperPlantLocatable()},e.specialPlantFoodEnd=function(){this.coolingdown=this.cooldownDuration},e.specialSniperPlantOnEnable=function(){this.coolingdown=0,this.setAnimation()},e.specialSniperPlantLocateCancel=function(){this.setAnimation(),this.anmControl.playRandom()},e.specialSniperPlantLocateStart=function(){this.setAnimation(1),this.anmControl.playAnimation("TakeAim",1)},e.specialSniperPlantTrigger=function(n){this.setAnimation(2),this.coolingdown=this.cooldownDuration,this.anmControl.playAnimation("Launch",1),this.getComponent(P).playShootSound();var t=p.instantiatePooly(this.projectile);j.throwOneBananaOnNode(t,n.plantPoint,1e3,n.inLane.prjLayer,22,f.zombie)},e._wake=function(){this.setAnimation(0),this.anmControl.playAnimation("GetReady",1),this.getComponent(P).playWakeSound()},e.specialPlantUpdate=function(n){this.coolingdown>0&&(this.coolingdown-=n,this.coolingdown<=0&&this._wake())},t}(h)).prototype,"projectile",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(v.prototype,"cooldownDuration",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),b=v))||b));e._RF.pop()}}}));

System.register("chunks:///_virtual/bananaLauncherSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundsController.ts"],(function(o){var n,t,e,u,a,i,r,d,s,l,S;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,u=o.assertThisInitialized},function(o){a=o.cclegacy,i=o._decorator,r=o.AudioClip,d=o.AudioSource,s=o.Component},function(o){l=o.ArrayGet},function(o){S=o.SoundFXController}],execute:function(){var c,p,h,f,y,b,m,g,w,F,v,L,z;a._RF.push({},"95eecG1I45E4Lri80BuPGfr","bananaLauncherSound",void 0);var C=i.ccclass,R=i.property;o("bananaLauncherSound",(c=C("bananaLauncherSound"),p=R([r]),h=R([r]),f=R([r]),y=R([r]),b=R([r]),c((w=n((g=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=o.call.apply(o,[this].concat(a))||this).audioSource=null,e(n,"shootSounds",w,u(n)),e(n,"shootSaySounds",F,u(n)),e(n,"wakeSounds",v,u(n)),e(n,"foodSaySounds",L,u(n)),e(n,"foodStartSounds",z,u(n)),n}t(n,o);var a=n.prototype;return a.onLoad=function(){this.getComponent(d)||this.addComponent(d),this.audioSource=this.getComponent(d)},a.playShootSound=function(o){void 0===o&&(o=!0),this.audioSource.playOneShot(l.getRandom(this.shootSounds),S.SoundFXVolume),o&&this.audioSource.playOneShot(l.getRandom(this.shootSaySounds),S.SoundFXVolume)},a.playWakeSound=function(){this.audioSource.playOneShot(l.getRandom(this.wakeSounds),S.SoundFXVolume)},a.playFoodSound=function(){this.audioSource.playOneShot(l.getRandom(this.foodStartSounds),S.SoundFXVolume),this.audioSource.playOneShot(l.getRandom(this.foodSaySounds),S.SoundFXVolume)},n}(s)).prototype,"shootSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(g.prototype,"shootSaySounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(g.prototype,"wakeSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(g.prototype,"foodSaySounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(g.prototype,"foodStartSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=g))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Bloomerang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./NodePools.ts","./Character.ts","./boomerang.ts","./bloomerangSound.ts","./Square.ts","./Peashooter.ts"],(function(t){var o,n,e,i,a,r,s,h,c,u,l,d,g,m,p,f,b,y,S;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Prefab,h=t.Node,c=t.Vec2,u=t.Vec3,l=t.dragonBones},function(t){d=t.Plant},function(t){g=t.Rectangle},function(t){m=t.NodePools},function(t){p=t.CharacterType},function(t){f=t.boomerang},function(t){b=t.bloomerangSound},function(t){y=t.Square},function(t){S=t.peaShooter}],execute:function(){var P,v,C,w,j,x,B,E,M,_,D;a._RF.push({},"d3578tct9RIlYHwJbYd9E0Y","Bloomerang",void 0);var R=r.ccclass,L=r.property;t("BloomerangPlant",(P=R("BloomerangPlant"),v=L({type:Number,min:0}),C=L(s),w=L(Number),j=L(h),P((E=o((B=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return o=t.call.apply(t,[this].concat(a))||this,e(o,"foodBoomerangMaxCount",E,i(o)),e(o,"boomerang",M,i(o)),o.detector=null,o.prjDetecter=null,o.boomerangsShot=[],o.catching=!1,e(o,"shootInterval",_,i(o)),e(o,"boomerangSpawnpoint",D,i(o)),o.busy=0,o.shooting=!1,o}n(o,t);var a=o.prototype;return a._shoot=function(t,o,n){void 0===t&&(t=!1),void 0===o&&(o=new c(15,0)),void 0===n&&(n=this.boomerang);var e=m.instantiatePooly(n);if(e){var i=1;t&&(i+=Math.round(4*Math.random())/10-.2),S.shootOnePea(e,this.fooding?this.node.worldPosition:new u(this.boomerangSpawnpoint.getWorldPosition().x,this.shadeWorldPosition.y,0),this.boomerangSpawnpoint.worldPosition.y-this.shadeWorldPosition.y,this.inLane.prjLayer,new c(o.x*i,o.y*i),p.zombie);var a=e.getComponent(f);a&&(a.maxTargetNumber=3,a.master=this,a.judgeHaveEnemy=!0,this.fooding&&(a.judgeHaveEnemy=!1,a.maxTargetNumber=1/0)),this.boomerangsShot.push(a)}this.shooting=!1},a.specialPlantFoodEnd=function(){this.catching=!1,this.anmControl.playRandom(),this.busy=0},a.umbrella=function(){return this.shooting||this.anmControl.playAnimation("Block",1),this.getComponent(b).playBlockSound(),!0},a.specialPlantFood=function(){var t=this;this.getComponent(b).playFoodSound(),this.anmControl.playAnimation("Food",-1),this.busy=1/0;var o=0;this.schedule((function(){t._shoot(!0,new c(15,0)),t._shoot(!0,new c(-15,0)),t._shoot(!0,new c(0,10)),t._shoot(!0,new c(0,-10)),++o>=t.foodBoomerangMaxCount&&t.foodEnd()}),2/this.foodBoomerangMaxCount,this.foodBoomerangMaxCount,.01)},a._shootPeaAnimation=function(){this.anmControl.playAnimation("Shoot",1,.1,Math.max(2.7/this.shootInterval,1))},a.animationListener=function(t){"Shoot"==t.name?this._shoot():"ShootSound"==t.name?this.getComponent(b).playShootSound():t.name},a.setDetecter=function(){this.prjDetecter=g.createRectangleNodeCenter(this.node,.6*y.SquareDisW,.6*y.SquareDisH),this.detector=g.createRectangleNodeSide(this.inLnC.node,y.SquareDisW*(9-this.cIndex),y.SquareDisH)},a.detectPrj=function(){var t=this;this.boomerangsShot.concat().forEach((function(o){var n=t.boomerangsShot.indexOf(o);o.master==t&&o.returned&&t.prjDetecter.judgeInRecP(o.shadeWorldPosition)&&(o.fade(),-1!=n&&t.boomerangsShot.splice(n,1),t.getComponent(b).playCatchSound(),t.shooting||t.fooding||t.catching||(t.catching=!0,t.anmControl.playAnimation("Catch",1,.1)))}))},a.waterable=function(){return!this.shooting},a.specialPlantOnEnable=function(){var t=this;this.catching=!1,this.boomerangsShot=[],this.busy=0,this.anmControl.body.addEventListener(l.EventObject.LOOP_COMPLETE,(function(){t.shooting=!1,t.catching=!1}),this)},a.startShooting=function(){this.shooting=!0;var t=.03*Math.round(5*Math.random())*(this.shootInterval/1.35);this.busy=this.shootInterval+t,this._shootPeaAnimation()},a.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRec))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.detector.judgeCrossRec(n[e].bodyRec))return!0;return!1},a.specialPlantOnSquareChange=function(t,o){this.setDetecter()},a.specialPlantUpdate=function(t){this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,this.detectEnemy()&&this.startShooting()),this.detectPrj()},o}(d)).prototype,"foodBoomerangMaxCount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),M=o(B.prototype,"boomerang",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=o(B.prototype,"shootInterval",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.7}}),D=o(B.prototype,"boomerangSpawnpoint",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=B))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/bloomerangSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./plantSound.ts"],(function(o){var n,t,e,i,r,u,a,l,c;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,u=o._decorator,a=o.AudioClip},function(o){l=o.ArrayGet},function(o){c=o.plantSound}],execute:function(){var d,p,s,S,h,f,y,b,g,m,v;r._RF.push({},"d0705O10WZJJpig+6ppu658","bloomerangSound",void 0);var z=u.ccclass,R=u.property;o("bloomerangSound",(d=z("bloomerangSound"),p=R([a]),s=R([a]),S=R([a]),h=R([a]),d((b=n((y=function(o){function n(){for(var n,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return n=o.call.apply(o,[this].concat(r))||this,e(n,"catchSound",b,i(n)),e(n,"shootSound",g,i(n)),e(n,"foodSound",m,i(n)),e(n,"blockSound",v,i(n)),n}t(n,o);var r=n.prototype;return r.playBlockSound=function(){this.playOneShot(l.getRandom(this.blockSound))},r.playFoodSound=function(){this.playOneShot(l.getRandom(this.foodSound))},r.playShootSound=function(){this.playOneShot(l.getRandom(this.shootSound))},r.playCatchSound=function(){this.playOneShot(l.getRandom(this.catchSound))},n}(c)).prototype,"catchSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=n(y.prototype,"shootSound",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=n(y.prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(y.prototype,"blockSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Blover.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./FrontYard.ts","./NodePools.ts","./SoundsController.ts"],(function(t){var n,o,i,e,r,l,a,u,s,c,d,h,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.CCFloat,u=t.AudioClip,s=t.AudioSource},function(t){c=t.Plant},function(t){d=t.FrontYard},function(t){h=t.ArrayGet},function(t){p=t.SoundFXController}],execute:function(){var b,f,m,w,y,v,S;r._RF.push({},"1f0c1xbLLRKlLjI78K3hZz+","Blover",void 0);var C=l.ccclass,D=l.property;t("BloverPlant",(b=C("BloverPlant"),f=D(a),m=D([u]),b((v=n((y=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=t.call.apply(t,[this].concat(r))||this,i(n,"blowDuration",v,e(n)),i(n,"blowSound",S,e(n)),n}o(n,t);var r=n.prototype;return r.specialPlantOnEnable=function(){this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.foodable=!1,this.anmControl.IdleAnim="Blowing",this.anmControl.RandomAnim=[],this.anmControl.playAnimation("BlowStart",1)},r.playBlowSound=function(){this.getComponent(s)||this.addComponent(s),this.getComponent(s).playOneShot(h.getRandom(this.blowSound),p.SoundFXVolume)},r.animationListener=function(t){var n=this;"blowStart"==t.name&&(this.playBlowSound(),d.windy=d.windy>this.blowDuration?d.windy:this.blowDuration,this.scheduleOnce((function(){n.die(),n.anmControl.playAnimation("Death",1,0)}),this.blowDuration))},n}(c)).prototype,"blowDuration",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),S=n(y.prototype,"blowSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=y))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/BodyGrouper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,r,i,o,a,l,u,c;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,l=n.dragonBones,u=n.math,c=n.Component}],execute:function(){var s,m,p,d,f,y,h,b,g,v,A;o._RF.push({},"58139gaPaBD5JtqBrmcDFyc","BodyGrouper",void 0);var D=a.ccclass,_=a.property;n("BodyGrouper",(s=D("BodyGrouper"),m=_(String),p=_(String),d=_(String),f=_(String),s((b=e((h=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,r(e,"IdleAnm",b,i(e)),r(e,"WalkAnm",g,i(e)),r(e,"DeathAnm",v,i(e)),r(e,"EatAnm",A,i(e)),e.body=void 0,e.currentAnimationName="",e}t(e,n);var o=e.prototype;return o.showArm=function(n){var e;void 0===n&&(n=!0),null==(e=this.body)||null==(e=e.armature())||null==(e=e.getSlots())||e.forEach((function(e){e.name.includes("_HAND")?e._setDisplayIndex(n?0:-1):e.name.includes("_ARM")&&e._setDisplayIndex(n?-1:0)}))},o.showHead=function(n){var e;void 0===n&&(n=!0),null==(e=this.body)||null==(e=e.armature())||null==(e=e.getSlots())||e.forEach((function(e){e.name.includes("_HEAD")&&e._setDisplayIndex(n?0:-1)}))},o.setColor=function(n){var e=255-n.r,t=255-n.g,r=255-n.b,i=255-n.a,o=this.getComponent(l.ArmatureDisplay).color,a=o.r,c=o.g,s=o.b,m=o.a;new u.Color(a-e,c-t,s-r,m-i)},o.playAnimation=function(n,e,t){var r,i;if(void 0===e&&(e=1/0),void 0===t&&(t=0),-1!=(null==(r=this.body)||null==(r=r.armature())?void 0:r.animation.animationNames.indexOf(n))){var o;if(t>0)null==(o=this.body)||null==(o=o.armature())||null==(o=o.animation)||o.fadeIn(n,t,e);else null==(i=this.body)||i.playAnimation(n,e);this.currentAnimationName=n}},o.onEnable=function(){this.setColor(new u.Color(255,255,255,255))},o.hitFlash=function(){},e}(c)).prototype,"IdleAnm",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Idle"}}),g=e(h.prototype,"WalkAnm",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Walk"}}),v=e(h.prototype,"DeathAnm",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Death"}}),A=e(h.prototype,"EatAnm",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Eat"}}),y=h))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/BonkChoy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./bonkChoySound.ts","./CharacterManager.ts","./Square.ts"],(function(t){var e,a,o,n,i,s,r,c,h,l,d,u,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,r=t.macro,c=t.Vec2,h=t.dragonBones},function(t){l=t.Plant},function(t){d=t.bonkChoySound},function(t){u=t.Rectangle},function(t){m=t.Square}],execute:function(){var g,b,f,y,p;i._RF.push({},"3c6a9Ol/9RMhZdXe+1G4AxT","BonkChoy",void 0);var k=s.ccclass,v=s.property;t("BonkChoyPlant",(g=k("BonkChoy"),b=v(Number),g((p=e((y=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).target=null,e.damageNM=15,e.damageHV=30,e.damageFood=60,e.foodPunch=0,e.maxFoodPunch=25,e.detector=void 0,e.tombDetector=void 0,e.foodDetecter=void 0,e.targetTomb=void 0,o(e,"attackInterval",p,n(e)),e.busy=24,e.bonking=!1,e}a(e,t);var i=e.prototype;return i.specialPlantFood=function(){this.faceNormal(),this.anmControl.playAnimation("FoodStart",r.REPEAT_FOREVER,0,1),this.foodPunch=0,this.busy=1/0},i.waterable=function(){return!this.bonking},i.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.busy=0},i.attackAnimation=function(){this.target?(this.target.node.worldPosition.x<this.node.worldPosition.x?this.faceNormal(-1):this.faceNormal(),this.target.totalHealth()<this.damageHV?this.anmControl.playAnimation("Defeat",1,0,.4<this.attackInterval?1:.4/this.attackInterval):this.anmControl.playAnimation("Attack",1,0,.4<this.attackInterval?1:.4/this.attackInterval)):this.targetTomb&&(this.targetTomb.node.worldPosition.x<this.node.worldPosition.x?this.faceNormal(-1):this.faceNormal(),this.targetTomb.health<this.damageHV?this.anmControl.playAnimation("Defeat",1,0,.4<this.attackInterval?1:.4/this.attackInterval):this.anmControl.playAnimation("Attack",1,0,.4<this.attackInterval?1:.4/this.attackInterval))},i.specialPlantOnSquareChange=function(t,e){this.setDetector()},i.animationListener=function(t){var e=this;"attackAir"==t.name&&this.getComponent(d).playAttackAir(),"attackGoal"==t.name&&(this.target?(this.target.dealDamage(this.damageNM,!0,!0,!0,new c(20*this.body.scale.x,0)),this.getComponent(d).playAttackGoal()):this.targetTomb&&(this.targetTomb.dealDamage(this.damageNM),this.getComponent(d).playAttackGoal()),this.target=null,this.targetTomb=null,this.bonking=!1),"attackHeavy"==t.name&&(this.target?(this.target.dealDamage(this.damageHV,!0,!0,!0,new c(20*this.body.scale.x,30)),this.getComponent(d).playDefeatSound()):this.targetTomb&&(this.targetTomb.dealDamage(this.damageHV),this.getComponent(d).playDefeatSound()),this.target=null,this.targetTomb=null,this.bonking=!1),"foodAttack"==t.name&&(this.getComponent(d).playAttackAir(),this.detectFoodEnemy().forEach((function(t){t.dealDamage(e.damageFood)})),this.detectFoodTomb().forEach((function(t){t.dealDamage(e.damageFood)})),++this.foodPunch>=this.maxFoodPunch&&this.foodEnd())},i.faceNormal=function(t){void 0===t&&(t=1),t<0?this.body.setScale(-Math.abs(this.body.scale.x),this.body.scale.y):t>0&&this.body.setScale(Math.abs(this.body.scale.x),this.body.scale.y)},i.setDetector=function(){this.detector=u.createRectangleNodeCenter(this.inLnC.node,4*m.SquareDisW,m.SquareDisH),this.tombDetector=u.createRectangleNodeCenter(this.inLnC.node,3*m.SquareDisW,m.SquareDisH),this.foodDetecter=u.createRectangleNodeCenter(this.inLnC.node,3*m.SquareDisW,3*m.SquareDisH)},i.faceToNormal=function(){this.faceNormal(1)},i.specialPlantOnEnable=function(){this.busy=0,this.anmControl.body.addEventListener(h.EventObject.COMPLETE,this.faceToNormal,this)},i.detectFoodEnemy=function(){for(var t=[],e=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),a=0;a<e.length;a++)this.foodDetecter.judgeCrossRec(e[a].bodyRec)&&t.push(e[a]);return t},i.detectFoodTomb=function(){for(var t=[],e=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),a=0;a<e.length;a++)this.foodDetecter.judgeCrossRec(e[a].bodyRec)&&t.push(e[a]);return t},i.detectTomb=function(){var t=this,e=null,a=1/0;return this.inLane.tombPool().forEach((function(o){var n=o.node.worldPosition.x;o.bodyRec.judgeCrossRec(t.tombDetector)&&n<a&&(e=o,a=n)})),e},i.detectEnemy=function(){var t=this,e=null,a=this.inLane.zombiePool(),o=1/0;return a.forEach((function(a){var n=a.bodyRec.prjX().x;t.detector.judgeCrossRec(a.bodyRec)&&n<o&&(e=a,o=n)})),e},i.startBonking=function(){this.bonking=!0,this.attackAnimation(),this.busy=60*this.attackInterval},i.specialPlantUpdate=function(t){this.busy>0&&(this.busy-=60*t),this.busy<=0&&!this.fooding&&(this.busy=0,((this.target=this.detectEnemy())||(this.targetTomb=this.detectTomb()))&&this.startBonking())},e}(l)).prototype,"attackInterval",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),f=y))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/bonkChoySound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts"],(function(t){var n,o,e,a,i,r,l,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,l=t.AudioClip},function(t){u=t.plantSound}],execute:function(){var c,p,d,s,y,h,S,f,b;i._RF.push({},"cad07736/5LoLENO1J6rW3B","bonkChoySound",void 0);var k=r.ccclass,A=r.property;t("bonkChoySound",(c=k("bonkChoySound"),p=A(l),d=A(l),s=A(l),c((S=n((h=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,e(n,"attackAirSound",S,a(n)),e(n,"attackGoalSound",f,a(n)),e(n,"defeatSound",b,a(n)),n}o(n,t);var i=n.prototype;return i.playAttackAir=function(){this.playOneShot(this.attackAirSound)},i.playAttackGoal=function(){this.playOneShot(this.attackGoalSound)},i.playDefeatSound=function(){this.playOneShot(this.defeatSound)},n}(u)).prototype,"attackAirSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=n(h.prototype,"attackGoalSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=n(h.prototype,"defeatSound",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=h))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/boomerang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./CharacterManager.ts","./Square.ts"],(function(e){var t,n,r,a,i,o,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,a=e.Vec2,i=e.tween},function(e){o=e.commonShot},function(e){s=e.LineSegment},function(e){c=e.Square}],execute:function(){var u;n._RF.push({},"b4ba8bZy4pFt52T8XYiyO5U","boomerang",void 0);var d=r.ccclass;r.property,e("boomerangEnemy",(function(e,t){void 0===t&&(t=!1),this.node=null,this.damageDealt=!1,this.node=e,this.damageDealt=t})),e("boomerang",d("boomerang")(u=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).contactingEnemies=[],t.targets=null,t.maxTargetNumber=3,t.returned=!1,t._returned=!1,t.master=void 0,t.returning=!1,t.judgeHaveEnemy=!0,t}t(n,e);var r=n.prototype;return r.full=function(){return this.targets.length>=this.maxTargetNumber},r.haveEnemy=function(e){var t=this,n=!1,r=s.createLineVec(e,new a(9*c.SquareDisW,0));return this.inLane.zombiePool().forEach((function(e){n||-1==t.targets.indexOf(e.node)&&r.judgeCrossRec(e.bodyRec)&&(n=!0)})),!!n||(this.inLane.tombPool().forEach((function(e){n||-1==t.targets.indexOf(e.node)&&r.judgeCrossRec(e.bodyRec)&&(n=!0)})),n)},r.returnStart=function(){var e=this;if(!this.returning&&!this.returned){var t=this.linearVelocity;this.returning=!0;var n=this;i(n).to(.3,{linearVelocity:new a(0,0)}).call((function(){e.contactingEnemies.forEach((function(e){e.damageDealt=!1})),e.returned=!0,e.judgeHaveEnemy?e._returned=!0:(e.returning=!1,e.targets=[]),i(n).to(.3,{linearVelocity:new a(-t.x,-t.y)}).start()})).start()}},r.characterOnEnable=function(){this.initialize(),this.contactingEnemies=[],this.targets=[],this.returned=!1,this._returned=!1,this.returning=!1},r.characterOnSquareChange=function(e,t){-1!=t.cIndex&&9!=t.cIndex&&-1!=t.lIndex&&5!=t.lIndex||this.returnStart(),!this.judgeHaveEnemy||!this.full()&&this.haveEnemy(this.realWorldPosition)||this.returnStart()},r.characterUpdate=function(e){this.dead||(this.rotate(),this.hitBorderOrGround(e),this.move(e),this.detectEnemy(e))},r.detectEnemy=function(e){var t,n,r=this;this.full()&&!this.returned||(null==(t=this.inLane)||t.zombiePool().forEach((function(e){if(!r.dead){var t=r.targets.indexOf(e.node);(!r._returned&&-1==t&&!r.full()||r._returned&&-1!=t)&&e.bodyRec.judgeCrossRec(r.bodyRec())&&(r.dealDamageToTarget(e),r.playParticle(),r.playPopSound(),r._returned?r.targets.splice(t,1):r.targets.push(e.node))}})),null==(n=this.inLane)||n.tombPool().forEach((function(e){if(!r.dead){var t=r.targets.indexOf(e.node);(!r._returned&&-1==t||r._returned&&-1!=t)&&e.bodyRec.judgeCrossRec(r.bodyRec())&&(e.dealDamage(r.damage),r.playParticle(),r.playPopSound(),r._returned?r.targets.splice(t,1):r.targets.push(e.node))}})))},n}(o))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Buttercup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./CabbagePult.ts","./Character.ts","./CharacterManager.ts","./LnC.ts","./Square.ts","./buttercupSound.ts"],(function(t){var o,n,e,i,r,a,l,s,u,c,b,p,d,f,h,P,g;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Prefab,s=t.Node,u=t.CCFloat},function(t){c=t.Plant},function(t){b=t.NodePools},function(t){p=t.cabbagePult},function(t){d=t.CharacterType},function(t){f=t.ZombiePool},function(t){h=t.TileLiquidEnum},function(t){P=t.Square},function(t){g=t.buttercupSound}],execute:function(){var m,y,w,v,L,C,S,D,O;r._RF.push({},"897991iB9tMG6ufv1/LzPQP","Buttercup",void 0);var Z=a.ccclass,T=a.property;t("ButtercupPlant",(m=Z("ButtercupPlant"),y=T(l),w=T(s),v=T(u),m((S=o((C=function(t){function o(){for(var o,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=t.call.apply(t,[this].concat(r))||this,e(o,"butterPrj",S,i(o)),e(o,"butterSpawnPoint",D,i(o)),o.targetZombies=[],e(o,"LobInterval",O,i(o)),o.coolDown=0,o.lobbing=!1,o}n(o,t);var r=o.prototype;return r.animationListener=function(t){var o=this;"Lob"==t.name?(this.lobOnTargets(),this.lobbing=!1):"LobFood"==t.name?(this.getComponent(g).playFoodSound(),f.pool().concat().forEach((function(t){var n=b.instantiatePooly(o.butterPrj);p.lobOneCabbageOnZombie(n,o.node.worldPosition,o.butterSpawnPoint.worldPosition.y-o.node.worldPosition.y,o.inLane.prjLayer,t,2,d.zombie,!0).setButter(12).setDamage(150).setTileLiquid(h.butterJuice,150)})),P.getRandomSquares(20).forEach((function(t){var n=b.instantiatePooly(o.butterPrj);p.lobOneCabbageOnNode(n,o.node.worldPosition,o.butterSpawnPoint.worldPosition.y-o.node.worldPosition.y,o.inLane.prjLayer,t,2,d.zombie,!0).setButter(12).setDamage(150).setTileLiquid(h.butterJuice,150)}))):"foodEnd"==t.name?this.foodEnd():"titter"==t.name&&this.getComponent(g).platTitterSound()},r.specialPlantFood=function(t){this.anmControl.playAnimation("Food",1),this.lobbing=!1},r.waterable=function(){return!this.lobbing},r.specialPlantOnEnable=function(){this.coolDown=0,this.targetZombies=[],this.lobbing=!1},r.lobOnTargets=function(t){var o=this;void 0===t&&(t=8),this.targetZombies.forEach((function(n){if(n.isAlive()){var e=b.instantiatePooly(o.butterPrj);p.lobOneCabbageOnZombie(e,o.node.worldPosition,o.butterSpawnPoint.worldPosition.y-o.node.worldPosition.y,o.inLane.prjLayer,n,3,d.zombie,!0).setButter(t).setDamage(100).setTileLiquid(h.butterJuice,120)}})),this.targetZombies=[]},r.specialPlantDie=function(){this.lobOnTargets()},r.specialPlantUpdate=function(t){var o=this;this.coolDown>0&&(this.coolDown-=t),this.targetZombies.concat().forEach((function(t){if(!t.isAlive()){var n=o.targetZombies.indexOf(t);-1!=n&&o.targetZombies.splice(n,1)}}))},r.specialPlantOnEaten=function(t,o,n,e){o&&(-1==this.targetZombies.indexOf(o)&&this.targetZombies.push(o),this.coolDown<=0&&(this.getComponent(g).playShootSound(),this.anmControl.playAnimation("Lob",1,.1),this.coolDown=this.LobInterval,this.lobbing=!0))},o}(c)).prototype,"butterPrj",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=o(C.prototype,"butterSpawnPoint",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=o(C.prototype,"LobInterval",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.34}}),L=C))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/buttercupSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundsController.ts"],(function(o){var t,n,e,u,i,r,a,d,c,l,p;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,u=o.assertThisInitialized},function(o){i=o.cclegacy,r=o._decorator,a=o.AudioClip,d=o.AudioSource,c=o.Component},function(o){l=o.ArrayGet},function(o){p=o.SoundFXController}],execute:function(){var s,S,h,f,y,b,m,g,v;i._RF.push({},"42a66WuyftHXIvDGRT9hu/h","buttercupSound",void 0);var C=r.ccclass,F=r.property;o("buttercupSound",(s=C("buttercupSound"),S=F([a]),h=F([a]),f=F([a]),s((m=t((b=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=o.call.apply(o,[this].concat(i))||this).audioSource=void 0,e(t,"shootSound",m,u(t)),e(t,"foodSound",g,u(t)),e(t,"titterSound",v,u(t)),t}n(t,o);var i=t.prototype;return i.onLoad=function(){this.getComponent(d)||this.addComponent(d),this.audioSource=this.getComponent(d)},i.playShootSound=function(){this.audioSource.playOneShot(l.getRandom(this.shootSound),p.SoundFXVolume)},i.playFoodSound=function(){this.audioSource.playOneShot(l.getRandom(this.foodSound),p.SoundFXVolume)},i.platTitterSound=function(){this.audioSource.playOneShot(l.getRandom(this.titterSound),.3*p.SoundFXVolume)},t}(c)).prototype,"shootSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=t(b.prototype,"foodSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(b.prototype,"titterSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=b))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonWithSounds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts"],(function(o){var t,n,e,u,i,r,c,a,d,l,s;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,u=o.assertThisInitialized},function(o){i=o.cclegacy,r=o._decorator,c=o.AudioClip,a=o.AudioSource,d=o.Node,l=o.Component},function(o){s=o.SoundFXController}],execute:function(){var S,h,p,f,y,v,C;i._RF.push({},"2e673nCkwJH5Jl8XLIW8wTA","ButtonWithSounds",void 0);var m=r.ccclass,g=r.property;o("ButtonWithSounds",(S=m("ButtonWithSounds"),h=g(c),p=g(c),S((v=t((y=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=o.call.apply(o,[this].concat(i))||this).audioSource=void 0,e(t,"touchStartSound",v,u(t)),e(t,"touchEndSound",C,u(t)),t}return n(t,o),t.prototype.onLoad=function(){var o=this;this.getComponent(a)||this.addComponent(a),this.audioSource=this.getComponent(a),this.node.on(d.EventType.TOUCH_START,(function(){o.touchStartSound&&o.audioSource.playOneShot(o.touchStartSound,s.SoundFXVolume)})),this.node.on(d.EventType.TOUCH_END,(function(){o.touchEndSound&&o.audioSource.playOneShot(o.touchEndSound,s.SoundFXVolume)}))},t}(l)).prototype,"touchStartSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(y.prototype,"touchEndSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/CabbagePult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./cabbagePultSound.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./ProjectileManager.ts","./Plant.ts","./Zombie.ts"],(function(t){var e,o,n,i,a,r,l,b,s,c,u,g,h,d,f,y,p,P,v,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Prefab,b=t.Node,s=t.Vec2},function(t){c=t.Character,u=t.CharacterType},function(t){g=t.cabbagePultSound},function(t){h=t.NodePools},function(t){d=t.ZombiePool,f=t.TombPool,y=t.Rectangle},function(t){p=t.Square},function(t){P=t.projectile},function(t){v=t.Plant},function(t){m=t.Zombie}],execute:function(){var L,C,w,S,k,O,x,_,z,j,D,I,M,N,R;a._RF.push({},"b8357J5RHlKf5Qf6WXXkqdh","CabbagePult",void 0);var E=r.ccclass,T=r.property,V=t("cabbagePult",function(){function t(){}return t.lobOneCabbageOnPos=function(t,e,o,n,i,a,r,l,b){void 0===l&&(l=30),void 0===b&&(b=0),t.parent=n,P.registerProjectile(t,r,null);var u=t.getComponent(c);u.height=o;var g=u.gravity=a;return u.linearVelocity=new s(15,0),u.worldPosition=new s(e.x,e.y),u.linearVelocity=new s((i.x-e.x)/l,(i.y-e.y)/l),u.bodyLinearVelocity=g*l/2,u.bodyLinearVelocity+=b/l,u},t.lobOneCabbageOnNode=function(t,e,o,n,i,a,r,l,b){void 0===b&&(b=30);var c=new s(i.worldPosition.x,i.worldPosition.y),u=this.lobOneCabbageOnPos(t,e,o,n,c,a,r,b);return u.targetLocked=l?i:null,u},t.lobOneCabbageOnZombie=function(t,e,o,n,i,a,r,l,b){void 0===b&&(b=30);var s=i.lobberTarget(),c=null==s?void 0:s.lobberToPos(b);s.node.worldPosition.clone().add(e.clone().negative()).length()<=60&&(b/=3);var u=this.lobOneCabbageOnPos(t,e,o,n,c,a,r,b);return u.targetLocked=l?s.node:null,u.bodyLinearVelocity+=(s.zombieHeight+s.height)/b,u},t.lobOneCabbageHorizontal=function(t,e,o,n,i,a,r){var l=t.getComponent(c);return P.registerProjectile(t,r,null),l.node.parent=n,l.worldPosition=new s(e.x,e.y),l.height=o,l.linearVelocity=new s(i.x,0),l.node.angle=0,l.bodyLinearVelocity=i.y,l.gravity=2,l},t}());t("CabbagePultPlant",(L=E("CabbagePultPlant"),C=T(l),w=T(l),S=T(l),k=T(l),O=T(Number),x=T(b),L((j=e((z=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).targetLock=null,e.cabbage=null,n(e,"cabbage0",j,i(e)),n(e,"cabbage1",D,i(e)),n(e,"cabbage2",I,i(e)),n(e,"cabbageMega",M,i(e)),n(e,"lobInterval",N,i(e)),n(e,"cabbageSpawnPoint",R,i(e)),e.detector=null,e.busy=0,e.lobbing=!1,e}o(e,t);var a=e.prototype;return a.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.busy=1/0,this.getComponent(g).playFoodSound()},a.waterable=function(){return!this.lobbing},a._lobCabbageAnimation=function(){this.anmControl.playAnimation("Lob",1,.1,Math.max(2.7/this.lobInterval,1))},a._lob=function(t,e,o,n){var i;void 0===t&&(t=this.targetLock),void 0===e&&(e=this.cabbage),void 0===o&&(o=!1),void 0===n&&(n=30);var a=h.instantiatePooly(e),r=null==(i=t)?void 0:i.getComponent(m);if(a)if(r)V.lobOneCabbageOnZombie(a,this.inLnC.plantPoint.worldPosition,this.cabbageSpawnPoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,r,2,u.zombie,o,n);else this._lobToNode(t,e,o,n);this.lobbing=!1},a._lobToNode=function(t,e,o,n){void 0===t&&(t=this.targetLock),void 0===e&&(e=this.cabbage),void 0===o&&(o=!1),void 0===n&&(n=30);var i=h.instantiatePooly(e);i&&V.lobOneCabbageOnNode(i,this.inLnC.plantPoint.worldPosition,this.cabbageSpawnPoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,t,2,u.zombie,o,n),this.lobbing=!1},a.specialAnimationListener=function(t){},a.animationListener=function(t){var e=this;"Lob"==t.name?(this.detectEnemy(!0),this._lob(this.targetLock),this.targetLock=null):"LobSound"==t.name?this.node.getComponent(g).playLobSound():"lobFood"==t.name?(d.pool().forEach((function(t){e._lob(t.node,e.cabbageMega,!0)})),f.pool().forEach((function(t){e._lobToNode(t.node,e.cabbageMega,!0)}))):"foodEnd"==t.name&&(this.busy=0,this.foodEnd()),this.specialAnimationListener(t)},a.specialPlantOnSquareChange=function(t,e){this.setDetecter()},a.specialPlantOnEnable=function(){this.changeProjectile(0)},a.changeProjectile=function(t){switch(void 0===t&&(t=0),t){case 0:var e;this.cabbage=this.cabbage0,null==(e=this.anmControl.body.armature().getSlot("effect"))||e._setDisplayIndex(-1);break;case 1:var o;this.cabbage=this.cabbage1,null==(o=this.anmControl.body.armature().getSlot("effect"))||o._setDisplayIndex(1);break;case 2:var n;this.cabbage=this.cabbage2,null==(n=this.anmControl.body.armature().getSlot("effect"))||n._setDisplayIndex(0)}},a.setDetecter=function(){this.detector=y.createRectangleNodeSide(this.inLnC.node,p.SquareDisW*(9-this.cIndex),p.SquareDisH)},a.detectEnemy=function(t){void 0===t&&(t=!1);var e=[],o=[],n=!1,i=this.inLane.zombiePool(),a=this.inLane.tombPool();this.targetLock=this.inLane.toRight;for(var r=0;r<i.length;r++)this.detector.judgeCrossRec(i[r].bodyRec)&&(e.push(i[r].node),n=!0);for(var l=0;l<a.length;l++)this.detector.judgeCrossRec(a[l].bodyRec)&&(o.push(a[l].node),n=!0);if(t)if(e.length>0){this.targetLock=e[0];for(var b=1;b<e.length;b++)this.targetLock.worldPosition.x>e[b].worldPosition.x&&(this.targetLock=e[b])}else if(o.length>0){this.targetLock=o[0];for(var s=1;s<o.length;s++)this.targetLock.worldPosition.x>o[s].worldPosition.x&&(this.targetLock=o[s])}return n},a.startLobbing=function(){this.lobbing=!0,this._lobCabbageAnimation();var t=.03*Math.round(5*Math.random())*(this.lobInterval/1.35);this.busy=60*(this.lobInterval+t)},a.specialPlantUpdate=function(t){this.busy>0&&(this.busy-=60*t),this.busy<=0&&(this.busy=0,this.detectEnemy()&&this.startLobbing())},e}(v)).prototype,"cabbage0",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(z.prototype,"cabbage1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(z.prototype,"cabbage2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(z.prototype,"cabbageMega",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(z.prototype,"lobInterval",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.35}}),R=e(z.prototype,"cabbageSpawnPoint",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=z))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/cabbagePultSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./NodePools.ts"],(function(o){var n,t,e,u,i,r,a,l,d,c,s;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,u=o.assertThisInitialized},function(o){i=o.cclegacy,r=o._decorator,a=o.AudioClip,l=o.AudioSource,d=o.Component},function(o){c=o.SoundFXController},function(o){s=o.ArrayGet}],execute:function(){var p,S,b,f,h,y,g;i._RF.push({},"1a3074MynBDxrdpb1Y6sL7/","cabbagePultSound",void 0);var m=r.ccclass,v=r.property;o("cabbagePultSound",(p=m("cabbagePultSound"),S=v([a]),b=v([a]),p((y=n((h=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=o.call.apply(o,[this].concat(i))||this,e(n,"lobSound",y,u(n)),e(n,"foodSound",g,u(n)),n.audioSourse=void 0,n}t(n,o);var i=n.prototype;return i.onLoad=function(){this.getComponent(l)||this.addComponent(l),this.audioSourse=this.getComponent(l)},i.playFoodSound=function(){this.audioSourse.playOneShot(s.getRandom(this.foodSound),c.SoundFXVolume)},i.playLobSound=function(){this.audioSourse.playOneShot(s.getRandom(this.lobSound),c.SoundFXVolume)},n}(d)).prototype,"lobSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=n(h.prototype,"foodSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/Cactus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./commonShot.ts","./cactusSound.ts","./CharacterManager.ts","./Square.ts","./Spikeweed.ts","./cactusThorn.ts"],(function(t){var o,n,e,i,a,s,r,h,l,c,d,u,m,p,f,b,C,g,y,D,S;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Prefab,h=t.Node,l=t.CCFloat,c=t.Vec2,d=t.Vec3},function(t){u=t.Plant},function(t){m=t.NodePools},function(t){p=t.peaShooter},function(t){f=t.CharacterType},function(t){b=t.commonShot},function(t){C=t.cactusSound},function(t){g=t.Rectangle},function(t){y=t.Square},function(t){D=t.spikeweed},function(t){S=t.cactusThorn}],execute:function(){var v,P,w,R,I,A,L,z,E,_,j,H,F,q,x;a._RF.push({},"d8347tqDEBHAaEpFnziRm1N","Cactus",void 0);var M=s.ccclass,k=s.property;t("CactusPlant",(v=M("CactusPlant"),P=k(r),w=k(r),R=k(h),I=k(l),A=k(l),L=k(l),v((_=o((E=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return o=t.call.apply(t,[this].concat(a))||this,e(o,"prj0",_,i(o)),e(o,"prjFood",j,i(o)),e(o,"peaSpawnpoint",H,i(o)),e(o,"shootInterval",F,i(o)),o.shootCD=0,o.shooting=!1,e(o,"stabInterval",q,i(o)),o.stabCD=0,e(o,"stabDamage",x,i(o)),o.lit=!1,o.hidden=!1,o.shootDetector=new g,o.hideDetector=new g,o.stabDetector=new g,o}n(o,t);var a=o.prototype;return a.specialPlantOnEnable=function(){this.showLight(!1),this.shootCD=0,this.stabCD=0},a._shoot=function(t,o,n){void 0===t&&(t=this.prj0),void 0===o&&(o=15),void 0===n&&(n=new c(1,0));var e=m.instantiatePooly(t);if(e){var i=p.shootOnePea(e,new d(this.peaSpawnpoint.worldPosition.x,this.inLnC.plantPoint.worldPosition.y,0),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.node,n.normalize().multiplyScalar(o),f.zombie).getComponent(b),a=i.getComponent(S);return a&&(a.maxPierceAmount_=3+Math.round(Math.random())),i}},a.showLight=function(t){void 0===t&&(t=!0),this.anmControl.body.armature().getSlots().forEach((function(o){o.name.includes("stab")?o._setDisplayIndex(t?1:0):o.name.includes("Light")&&o._setDisplayIndex(t?0:-1)})),this.lit=t,this.foodable=!t},a.hide=function(t,o){void 0===t&&(t=!0),void 0===o&&(o=!0),t?(this.anmControl.IdleAnim="Idle_Hidden",this.anmControl.RandomAnim=[],this.deathAnm="Death_Hidden",o?this.anmControl.playAnimation("Hide",1):this.anmControl.playRandom()):(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.deathAnm="Death",o?this.anmControl.playAnimation("Recover_Hidden",1):this.anmControl.playRandom()),this.hidden=t,this.eaterDetectable=!t,this.short_=t},a.specialPlantFood=function(t){this.anmControl.playAnimation("Food",2)},a.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.showLight(),this.shootCD=0,this.stabCD=0},a.animationListener=function(t){var o=this;"Shoot"==t.name?this._shoot(this.lit?this.prjFood:this.prj0,20):"shootSound"==t.name?this.getComponent(C).playShootSound(this.lit):"hideSound"==t.name?this.getComponent(C).playHideSound():"hideEndSound"==t.name?this.getComponent(C).playRecoverSound():"foodSound"==t.name?this.getComponent(C).playFoodSound():"attackSound"==t.name?this.getComponent(C).playStabSound():"Attack"==t.name?(this.getComponent(C).playShakeSound(),this.inLane.zombiePool().concat().forEach((function(t){!t.flying&&t.bodyRec.judgeCrossRec(o.stabDetector)&&D.stabOnZombie(o,t,o.stabDamage*(o.lit?2:1))}))):"light"==t.name?this.showLight():"foodEnd"==t.name&&this.foodEnd()},a.waterable=function(){return!this.shooting&&!this.hidden},a.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},a.setDetecter=function(t,o){this.shootDetector=g.createRectangleNodeSide(o.node,y.SquareDisW*(9-o.cIndex),y.SquareDisH),this.hideDetector=g.createRectangleNodeCenter(o.node,2*y.SquareDisW,y.SquareDisH),this.stabDetector=g.createRectangleNodeCenter(o.node,y.SquareDisW,y.SquareDisH)},a.detectShootEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.shootDetector.judgeCrossRec(t[o].bodyRec))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.shootDetector.judgeCrossRec(n[e].bodyRec))return!0;return!1},a.detectStabEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(!t[o].flying&&this.stabDetector.judgeCrossRec(t[o].bodyRec))return!0},a.detectHideEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.hideDetector.judgeCrossRec(t[o].bodyRec))return!0},a.startShooting=function(){this.shooting=!0;var t=.03*Math.round(5*Math.random())*(this.shootInterval/1.35);this.shootCD=this.shootInterval+t,this.anmControl.playAnimation("Shoot",1,.1,Math.max(1.35/this.shootInterval,1))},a.animationOnComplete=function(){this.shooting=!1},a.normalSmash=function(t){D.stabOnZombie(null,t,this.stabDamage*(this.lit?2:1)),this.fooding||this.invincible||this.die()},a.specialPlantUpdate=function(t){if(!this.fooding){this.hidden?(this.stabCD>0&&(this.stabCD-=t),this.stabCD<=0&&!this.dead&&(this.stabCD=0,this.detectStabEnemy()&&(this.shooting=!0,this.stabCD=this.stabInterval,this.anmControl.playAnimation("Attack_Hidden",1,.1,Math.max(.5/this.shootInterval,1))))):(this.shootCD>0&&(this.shootCD-=t),this.shootCD<=0&&!this.dead&&(this.shootCD=0,this.detectShootEnemy()&&this.startShooting()));var o=this.detectHideEnemy();this.hidden&&!o?this.hide(!1):!this.hidden&&o&&this.hide(!0)}},o}(u)).prototype,"prj0",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=o(E.prototype,"prjFood",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=o(E.prototype,"peaSpawnpoint",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=o(E.prototype,"shootInterval",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.35}}),q=o(E.prototype,"stabInterval",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),x=o(E.prototype,"stabDamage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),z=E))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/cactusSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts"],(function(o){var n,t,e,i,r,u,a,l;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,u=o._decorator,a=o.AudioClip},function(o){l=o.plantSound}],execute:function(){var s,d,S,h,c,p,f,y,b,m,F,g,v,z,w,A,k,O,D,C;r._RF.push({},"f8512uvjj9Fb5lnf92TblD2","cactusSound",void 0);var _=u.ccclass,j=u.property;o("cactusSound",(s=_("cactusSound"),d=j([a]),S=j([a]),h=j([a]),c=j([a]),p=j([a]),f=j([a]),y=j(a),b=j([a]),s(((C=function(o){function n(){for(var n,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return n=o.call.apply(o,[this].concat(r))||this,e(n,"shootSounds",g,i(n)),e(n,"shootFoodSounds",v,i(n)),e(n,"hideSounds",z,i(n)),e(n,"blopSounds",w,i(n)),e(n,"shakeSound",A,i(n)),e(n,"stabSound",k,i(n)),e(n,"foodShootSound",O,i(n)),e(n,"foodShoutSound",D,i(n)),n}t(n,o);var r=n.prototype;return r.playShootSound=function(o){void 0===o&&(o=!1),this.playOneShotFromArray(o?this.shootFoodSounds:this.shootSounds)},r.playHideSound=function(){this.playOneShotFromArray(this.hideSounds)},r.playRecoverSound=function(){this.playOneShotFromArray(this.hideSounds),this.playOneShotFromArray(this.blopSounds)},r.playShakeSound=function(){n.shakeSoundCD<=0&&(this.playOneShotFromArray(this.shakeSound),n.shakeSoundCD=1)},r.playStabSound=function(){this.playOneShotFromArray(this.stabSound)},r.playFoodSound=function(){this.playOneShot(this.foodShootSound),this.playOneShotFromArray(this.foodShoutSound)},n}(l)).shakeSoundCD=1,g=n((F=C).prototype,"shootSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(F.prototype,"shootFoodSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(F.prototype,"hideSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=n(F.prototype,"blopSounds",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(F.prototype,"shakeSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(F.prototype,"stabSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(F.prototype,"foodShootSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(F.prototype,"foodShoutSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=F))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/cactusThorn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts"],(function(t){var e,n,i,o,a,c,r,s,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,r=t.CCInteger},function(t){s=t.ProjectileEnemyType,u=t.commonShot},function(t){l=t.Zombie}],execute:function(){var h,d,m,g,f;a._RF.push({},"358c6pnkANKjYft0I9QLF82","cactusThorn",void 0);var p=c.ccclass,y=c.property;t("cactusThorn",(h=p("cactusThorn"),d=y(r),h((f=e((g=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,i(e,"maxPierceAmount",f,o(e)),e.maxPierceAmount_=3,e.dealtTargetAmount=0,e.contactingEnemies=[],e}n(e,t);var a=e.prototype;return a.characterOnEnable=function(){this.initialize(),this.maxPierceAmount_=this.maxPierceAmount,this.dealtTargetAmount=0,this.contactingEnemies=[]},a.judgeContacting=function(){var t=this;this.contactingEnemies.concat().forEach((function(e){var n;if(-1==[].concat(t.inLane.zombiePool(),t.inLane.plantPool(),t.inLane.tombPool()).indexOf(e)||null==(n=e.bodyRec)||!n.judgeCrossRec(t.bodyRec())){var i=t.contactingEnemies.indexOf(e);-1!=i&&t.contactingEnemies.splice(i,1)}}))},a.detectEnemy=function(t){var e,n=this;if(this.inLane)if(this.judgeContacting(),null!=(e=this.targetLocked)&&null!=(e=e.getComponent(l))&&e.dead&&(this.targetLocked=null),this.enemyType==s.zombie){var i,o,a=[];null==(i=this.inLane)||i.zombiePool().forEach((function(t){(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&-1==n.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(n.bodyRec())&&a.push(t)}));var c=[];if(a.length){for(var r=function(){var t=1/0,e=null;if(a.forEach((function(n){var i=n.bodyRec.prjX().x;i<t&&(e=n,t=i)})),e){var i=a.indexOf(e);-1!=i&&a.splice(i,1),c.push(e)}c.forEach((function(t){n.dealDamageToTarget(t,!0),n.dealtTargetAmount++,n.contactingEnemies.push(t)}))};a.length>0&&c.length<this.maxPierceAmount_-this.dealtTargetAmount;)r();if(this.dealtTargetAmount>=this.maxPierceAmount_)return void this.pop();this.playPopSound(),this.playParticle()}var u=[];null==(o=this.inLane)||o.tombPool().forEach((function(t){(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&-1==n.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(n.bodyRec())&&u.push(t)}));var h=[];if(u.length){for(var d=function(){var t=1/0,e=null;if(u.forEach((function(n){var i=n.bodyRec.prjX().x;i<t&&(e=n,t=i)})),e){var i=u.indexOf(e);-1!=i&&u.splice(i,1),h.push(e)}h.forEach((function(t){t.dealDamage(n.damage),n.dealSplashDamage(null,t),n.dealtTargetAmount++,n.contactingEnemies.push(t)}))};u.length>0&&h.length<this.maxPierceAmount_-this.dealtTargetAmount;)d();if(this.dealtTargetAmount>=this.maxPierceAmount_)return void this.pop();this.playPopSound(),this.playParticle()}}else if(this.enemyType==s.plant){var m,g=[];null==(m=this.inLane)||m.plantPool().forEach((function(t){(!n.targetLocked||n.targetLocked&&t.node==n.targetLocked)&&-1==n.contactingEnemies.indexOf(t)&&t.bodyRec.judgeCrossRec(n.bodyRec())&&g.push(t)}));var f=[];if(g.length){for(var p=function(){var t=-1/0,e=null;if(g.forEach((function(n){var i=n.bodyRec.prjX().y;i>t&&(e=n,t=i)})),e){var i=g.indexOf(e);-1!=i&&g.splice(i,1),f.push(e)}f.forEach((function(t){n.dealDamageToTargetPlant(t),n.dealtTargetAmount++,n.contactingEnemies.push(t)}))};g.length>0&&f.length<this.maxPierceAmount_-this.dealtTargetAmount;)p();if(this.dealtTargetAmount>=this.maxPierceAmount_)return void this.pop();this.playPopSound(),this.playParticle()}}},e}(u)).prototype,"maxPierceAmount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),m=g))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/CardFeatureTotal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plants.ts","./cardSelectAlmanac.ts"],(function(t){var e,a,n,i,r,s,o,l,c,p,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.createClass,i=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t._decorator,o=t.Prefab,l=t.dragonBones,c=t.Component},function(t){p=t.PlantEnum,u=t.plants},function(t){h=t.cardSelectAlmanac}],execute:function(){var d,y,m,f,P,g,b,A;r._RF.push({},"ad10f3V4/FHzpjqwpkiAhVr","CardFeatureTotal",void 0);var C=s.ccclass,v=s.property;t("PlantsInCard",(d=C("PlantsInCard"),y=v({type:o,visible:!0,tooltip:"Plant Model"}),m=v({type:o,visible:!0,tooltip:"Active Plant"}),d((g=e((P=function(){i(this,"plantDIS",g,this),i(this,"plantPLANT",b,this)}).prototype,"plantDIS",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(P.prototype,"plantPLANT",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=P))||f)),t("CardFeatureTotal",C("CardFeatureTotal")(A=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).thisPlant=void 0,e.thisCard=void 0,e.pID=0,e}a(e,t);var i=e.prototype;return i.cardGrouperPlant=function(t,e){for(void 0===t&&(t=this.ID),void 0===e&&(e=!0),t>=p.amount&&(t%=p.amount);t<0;)t+=p.amount;this.ID=t,this.thisPlant=u.getPlantFeature(t),this.thisCard=u.getPlantsInCard(t);var a=this.getComponent(h);switch(this.thisPlant.OBTAINWORLD){case"egypt":case"pirate":case"cowboy":case"future":case"dark":case"beach":case"ice":case"lostcity":case"stage":case"dino":case"modern":case"frontyard":a.golden=!1,a._bg.playAnimation(this.thisPlant.OBTAINWORLD);break;case"market":a.golden=!0,a._bg.playAnimation("prenium");break;default:a._bg.playAnimation("homeless")}switch(a.suncostShown=e,this.thisPlant.FAMILY){case"Peashooter":case"Cold":case"Electricity":case"Cold":case"Fire":case"Magic":case"Shadow":case"Slow":case"Trap":case"Sun":case"Sharp":case"Poison":case"Defence":case"Explosive":case"Lobber":case"Melee":this.node.getChildByName("Family").getComponent(l.ArmatureDisplay).playAnimation(this.thisPlant.FAMILY);break;default:this.node.getChildByName("Family").getComponent(l.ArmatureDisplay).playAnimation("Nope")}a._price.string=this.thisPlant.SUNCOST.toString(),a._plant.playAnimation(this.thisPlant.PLANTTYPE)},i.cardGrouper=function(t,e){void 0===t&&(t=this.ID),void 0===e&&(e=!0),this.cardGrouperPlant(t,e)},n(e,[{key:"ID",get:function(){return this.pID},set:function(t){this.pID=t}}]),e}(c))||A);r._RF.pop()}}}));

System.register("chunks:///_virtual/CardFeatureTotalZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./Zombies.ts","./cardSelectAlmanac.ts"],(function(e){var t,o,a,i,n,r,s,c,u,m;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){a=e.cclegacy,i=e._decorator,n=e.dragonBones},function(e){r=e.CardFeatureTotal},function(e){s=e.ZombieEnum,c=e.zombies,u=e.ZombieFeature},function(e){m=e.cardSelectAlmanac}],execute:function(){var l;a._RF.push({},"d7345nx6ChFwY4KZggMeaDC","CardFeatureTotalZombie",void 0);var h=i.ccclass;i.property,e("CardFeatureTotalZombie",h("CardFeatureTotalZombie")(l=function(e){function a(){for(var t,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).thisZombie=new u,t.zID=0,t}t(a,e);var i=a.prototype;return i.cardGrouper=function(e,t){void 0===t&&(t=!0),this.cardGrouperZombie(e,t)},i.cardGrouperZombie=function(e,t){for(void 0===e&&(e=this.ID),void 0===t&&(t=!0),e>=s.zombieAmount&&(e%=s.zombieAmount);e<0;)e+=s.zombieAmount;this.ID=e,this.thisZombie=c.getZombieFeature(e);var o=this.getComponent(m);switch(this.thisZombie.OBTAINWORLD){case"egypt":case"pirate":case"cowboy":case"future":case"dark":case"beach":case"ice":case"lostcity":case"stage":case"dino":case"modern":case"frontyard":o.golden=!1,o._bg.playAnimation(this.thisZombie.OBTAINWORLD);break;case"market":o.golden=!0,o._bg.playAnimation("prenium");break;default:o._bg.playAnimation("homeless")}o.suncostShown=t,this.node.getChildByName("Family").getComponent(n.ArmatureDisplay).playAnimation("Nope"),o._price.string=this.thisZombie.SUNCOST.toString(),o._plant.playAnimation(this.thisZombie.ZOMBIETYPE)},o(a,[{key:"ID",get:function(){return this.zID},set:function(e){this.zID=e}}]),a}(r))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/Cards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cardSelectAlmanac.ts","./UI.ts","./SunCount.ts","./CardUIUpper.ts","./CardFeatureTotal.ts","./Droppings.ts","./SeedChooser.ts","./SoundRescourses.ts","./levelController.ts","./Plants.ts","./NodePools.ts","./SandBoxLevelSettingWindow.ts","./CoinCollecterInGame.ts","./PlayerProperties.ts"],(function(t){var e,n,o,s,a,i,r,d,l,c,h,u,p,m,C,g,f,S,P,v,k,y,w,B,b,U,E,I,O,D,x,N,A,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,r=t.Prefab,d=t.Button,l=t.Node,c=t.Vec3,h=t.math,u=t.dragonBones,p=t.find,m=t.Label,C=t.tween,g=t.Sprite,f=t.Color,S=t.instantiate,P=t.Component},function(t){v=t.cardSelectAlmanac},function(t){k=t.UIInGame},function(t){y=t.SunCount},function(t){w=t.CardUIUpper},function(t){B=t.CardFeatureTotal},function(t){b=t.droppings},function(t){U=t.SeedChooser},function(t){E=t.sounds},function(t){I=t.LevelPlay},function(t){O=t.plants,D=t.PlantEnum},function(t){x=t.NodePools},function(t){N=t.SandBoxLevelSettingWindow},function(t){A=t.CoinCollecterInGame},function(t){M=t.AllPlayerProperties}],execute:function(){var T,_,F,L,G,W,J,z,R,j;a._RF.push({},"bb6235wi4BJZIjcgfvmWiuD","Cards",void 0);var H=i.ccclass,Y=i.property;t("Cards",(T=H("Cards"),_=Y(r),F=Y(d),L=Y(l),T(((j=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).maxSlotCount=0,e.seedPackets=[],e.cardSelection=[],e.cardSlot=[],e.ui=null,o(e,"seedBankPrefab",J,s(e)),e.seedBank=void 0,e.oldPos=new c(25,312,0),e.shown=!1,o(e,"gameStartButton",z,s(e)),e._gsbuttonOldPos=new c,e.fromCards=[],o(e,"cardButtons",R,s(e)),e.laid=!1,e.cardsUIUpper=[],e.gameStarted=!1,e}n(e,t);var a=e.prototype;return a.JudgeSelection=function(){for(var t=0;t<this.seedPackets.length;t++){var e=new h.Color(87,174,255,0),n=this.cardSlot[t].getComponent(w);n.mouseDownOff(),n.cooling>0&&(-3==this.ui.index&&(e=new h.Color(87,174,255,255)),n.mouseDownOn()),this.cardSelection[t].getComponent(u.ArmatureDisplay).color=e,this.JudgeCardsSelectable()}},a.cardSelect=function(){for(var t=0;t<this.seedPackets.length;t++)this.seedPackets[t].getComponent(v).index=this.ui.index==t?1:0,this.node.getChildByName(t.toString()).getComponent(w).chosen=this.ui.index==t},a.closeSeedbank=function(){this.seedBank&&x.destroyPooly(this.seedBank)},a.createSeedbank=function(){this.seedBank=x.instantiatePooly(this.seedBankPrefab);this.seedBank.getComponent(U);this.seedBank.parent=this.ui.UIUpper.getChildByName("seedbank"),this.seedBank.position=new c(0,-500,0)},a.onLoad=function(){this.oldPos=this.node.position.clone(),this.gameStarted=!1,this.ui=this.node.parent.getComponent(k);for(var t=0;t<8;t++)p("Canvas/UIInGameUpper/CardsUpper/Key"+t.toString()).getComponent(m).color=new h.Color(0,0,0,0);e.cardsController=this,this._gsbuttonOldPos=this.gameStartButton.node.position.clone(),this.gameStartButton.node.position.add(new c(0,-1e4,0))},a.showSeedSlots=function(){!this.shown&&this.maxSlotCount>0&&(A.component&&(A.component.show(),A.component.hidden=!1,A.component.showCD=1/0),this.shown=!0,C(this.node).to(.4,{position:this.oldPos},{easing:"cubicOut"}).start())},a.laySeedBank=function(){var t=this;E.playSeedChooserOn(),this.showSeedSlots(),this.gameStartButton.node.position=this._gsbuttonOldPos,k.uiingame.levelTaskShowerSlot&&(k.uiingame.levelTaskShowerSlot.active=!0),C(this.seedBank).to(.4,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){t.cardChooseOn()})).start()},a.pullSeedBank=function(t){var e=this;E.playSeedChooserOff(),this.cardButtons&&(this.cardButtons.active=!1);var n=[];this.seedPackets.forEach((function(t){var e=t.getComponent(B);n.push(e.ID)})),M.currentPlayer.memorySeedChoose=n,M.savePP(),this.gameStartButton.getComponent(g).color=new f(255,255,255,0),this.gameStartButton.node.position.add(new c(0,1e4,0)),C(this.seedBank).to(.8,{position:new c(0,-2e3,0)},{easing:"cubicIn"}).call((function(){t&&e.seedBank})).start()},a.judgeAllowed=function(t){var e=t.getComponent(v);(I.component.ExcludeListSunProducers&&-1!=t.thisPlant.TYPE.indexOf("sunProducer")||-1!=I.component.ExcludePlantList.indexOf(O.getPlantFeature(t.ID).CODENAME))&&(e.disallowed=1)},a.addMemoryCards=function(){var t,e=this;null==(t=M.currentPlayer)||null==(t=t.memorySeedChoose)||t.forEach((function(t){e.addCardByPlantEnumFromSeedbank(t)}))},a.cardChooseOn=function(){var t=this;this.gameStartButton.node.position=new c(380,-280,0),this.gameStartButton.getComponent(g).color=this.seedPackets.length==this.maxSlotCount?new f(255,255,255,255):new f(140,140,140,255),this.seedBank.getComponent(U).PlantsInCard.forEach((function(e){t.judgeAllowed(e),e.node.on(l.EventType.TOUCH_END,(function(n){t.addCard(e,!1,!1)}),t)})),this.addMemoryCards(),this.cardButtons&&(this.cardButtons.active=!0)},a.addCard=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=!0);var s=this.seedPackets.length+0,a=t.getComponent(v);if(!(a.disallowed>0)&&s<this.maxSlotCount&&!a.chosen){var i=S(t.node);i.setParent(this.cardSlot[s].getComponent(w).CardUpper,!1),i.worldPosition=t.node.worldPosition,i.worldScale=this.cardSlot[s].worldScale,i.getComponent(B).cardGrouper(t.ID),a.chosen=!0,this.fromCards.push(a),i.getComponent(v).seedChooserModeOn=!1,this.seedPackets.push(i),C(i).to(.3,{position:new c(0,0,0)},{easing:"cubicOut"}).call((function(){i.setParent(o.cardSlot[s],!1),i.once(l.EventType.MOUSE_DOWN,(function(t){o.spliceCard(i)}),o)})).start(),n&&E.playCardChosen(),a.disallowed=e?1:0,this.seedPackets.length==this.maxSlotCount&&(this.gameStartButton.getComponent(g).color=new f(255,255,255,255))}},a.addCardByPlantEnum=function(t){var e=this.seedPackets.length+0;if(e<this.maxSlotCount){var n=S(b.PlantSeedPacket);n.parent=this.cardSlot[e],n.worldScale=this.cardSlot[e].worldScale,n.getComponent(B).cardGrouper(t),this.seedPackets.push(n)}},a.addCardByPlantEnumFromSeedbank=function(t){var e=this,n=!1;this.seedBank.getComponent(U).PlantsInCard.forEach((function(o){n||o.ID==t&&(e.addCard(o),n=!0)}))},a.spliceAllCards=function(){var t=this;this.seedPackets.concat().forEach((function(e){t.spliceCard(e)}))},a.rechooseFromMemory=function(){this.spliceAllCards(),this.addMemoryCards()},a.spliceCard=function(t){var e=t.getComponent(v);if(!(I.letsRocked||e.disallowed>0)){E.playCardCancel();var n=this.seedPackets.indexOf(t),o=0;for(o=0;o<this.fromCards.length;o++)if(this.fromCards[o].getComponent(B).ID==t.getComponent(B).ID){this.fromCards[o].chosen=!1,this.fromCards.splice(o,1);break}t.destroy();for(var s=n;s<this.seedPackets.length;s++)this.seedPackets[s].parent!=this.cardSlot[s-1]&&(this.seedPackets[s].setParent(this.cardSlot[s-1],!0),C(this.seedPackets[s]).to(.3,{position:new c(0,0,0)},{easing:"cubicOut"}).start());this.seedPackets.splice(n,1),this.seedPackets.length!=this.maxSlotCount&&(this.gameStartButton.getComponent(g).color=new f(140,140,140,255))}},a.laySlots=function(){if(!this.laid){this.laid=!0;for(var t=1;t<this.maxSlotCount;t++){var e=S(this.node.getChildByName("0"));e.name=t.toString(),e.parent=this.node,this.cardSlot.push(e),this.cardSlot[t].getComponent(w).index=t;var n=e.getChildByName("PlantFoodSelection");this.cardSelection.push(n),n.getComponent(u.ArmatureDisplay).color=new f(255,255,255,0)}this.cardSelection.forEach((function(t){t.getComponent(u.ArmatureDisplay).playAnimation("Idle",1/0)}))}},a.start=function(){this.laid=!1,this.shown=!1,this.cardSlot.push(this.node.getChildByName("0")),this.cardSelection.push(this.node.getChildByName("0").getChildByName("PlantFoodSelection")),this.cardSelection[0].getComponent(u.ArmatureDisplay).color=new f(255,255,255,0),this.cardSlot[0].getComponent(w).index=0,this.node.position.add(new c(0,200,0)),this.node.on(l.EventType.MOUSE_WHEEL,this.onMouseScroll,this)},a.onDisable=function(){for(var t=0;t<this.seedPackets.length;t++)this.seedPackets[t].getComponent(d).enabled=!1,this.seedPackets[t].getComponent(v).enabled=!1},a.CoolStart=function(t){var e;null==(e=this.node.getChildByName(t.toString()))||e.getComponent(w).coolStart()},a.cardsUIUpperRestart=function(){this.cardsUIUpper.forEach((function(t){t.coolStart()}))},a.gameStart=function(){if(!this.gameStarted){this.gameStarted=!0;for(var t=0;t<this.seedPackets.length;t++){var e=this.node.getChildByName(t.toString()).getComponent(w);e.gameStart(),this.cardsUIUpper.push(e),this.seedPackets[t].off(l.EventType.MOUSE_DOWN),this.seedPackets[t].on(l.EventType.MOUSE_DOWN,this.ui.indexChange[t],this.ui)}this.cardSelection.forEach((function(t){t.setSiblingIndex(t.parent.children.length),t.getComponent(u.ArmatureDisplay).color=new f(255,255,255,0)})),this.JudgeCardsSelectable(),this.JudgeSelection()}},a.JudgeCardsSelectable=function(){for(var t=y.component.SunCount,e=0;e<this.cardsUIUpper.length;e++){var n;null==(n=this.cardsUIUpper[e])||n.setAffordable(t>=this.seedPackets[e].getComponent(B).thisPlant.SUNCOST||N.freePlant)}},a.cardsUpdate=function(t){this.cardsUIUpper.forEach((function(e){e.cardUpdate(t)}))},a.onMouseScroll=function(t){if(I.sandBoxModeOn&&I.gameStarted&&this.seedPackets.length){var e=this.seedPackets[0].getComponent(B),n=t.getScrollY()>0?-1:1,o=(e.ID+n)%D.amount;this.seedPackets.forEach((function(t,e){t.getComponent(B).cardGrouper(o+e)}))}},e}(P)).cardsController=void 0,J=e((W=j).prototype,"seedBankPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(W.prototype,"gameStartButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(W.prototype,"cardButtons",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=W))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/cardSelectAlmanac.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts"],(function(t){var e,i,o,s,n,h,a,l,r,c,d;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,s=t._decorator,n=t.Node,h=t.dragonBones,a=t.Label,l=t.Color,r=t.math,c=t.Component},function(t){d=t.LevelPlay}],execute:function(){var p;o._RF.push({},"824f019C59ESqoTIS6t819E","cardSelectAlmanac",void 0);var u=s.ccclass;s.property,t("cardSelectAlmanac",u("cardSelectAlmanac")(p=function(t){function o(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).index=void 0,e.indexPoint=void 0,e.affordable=void 0,e.cooling=void 0,e.selectable=void 0,e._disallowed=0,e._bg=void 0,e._boost=void 0,e._dots=void 0,e._plant=void 0,e._price=void 0,e._select=void 0,e._disallow=void 0,e.free=!1,e.seedChooserModeOn=!1,e.chosen=!1,e._suncostShown=!1,e.golden=!1,e.Dark=new l(140,140,140,255),e.Red=new r.Color(255,100,100,255),e.White=new r.Color(255,255,255,255),e.Transparent=new r.Color(255,255,255,0),e}e(o,t);var s=o.prototype;return s.onEnable=function(){this.node.on(n.EventType.MOUSE_ENTER,this.enter,this),this.node.on(n.EventType.MOUSE_LEAVE,this.leave,this),this.index=0,this.indexPoint=0,this._select.armatureName="selection",this._select.playAnimation("nope",-1)},s.onLoad=function(){this._disallow=this.node.getChildByName("Disallow").getComponent(h.ArmatureDisplay),this._boost=this.node.getChildByName("Background").getChildByName("Boost").getComponent(h.ArmatureDisplay),this._bg=this.node.getChildByName("Background").getComponent(h.ArmatureDisplay),this._dots=this.node.getChildByName("Dots").getComponent(h.ArmatureDisplay),this._plant=this.node.getChildByName("Plant").getComponent(h.ArmatureDisplay),this._price=this.node.getChildByName("Dots").getChildByName("Price").getComponent(a),this._select=this.node.getChildByName("Select").getComponent(h.ArmatureDisplay),this._disallow.playAnimation("nope",1)},s.onDisable=function(){this.node.off(n.EventType.MOUSE_ENTER,this.enter,this),this.node.off(n.EventType.MOUSE_LEAVE,this.leave,this)},s.PlantDark=function(){return!this.selectable},s.BKDark=function(){return!this.selectable||1==this.index},s.Selection=function(){return 1==this.index},s.Pointed=function(){return 1==this.indexPoint&&0==this.index&&this.selectable},s.SelectionAnimationName=function(){return this.Selection()?"select":this.Pointed()?"point":"nope"},s.enter=function(t){this.indexPoint=1},s.leave=function(t){this.indexPoint=0},s.inGameColor=function(){this._boost.color=this.BKDark()?this.Dark:this.White,this._bg.color=this.BKDark()?this.Dark:this.White,this._dots.color=this.BKDark()?this.Dark:this.White,this._plant.color=this.PlantDark()?this.Dark:this.White,this._price.color=this._suncostShown?this.affordable?this.White:this.Red:this.Transparent,this._select.playAnimation(this.SelectionAnimationName())},s.chooseSeedColor=function(){var t=this.chosen||this.disallowed>0;this._boost.color=t?this.Dark:this.White,this._bg.color=t?this.Dark:this.White,this._dots.color=t?this.Dark:this.White,this._plant.color=t?this.Dark:this.White,this._price.color=this._suncostShown&&0==this.disallowed?this.chosen?this.Dark:this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},s.commonColor=function(){this._boost.color=this.White,this._bg.color=this.White,this._dots.color=this.White,this._plant.color=this.White,this._price.color=this._suncostShown?this.White:this.Transparent,this._select.playAnimation(1==this.indexPoint?"point":this.Selection()?"select":"nope")},s.getSelectable=function(){return!this.cooling&&(this.affordable||this.free)&&0==this.disallowed},s.update=function(t){this.selectable=this.getSelectable(),d.gameStarted||d.component.lastStandPrepareStarted?this.inGameColor():this.seedChooserModeOn?this.chooseSeedColor():this.commonColor()},i(o,[{key:"disallowed",get:function(){return this._disallowed},set:function(t){this.suncostShown=!t;var e="nope";switch(t){case 1:e="disallow";break;case 2:e="lock_medium";break;case 3:e="lock_golden"}this._disallow.playAnimation(e,1),this._disallowed=t}},{key:"suncostShown",get:function(){return this._suncostShown},set:function(t){t?(this.free=!1,this._dots.playAnimation(this.golden?"dotsPricePrenium":"dotPrice")):(this.free=!0,this._dots.playAnimation("dotsNoPrice")),this._suncostShown=t}}]),o}(c))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/CardUIUpper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cards.ts","./cardSelectAlmanac.ts","./UI.ts","./PlantFoodCount.ts","./CardFeatureTotal.ts","./levelController.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts"],(function(o){var t,e,n,i,a,l,r,s,c,d,h,p,u,C,f,g,S,w,m,U,v,y,T,P,O,D,b;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,l=o._decorator,r=o.Node,s=o.Prefab,c=o.EventMouse,d=o.Button,h=o.Color,p=o.math,u=o.dragonBones,C=o.find,f=o.Label,g=o.instantiate,S=o.Sprite,w=o.Vec3,m=o.Component},function(o){U=o.Cards},function(o){v=o.cardSelectAlmanac},function(o){y=o.UIInGame},function(o){T=o.PlantFoodCount},function(o){P=o.CardFeatureTotal},function(o){O=o.LevelPlay},function(o){D=o.SandBoxLevelSettingWindow},function(o){b=o.SettingWindow}],execute:function(){var I,L,B,F,N,W,_;a._RF.push({},"8cfcd0rpYJLVIHfHUSKviCk","CardUIUpper",void 0);var k=l.ccclass,x=l.property;o("CardUIUpper",(I=k("CardUIUpper"),L=x(r),B=x(s),I((W=t((N=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return(t=o.call.apply(o,[this].concat(a))||this).CardUpper=null,n(t,"Mouse",W,i(t)),t.KeyTip=void 0,n(t,"COOL",_,i(t)),t.coolShadow=void 0,t.plantReady=void 0,t.chosen=void 0,t.cooling=0,t.affordable=void 0,t.coolTotalTime=5,t.index=-1,t.masked=!1,t.detecter=null,t.card=null,t}e(t,o);var a=t.prototype;return a.setAffordable=function(o){this.affordable=o,this.setUpperColor()},a.clearCool=function(o){o.getButton()==c.BUTTON_LEFT&&-3==y.index?this._clearCool():o.getButton()==c.BUTTON_MIDDLE&&-1==y.index&&(T.plantFoodNum>0||D.freePF?this._clearCool():T.plantfoodWarn())},a._clearCool=function(){this.coolShadow.fillRange=0,this.cooling=0,U.cardsController.JudgeSelection(),y.uiingame.tryChangingIndex(-1),T.component.plantFoodDec()},a.mouseDownOn=function(){var o;null==(o=this.coolShadow)||null==(o=o.node)||o.on(r.EventType.MOUSE_DOWN,this.clearCool,this)},a.mouseDownOff=function(){var o;null==(o=this.coolShadow)||null==(o=o.node)||o.off(r.EventType.MOUSE_DOWN,this.clearCool,this)},a.coolStart=function(o){if(void 0===o&&(o=1),D.noCDPlant)o=0;else if(O.component.lastStandPrepareStarted){o=0;var t=this.card.getComponent(P);0!=t.thisPlant.SUNCOST&&-1==t.thisPlant.TYPE.indexOf("lastStandDisallowed")||(o=1)}this.coolShadow.fillRange=o,this.coolTotalTime=this.card.getComponent(P).thisPlant.COOLDOWN,this.cooling=o*this.coolTotalTime,this.setUpperColor()},a.coolDown=function(o){O.gameStarted&&this.cooling>0&&(this.cooling-=o),(this.cooling<=0||D.noCDPlant)&&(this.cooling=0,this.setUpperColor(),U.cardsController.JudgeSelection()),this.coolShadow.fillRange=this.cooling/this.coolTotalTime;var t=this.card.getComponent(v);t.affordable=this.affordable,t.cooling=this.cooling>0&&!D.noCDPlant,this.card.getComponent(d).enabled=t.selectable},a.keyColor=function(){return b.showKeyTips?O.gameStarted||O.component.lastStandPrepareStarted?this.chosen?new p.Color(100,255,100,255):this.cooling>0?new p.Color(150,150,255,255):this.affordable?new p.Color(245,255,0,255):new p.Color(255,100,100,255):new h(255,255,255,0):new h(0,0,0,0)},a.setUpperColor=function(){this.plantReady&&(this.plantReady.getComponent(u.ArmatureDisplay).color=this.showPlantColor())},a.showPlantColor=function(){return this.masked&&!this.affordable||this.masked&&this.cooling>0?new p.Color(155,155,155,255):this.masked?new p.Color(255,255,255,255):new p.Color(255,255,255,0)},a.onLoad=function(){this.KeyTip=C("Canvas/UIInGameUpper/CardsUpper/Key"+this.node.name).getComponent(f),this.CardUpper=C("Canvas/UIInGameUpper/CardsUpper/"+this.node.name)},a.setDetecter=function(){},a.gameStart=function(){this.coolShadow||this.coolShade(),this.CardUpper.setWorldPosition(this.node.worldPosition),this.CardUpper.setWorldScale(this.node.worldScale),this.coolShadow&&this.coolStart(this.card.getComponent(P).thisPlant.COOLDOWNFROM)},a.coolShade=function(){var o=g(this.COOL);this.coolShadow=o.getComponent(S),this.card=U.cardsController.seedPackets[this.index],this.card.getChildByName("Dots").getChildByName("CooldownShade").addChild(o)},a.start=function(){},a.update=function(o){this.CardUpper.worldPosition=this.node.worldPosition,this.CardUpper.worldScale=this.node.worldScale},a.cardUpdate=function(o){this.card&&(this.coolDown(o),this.KeyTip.color=this.keyColor(),this.KeyTip.node.scale=this.chosen?new w(.7,.7):new w(.5,.5))},t}(m)).prototype,"Mouse",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(N.prototype,"COOL",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=N))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/cart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./SoundRescourses.ts","./NodePools.ts","./Square.ts"],(function(n){var o,i,t,e,r,a,s,l,c,u,p;return{setters:[function(n){o=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.AudioClip},function(n){l=n.Tile},function(n){c=n.sounds},function(n){u=n.ArrayGet},function(n){p=n.Square}],execute:function(){var v,d,f,h,m;r._RF.push({},"2c0a5vs5XdBwo47rnI22f8M","cart",void 0);var y=a.ccclass,C=a.property;n("cart",(v=y("cart"),d=C([s]),v((m=o((h=function(n){function o(){for(var o,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(o=n.call.apply(n,[this].concat(r))||this).inLnC=void 0,t(o,"moveSounds",m,e(o)),o}i(o,n);var r=o.prototype;return r.moveUp=function(){var n;0!=(null==(n=this.inLnC)||null==(n=n.rail)?void 0:n.pos)&&this.moveTo(this.inLnC.upper)},r.moveDown=function(){var n;2!=(null==(n=this.inLnC)||null==(n=n.rail)?void 0:n.pos)&&this.moveTo(this.inLnC.lower)},r.moveTo=function(n){var o;if(this.inLnC!=n&&(null==n||null==(o=n.rail)||!o.haveCartInLnC(n))){var i=!0,t=this.inLnC.getAllPlants().concat();t.forEach((function(n){i&&n.leapTween&&(i=!1)})),i&&(this.node.worldPosition=n.node.worldPosition,this.inLnC=n,t.forEach((function(o){o.leapTo(n,0,0,!1,!0)})),c.play(u.getRandom(this.moveSounds),.5),p.component.readIndex())}},o}(l)).prototype,"moveSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Lane.ts","./LnC.ts","./Square.ts","./shadeFloor.ts","./NodePools.ts","./FrontYard.ts","./levelController.ts"],(function(e){var i,t,n,o,a,s,h,r,d,l,c,u,g,f,S,w,y,p,L,C,P,k,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,h=e._decorator,r=e.CCFloat,d=e.Size,l=e.Node,c=e.dragonBones,u=e.Vec3,g=e.Color,f=e.tween,S=e.Vec2,w=e.Component},function(e){y=e.Lane},function(e){p=e.TileType},function(e){L=e.Square},function(e){C=e.shadeFloor},function(e){P=e.NodePools},function(e){k=e.FrontYard},function(e){b=e.LevelPlay}],execute:function(){var m,_,v,I,x,H,O,T,Y,A,X,F,D;s._RF.push({},"fb6fe2CvXNDDoGQaFJYhZZy","Character",void 0);var z=h.ccclass,q=h.property,E=e("CharacterScale",.45);e("CharacterType",function(e){return e[e.zombie=0]="zombie",e[e.plant=1]="plant",e[e.droppings=2]="droppings",e[e.projectle=3]="projectle",e[e.default=4]="default",e}({})),e("Character",(m=z("Character"),_=q(r),v=q({type:Boolean,visible:function(){return this.useShade}}),I=q(Boolean),x=q({type:d,visible:function(){return this.useShade}}),H=q({type:l,visible:function(){return this.useShade}}),m((Y=i((T=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(i=e.call.apply(e,[this].concat(a))||this).isGameLoseTriggerer=!1,n(i,"originalScale",Y,o(i)),i.disabled=!1,i.inLane=void 0,i.inLnC=void 0,i.db=null,i._worldPositionX=0,i._worldPositionY=0,i.shadeAlphaScale=1,i._height=0,i._maxShowShadeHeight=600,i.shadeHidden=!1,i.lIndex=-2,i.cIndex=-2,i.shadeCIndex=-2,n(i,"smartShadeHider",A,o(i)),i.shadeInLnC=void 0,i.lockLane=!1,i.fallingInSky=!1,i.flyingOnSky=!1,n(i,"useShade",X,o(i)),n(i,"originalShadeScale",F,o(i)),n(i,"shadeSocket",D,o(i)),i.shade=void 0,i.fadingAway=!1,i}t(i,e);var s=i.prototype;return s.onLoad=function(){this.shadeSocket||(this.shadeSocket=this.node),this.db=this.getComponent(c.ArmatureDisplay),this.disabled||this.characterOnLoad()},s.characterOnLoad=function(){},s.triggerGameLose=function(){},s.onEnable=function(){var e;this.isGameLoseTriggerer=!1,this.shadeHidden=!1,this.setLockLane(null),null==(e=this.db)||null==(e=e.color)||e.set(255,255,255,255),this.fadingAway=!1,this.node.worldScale=new u(E,E,E).multiplyScalar(this.originalScale),this.node.children.forEach((function(e){e.scale=new u(1,1,1)})),this.fallingInSky=!1,this.flyingOnSky=!1,this.cIndex=-2,this.lIndex=-2,this.disabled||(this.characterOnEnable(),this.useShade&&this.spawnShade(),this.inLane=L.getLane(-2).getComponent(y),this.inLnC=L.getLnC(-2,-2)),this.height=0},s.onDisable=function(){this.useShade&&this.shade&&(C.component.putShade(this.shade.node),this.shade=null),this.disabled||this.characterOnDisable()},s.characterOnEnable=function(){},s.characterOnDisable=function(){},s.setInLnC=function(e){var i=this.inLnC;this.inLnC=e,this.inLane=e.inLane,this.onLnCSet(i,e)},s.onLnCSet=function(e,i){},s.characterOnWPChange=function(){},s.characterOnSquareChange=function(e,i){},s.onSquareChange=function(e,i){this.fallingInSky||(this.inLnC=i,this.smartShadeHider&&this.shadeSocket||(this.shadeInLnC=i),this.characterOnSquareChange(e,i))},s.characterOnLaneChange=function(e,i){},s.onLaneChange=function(e,i){this.fallingInSky||(this.inLane=i,this.characterOnLaneChange(e,i))},s.judgeInLnC=function(){var e=this.lIndex+0,i=this.cIndex+0,t=this.getLaneIndex(),n=this.getColumnIndex();this.smartShadeHider&&this.shadeSocket&&(this.shadeInLnC=L.getLnC(this.lIndex,this.shadeCIndex)),this.lockLane||e==t||this.onLaneChange(L.getLaneComponent(e),L.getLaneComponent(t)),e==t&&i==n||this.onSquareChange(L.getLnC(e,i),L.getLnC(t,n))},s.getLaneIndex=function(){for(var e=this.shadeWorldPosition.y,i=L.SquareDisH,t=L.lawnRec.prjY().x,n=-1,o=0;o<5;o++)if(e>=t+o*i&&e<t+(o+1)*i){n=4-o;break}return e<t&&(n=5),this.lIndex=n,n},s.getColumnIndex=function(){for(var e=this._worldPosition.x,i=L.SquareDisW,t=L.lawnRec.prjX().x,n=-1,o=0;o<9;o++)if(e>=t+o*i&&e<t+(o+1)*i){n=o;break}if(e>=t+9*i&&(n=9),this.cIndex=n,this.smartShadeHider&&this.shadeSocket){for(var a=this.shadeSocket.worldPosition.x,s=-1,h=0;h<9;h++)if(a>=t+h*i&&a<t+(h+1)*i){s=h;break}a>=t+9*i&&(s=9),this.shadeCIndex=s}return n},s.setLockLane=function(e){e?(this.inLane=e,this.onLaneChange(L.getLane(-2).getComponent(y),e),this.lockLane=!0):this.lockLane=!1},s.characterOnTileTypeChange=function(e,i){},s.spawnShade=function(){var e=C.component;if(null!=e&&e.isValid){var i=e.giveShade();i.setWorldScale(this.originalShadeScale.width,this.originalShadeScale.height,0),i.parent=e.node,this.shade=i.getComponent(c.ArmatureDisplay),this.worldPosition=this._worldPosition,this.shade.color=new g(255,255,255,0)}},s.followShade=function(e){var i=e.getTileType();if(this.flyingOnSky=i==p.sky||i==p.sea,this.shade.node.worldPosition=new u(this.shadeSocket?this.shadeSocket.worldPosition.x:this._worldPosition.x,this._worldPosition.y),this.flyingOnSky||this.fallingInSky||this._height<-2||this.shadeHidden?this.shade.color=new g(0,0,0,0):this.shade.color=new g(255,255,255,(this.db?this.db.color.a:255)*this.shadeAlphaScale),this.useShade&&this.shade){var t=this._height;this.shadeSocket&&(t=this.shadeSocket.worldPosition.y-this._worldPosition.y),this.shade.node.setScale(this._maxShowShadeHeight>t?this.originalShadeScale.width*(this._maxShowShadeHeight-t)/this._maxShowShadeHeight*E*2:0,this._maxShowShadeHeight>t?this.originalShadeScale.height*(this._maxShowShadeHeight-t)/this._maxShowShadeHeight*E*2:0)}},s.update=function(e){if((!b.component.gameOver||this.isGameLoseTriggerer)&&!this.disabled){var i,t,n=null==(i=this.inLnC)?void 0:i.getTileType();this.judgeInLnC(),this.useShade&&this.shade&&this.followShade(this.smartShadeHider&&this.shadeSocket?this.shadeInLnC:this.inLnC),this.characterUpdate(e);var o=null==(t=this.inLnC)?void 0:t.getTileType();n!=o&&this.characterOnTileTypeChange(n,o)}},s.lateUpdate=function(e){this.characterLateUpdate(e)},s.characterUpdate=function(e){},s.characterLateUpdate=function(e){},s.fadeAway=function(){var e=this;this.fadingAway||this.fallingInSky||(this.fadingAway=!0,f(this.db?this.db.color:new g).to(.5,{a:0}).call((function(){e.onFadeEnd()})).start())},s.shrinkAway=function(){var e=this;this.fadingAway||this.fallingInSky||(this.fadingAway=!0,f(this.node).to(.5,{worldScale:new u(.01,.01,.01)},{easing:"quadIn"}).call((function(){e.onFadeEnd()})).start())},s.onFadeEnd=function(){P.destroyPooly(this.node)},s.fallInSky=function(e){var i=this;if(void 0===e&&(e=!0),!this.fallingInSky&&!this.fadingAway){this.fallingInSky=!0,this.height=0;var t=this.node.scale.clone();if(k.currentLawn.node.getChildByName("Lower")){var n=k.currentLawn.node.getChildByName("Lower");n.setWorldScale(1,1,1),this.node.setParent(n,!0)}var o=this.node.worldPosition,a=1+Math.random(),s=Math.random(),h=this;e&&f(h.node).by(a,{angle:180*(2-4*s)},{easing:"cubicIn"}).start(),f(h.node).to(a,{scale:new u(.01,.01,1)}).start(),f(h).to(a,{worldPositionX:o.x-(40+10*s),worldPositionY:o.y+(5*s-20)}).call((function(){i.node.active&&(i.node.scale=t,i.node.angle=0,i.node.worldPosition=new u(1e3,-1e3,0),P.destroyPooly(i.node),i.onSkyFallEnd())})).start()}},s.onSkyFallEnd=function(){P.destroyPooly(this.node)},a(i,[{key:"worldPositionX",get:function(){return this._worldPositionX},set:function(e){this._worldPositionX=e,this.node.worldPosition=new u(e,this._worldPositionY+this._height,10)}},{key:"worldPositionY",get:function(){return this._worldPositionY},set:function(e){this._worldPositionY=e,this.node.worldPosition=new u(this._worldPositionX,e+this._height,10)}},{key:"_worldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY)}},{key:"worldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY)},set:function(e){this.worldPositionX=e.x,this.worldPositionY=e.y}},{key:"shadeWorldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY)}},{key:"realWorldPosition",get:function(){return new S(this._worldPositionX,this._worldPositionY+this._height)}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.node.worldPosition=new u(this._worldPositionX,this._worldPositionY+e,10)}}]),i}(w)).prototype,"originalScale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=i(T.prototype,"smartShadeHider",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=i(T.prototype,"useShade",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=i(T.prototype,"originalShadeScale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(.25,.25)}}),D=i(T.prototype,"shadeSocket",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=T))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Zombies.ts","./Cards.ts","./SoundRescourses.ts","./levelController.ts"],(function(t){var n,o,i,e,s,r,h,a,c,u,l,p,d,y,x,f,P,m,w;return{setters:[function(t){n=t.createClass,o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,h=t._decorator,a=t.Vec2,c=t.find,u=t.Prefab,l=t.math,p=t.HALF_PI,d=t.Component},function(t){y=t.NodePools,x=t.ArrayGet},function(t){f=t.zombies},function(t){P=t.Cards},function(t){m=t.sounds},function(t){w=t.LevelPlay}],execute:function(){var g,M,v,I,L;r._RF.push({},"99347P29tZA8pn9lmrrqr47","CharacterManager",void 0);var b=h.ccclass,R=h.property,C=(t("Rectangle",function(){var t=n.prototype;function n(t,n,o,i){void 0===t&&(t=new a),void 0===n&&(n=new a),void 0===o&&(o=new a),void 0===i&&(i=new a),this.point1=new a(0,0),this.point2=new a(0,0),this.point3=new a(0,0),this.point4=new a(0,0),this.dot1=null,this.dot2=null,this.dot3=null,this.dot4=null,this.shown=!1,this.point1=t,this.point2=n,this.point3=o,this.point4=i}return t.prjX=function(){return Math.abs(this.point1.x-this.point3.x)<Math.abs(this.point2.x-this.point4.x)?new a(Math.min(this.point2.x,this.point4.x),Math.max(this.point2.x,this.point4.x)):new a(Math.min(this.point1.x,this.point3.x),Math.max(this.point1.x,this.point3.x))},t.prjY=function(){return Math.abs(this.point1.y-this.point3.y)<Math.abs(this.point2.y-this.point4.y)?new a(Math.min(this.point2.y,this.point4.y),Math.max(this.point2.y,this.point4.y)):new a(Math.min(this.point1.y,this.point3.y),Math.max(this.point1.y,this.point3.y))},t.hidePoints=function(){this.shown&&(this.shown=!1,y.destroyNodeArrayPooly([this.dot1,this.dot2,this.dot3,this.dot4]))},t.showPoints=function(){if(!this.shown){this.shown=!0;var t=c("CharacterManager").getComponent(H).debugDot,n=c("Canvas/UIInGameUpper/Debug");this.dot1=y.instantiatePooly(t),this.dot1.parent=n,this.dot1.setWorldPosition(this.point1.x,this.point1.y,0),this.dot2=y.instantiatePooly(t),this.dot2.parent=n,this.dot2.setWorldPosition(this.point2.x,this.point2.y,0),this.dot3=y.instantiatePooly(t),this.dot3.parent=n,this.dot3.setWorldPosition(this.point3.x,this.point3.y,0),this.dot4=y.instantiatePooly(t),this.dot4.parent=n,this.dot4.setWorldPosition(this.point4.x,this.point4.y,0)}},n.createRectangleNodeSide=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleSide(new a(e.x,e.y),n,o,i)},n.createRectangleNodeCenter=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleCenter(new a(e.x,e.y),n,o,i)},n.createRectangleNodeCorner=function(t,n,o,i){void 0===i&&(i=0);var e=t.worldPosition.clone();return this.createRectangleCorner(new a(e.x,e.y),n,o,i)},n.createRectangleSide=function(t,o,i,e){void 0===e&&(e=0);var s=new a(t.x,t.y-i/2),r=new a(s.x+o,s.y),h=new a(s.x,s.y+i),c=new a(h.x+o,h.y);return e&&(s=new a(t.x+i/2*Math.sin(e*l.HALF_PI/90),t.y-i/2*Math.cos(e*l.HALF_PI/90)),r=new a(s.x+o*Math.cos(e*l.HALF_PI/90),s.y+o*Math.sin(e*l.HALF_PI/90)),h=new a(s.x+i*Math.cos((e+90)*l.HALF_PI/90),s.y+i*Math.sin((e+90)*l.HALF_PI/90)),c=new a(h.x+o*Math.cos(e*l.HALF_PI/90),h.y+o*Math.sin(e*l.HALF_PI/90))),new n(s,r,c,h)},n.createRectangleCorner=function(t,o,i,e){void 0===e&&(e=0);var s=t,r=new a(s.x+o,s.y),h=new a(s.x,s.y+i),c=new a(h.x+o,h.y);return e&&(r=new a(s.x+o*Math.cos(e*l.HALF_PI/90),s.y+o*Math.sin(e*l.HALF_PI/90)),h=new a(s.x+i*Math.cos((e+90)*l.HALF_PI/90),s.y+i*Math.sin((e+90)*l.HALF_PI/90)),c=new a(h.x+o*Math.cos(e*l.HALF_PI/90),h.y+o*Math.sin(e*l.HALF_PI/90))),new n(s,r,c,h)},n.createRectangleCenter=function(t,o,i,e){void 0===e&&(e=0);var s=new a(t.x-o/2,t.y-i/2),r=new a(s.x+o,s.y),h=new a(s.x,s.y+i),c=new a(h.x+o,h.y);return e&&(s=new a(t.x+i/2*Math.sin(e*l.HALF_PI/90)-o/2*Math.cos(e*l.HALF_PI/90),t.y-i/2*Math.cos(e*l.HALF_PI/90)-o/2*Math.sin(e*l.HALF_PI/90)),r=new a(s.x+o*Math.cos(e*l.HALF_PI/90),s.y+o*Math.sin(e*l.HALF_PI/90)),h=new a(s.x+i*Math.cos((e+90)*l.HALF_PI/90),s.y+i*Math.sin((e+90)*l.HALF_PI/90)),c=new a(h.x+o*Math.cos(e*l.HALF_PI/90),h.y+o*Math.sin(e*l.HALF_PI/90))),new n(s,r,c,h)},t.judgeInRec=function(t,n,o){void 0===o&&(o=!1);var i=(t-this.point1.x)*(this.point4.x-this.point1.x)+(n-this.point1.y)*(this.point4.y-this.point1.y),e=(t-this.point2.x)*(this.point1.x-this.point2.x)+(n-this.point2.y)*(this.point1.y-this.point2.y),s=(t-this.point3.x)*(this.point2.x-this.point3.x)+(n-this.point3.y)*(this.point2.y-this.point3.y),r=(t-this.point4.x)*(this.point3.x-this.point4.x)+(n-this.point4.y)*(this.point3.y-this.point4.y);return o?i>=0&&e>=0&&s>=0&&r>=0:i>0&&e>0&&s>0&&r>0},t.judgeInRecP=function(t,n){return void 0===n&&(n=!1),!!t&&this.judgeInRec(t.x,t.y,n)},t.judgeInRecNode=function(t){return!!t&&this.judgeInRec(t.worldPosition.x,t.worldPosition.y)},t.judgeCrossLine=function(t){if(!t)return!1;var n=t.getP1(),o=t.getP2();return!(!this.judgeInRec(n.x,n.y)&&!this.judgeInRec(o.x,o.y))||!(!t.judgeCrossLine(new C(this.point1,this.point3))&&!t.judgeCrossLine(new C(this.point2,this.point4)))},t.judgeCrossRec=function(t){return!!t&&(!!(this.judgeInRecP(t.point1)||this.judgeInRecP(t.point2)||this.judgeInRecP(t.point3)||this.judgeInRecP(t.point4)||t.judgeInRecP(this.point1)||t.judgeInRecP(this.point2)||t.judgeInRecP(this.point3)||t.judgeInRecP(this.point4))||!(!new C(this.point1,this.point3).judgeCrossRec(t)&&!new C(t.point1,t.point3).judgeCrossRec(this)))},n}()),t("LineSegment",function(){var t=n.prototype;function n(t,n){this.point1=void 0,this.point2=void 0,this.point1=t,this.point2=n}return t.getP1=function(){return this.point1},t.getP2=function(){return this.point2},t.judgeCrossLine=function(t){var n=this.point1,o=this.point2,i=t.point1,e=t.point2;return!(Math.max(i.x,e.x)<Math.min(n.x,o.x)||Math.max(n.x,o.x)<Math.min(i.x,e.x)||Math.max(i.y,e.y)<Math.min(n.y,o.y)||Math.max(n.y,o.y)<Math.min(i.y,e.y))&&(!(a.cross(new a(n.x-e.x,n.y-e.y),new a(i.x-e.x,i.y-e.y))*a.cross(new a(o.x-e.x,o.y-e.y),new a(i.x-e.x,i.y-e.y))>=0)&&!(a.cross(new a(i.x-o.x,i.y-o.y),new a(n.x-o.x,n.y-o.y))*a.cross(new a(e.x-o.x,e.y-o.y),new a(n.x-o.x,n.y-o.y))>=0))},t.judgeCrossRec=function(t){return t.judgeCrossLine(this)},n.createLineLenRo=function(t,n,o){return void 0===o&&(o=0),this.createLineLenDir(t,n,new a(Math.cos(o/90*p),Math.sin(o/90*p)))},n.createLineLenDir=function(t,n,o){void 0===o&&(o=new a(1,0));var i=n*o.x/o.length(),e=n*o.y/o.length();return this.createLineVec(t,new a(i,e))},n.createLineVec=function(t,o){return new n(t,new a(t.x+o.x,t.y+o.y))},n}())),A=t("PlantPool",function(){function t(){}return t.pool=function(){return this.cm.plantPool},t.registerPlant=function(t){-1==this.cm.plantPool.indexOf(t)&&this.cm.plantPool.push(t)},t.deletePlant=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t.getPlantAmount=function(){var t=0;return this.cm.plantPool.forEach((function(n){t+=n.plantCount()})),t},t}());A.cm=null;var j=t("ZombiePool",function(){function t(){}return t.pool=function(){return this.cm.zombiePool},t.leftest=function(){var t=null,n=1/0;return this.pool().forEach((function(o){var i=o.bodyRec.prjX().x;n>i&&(t=o,n=i)})),t},t.inLawnPool=function(){return this.cm.zombieInLawnPool},t.registerZombie=function(t){-1==this.cm.zombiePool.indexOf(t)&&this.pool().push(t)},t.deleteZombie=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t}());j.cm=null;var _=t("TombPool",function(){function t(){}return t.pool=function(){return this.cm.tombPool},t.leftest=function(){var t=null,n=1/0;return this.pool().forEach((function(o){var i=o.bodyRec.prjX().x;n>i&&(t=o,n=i)})),t},t.registerTomb=function(t){-1==this.cm.tombPool.indexOf(t)&&this.pool().push(t)},t.deleteTomb=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t}());_.cm=null;t("Icetiles",function(){function t(){}return t.pool=function(){return c("CharacterManager").getComponent(H).Icepool},t.registerIce=function(t){this.pool().push(t)},t.deleteIce=function(t){var n=this.pool().indexOf(t);-1!=n&&this.pool().splice(n,1)},t}());var F=t("Umbrellas",function(){function t(){}return n(t,null,[{key:"umbrellas",get:function(){return this.cm.umbrellas},set:function(t){this.cm.umbrellas=t}}]),t}());F.cm=void 0;var H=t("CharacterManager",(g=b("CharacterManager"),M=R(u),g((L=o((I=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=t.call.apply(t,[this].concat(i))||this,e(n,"debugDot",L,s(n)),n.umbrellas=[],n.zombiePool=[],n.zombieInLawnPool=[],n.tombPool=[],n.plantPool=[],n.Icepool=[],n.groanCoolDown=0,n}i(n,t);var o=n.prototype;return o.playZombieGroan=function(t){if(this.zombiePool.length>0&&this.groanCoolDown<=0){var n=x.getRandom(this.zombiePool);n.groanSound.length>0?m.play(x.getRandom(n.groanSound)):f.playGroan(n.zombieGroanSoundGroup),this.groanCoolDown=2.5+5/this.zombiePool.length+3*Math.random()}this.groanCoolDown>0&&(this.groanCoolDown-=t)},o.update=function(t){this.characterManagerUpdate(t)},o.characterManagerUpdate=function(t){var n=[];this.zombiePool.forEach((function(t){t.isInLawn()&&n.push(t)})),this.zombieInLawnPool=n,w.gameStarted&&this.playZombieGroan(t),P.cardsController.cardsUpdate(t)},o.onLoad=function(){j.cm=this,A.cm=this,_.cm=this,F.cm=this,this.umbrellas=[],this.zombiePool=[],this.zombieInLawnPool=[],this.tombPool=[],this.plantPool=[],this.Icepool=[]},n}(d)).prototype,"debugDot",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=I))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/CherryBomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundsController.ts"],(function(e){var t,n,r,i,o,a,l,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.AudioClip},function(e){c=e.Plant},function(e){s=e.SoundFXController}],execute:function(){var u,h,p,d,y;o._RF.push({},"28eeb/RjZNKZ4IdgQM7o1OF","CherryBomb",void 0);var f=a.ccclass,b=a.property;e("CherryBombPlant",(u=f("CherryBombPlant"),h=b(l),u((y=t((d=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"chargeSound",y,i(t)),t}n(t,e);var o=t.prototype;return o.specialPlantOnEnable=function(){this.anmControl.playAnimation("Attack",1),this.deathAnm="",this.invincible=!0,this.foodable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1,this.chargeSound&&this.audioSource.playOneShot(this.chargeSound,s.SoundFXVolume)},o.animationListener=function(e){"explode"==e.name&&(this.inLnC.explodeCherry3x3(1800,!0),this.die())},t}(c)).prototype,"chargeSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ChickenZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SeagullZombieAshParticle.ts","./LnC.ts"],(function(e){var i,t,n,o,r;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator},function(e){o=e.SeagullZombieAshParticle},function(e){r=e.TileType}],execute:function(){var c;t._RF.push({},"247c6GMmBZKKJTzQFXNPP8w","ChickenZombieAshParticle",void 0);var l=n.ccclass;n.property,e("ChickenZombieAshParticle",l("ChickenZombieAshParticle")(c=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.playAsh=function(){var e,i="PlayFloor",t=null==(e=this.inLnC)?void 0:e.getTileType();this.height>5||t==r.sea||t==r.water||t==r.sky?i="PlaySky":Math.random()<.2&&(i="PlayFloorFried"),this.db.playAnimation(i)},t}(o))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ChiliBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./LnC.ts","./Square.ts","./chilibeanSound.ts"],(function(n){var t,o,i,a,e,r,l,u,s,c,h,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){e=n.cclegacy,r=n._decorator,l=n.CCInteger},function(n){u=n.PlantType,s=n.Plant},function(n){c=n.LnC},function(n){h=n.Square},function(n){p=n.chilibeanSound}],execute:function(){var d,f,m,y,C;e._RF.push({},"cf014IsRB1JJbt2+1GrtaDK","ChiliBean",void 0);var g=r.ccclass,P=r.property;n("ChiliBean",(d=g("ChiliBean"),f=P(l),d((C=t((y=function(n){function t(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return t=n.call.apply(n,[this].concat(e))||this,i(t,"maxFoodThrowAmount",C,a(t)),t}o(t,n);var e=t.prototype;return e.specialPlantOnEaten=function(n,t,o,i){i<=0&&t&&t.chilibeanFart()},e.onLeapEnd=function(){this.anmControl.playAnimation("FlyEnd",1),this.damagable=!0,this.getComponent(p).playLandSound()},e.onLeapStart=function(){this.anmControl.playAnimation("Flying",1/0)},e.specialPlantFood=function(n){this.anmControl.playAnimation("Food",1),this.getComponent(p).playFoodSound()},e.animationListener=function(n){"foodEnd"==n.name?this.foodEnd():"foodSpawn"==n.name&&this.throwChildren()},e.throwChildren=function(){for(var n=this,t=[],o=[],i=0;i<45&&t.length<this.maxFoodThrowAmount&&t.length+o.length<45;){var a=h.getRandomSquare().getComponent(c);-1==t.indexOf(a)&&-1==o.indexOf(a)&&(a.putPlantAvailable(this.TYPE,!0,this.ID)?t.push(a):o.push(a),i++)}t.forEach((function(t){var o=n.inLnC.spawnPlantByPlantEnum(n.ID);o&&(o.judgeInLnC(),o.node.setPosition(0,0,0),n.inLnC.pushPlant(o),o.plantType=u.plant,o.damagable=!1,o.leapTo(t,.8,200))}))},t}(s)).prototype,"maxFoodThrowAmount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),m=y))||m));e._RF.pop()}}}));

System.register("chunks:///_virtual/chilibeanSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts"],(function(n){var o,i,e,t,r,a,l,u;return{setters:[function(n){o=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.AudioClip},function(n){u=n.plantSound}],execute:function(){var c,d,p,s,f,h,S;r._RF.push({},"b1f9fG6H4BKBYSDaJ+AhW5o","chilibeanSound",void 0);var y=a.ccclass,b=a.property;n("chilibeanSound",(c=y("chilibeanSound"),d=b(l),p=b(l),c((h=o((f=function(n){function o(){for(var o,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return o=n.call.apply(n,[this].concat(r))||this,e(o,"landSound",h,t(o)),e(o,"foodSound",S,t(o)),o}i(o,n);var r=o.prototype;return r.playLandSound=function(){this.playOneShot(this.landSound)},r.playFoodSound=function(){this.playOneShot(this.foodSound)},o}(u)).prototype,"landSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=o(f.prototype,"foodSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=f))||s));r._RF.pop()}}}));

System.register("chunks:///_virtual/Chomper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./chomperSound.ts"],(function(t){var o,n,i,a,e,s,l,h,r,u,c,m,d,p,w,f;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){e=t.cclegacy,s=t._decorator,l=t.CCFloat,h=t.CCInteger,r=t.dragonBones,u=t.Vec2},function(t){c=t.Plant},function(t){m=t.Rectangle},function(t){d=t.Square},function(t){p=t.zombieDamageType},function(t){w=t.NodePools},function(t){f=t.chomperSound}],execute:function(){var g,y,C,A,S,b,D,P,E,R,k,x,M;e._RF.push({},"29a38fz79JLQoGFQUXPFiV2","Chomper",void 0);var v=s.ccclass,T=s.property;t("ChomperPlant",(g=v("ChomperPlant"),y=T(l),C=T(l),A=T(l),S=T(l),b=T(h),g((E=o((P=function(t){function o(){for(var o,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(o=t.call.apply(t,[this].concat(e))||this).detector=null,i(o,"attackDamage",E,a(o)),o.inMouthAmount=0,o.countDownBase=0,o.countDownExtra=0,i(o,"chewDuration",R,a(o)),i(o,"foodPullDuration",k,a(o)),o.pulling=0,i(o,"foodPushDuration",x,a(o)),o.pushing=0,i(o,"foodSwallowAmount",M,a(o)),o.foodSwallowTargets=[],o.foodSwallowedTargets=[],o.switching=!1,o}n(o,t);var e=o.prototype;return e.setDetector=function(t){this.detector=m.createRectangleNodeSide(t.node,2*d.SquareDisW,d.SquareDisH)},e.chompZombie=function(t){t.chompable_?(this.fooding||(t.easyToChomp_?this.anmControl.playAnimation("AttackEmpty",1):(this.anmControl.IdleAnim="Chewing",this.anmControl.RandomAnim=[],this.anmControl.playAnimation("AttackChewStart",1),this.inMouthAmount++,1==this.inMouthAmount?(this.countDownExtra=0,this.countDownBase=this.chewDuration):2==this.inMouthAmount&&(this.countDownExtra=this.countDownBase,this.countDownBase=this.chewDuration))),t.playDie(!0),w.destroyPooly(t.node)):(t.dealDamage(this.attackDamage,!1,!1,!1,null,p.physicle),this.fooding||this.anmControl.playAnimation("AttackEmpty",1))},e.specialPlantOnSquareChange=function(t,o){this.setDetector(o)},e.detectEnemy=function(){var t,o,n=this,i=!1;return this.inLane.zombiePool().forEach((function(t){var o;i||null!=(o=n.detector)&&o.judgeCrossRec(t.bodyRec)&&(i=!0)})),(null!=(t=this.inLnC)&&t.tombStone||null!=(o=this.inLnC.righter)&&o.tombStone)&&(i=!0),i},e.chompEnemy=function(){var t=this,o=null;this.inLane.zombiePool().forEach((function(n){var i;null!=(i=t.detector)&&i.judgeCrossRec(n.bodyRec)&&(!o||n.bodyRec.prjX().x<o.bodyRec.prjX().x)&&(o=n)})),o?this.chompZombie(o):(this.inLnC.tombStone&&!this.inLnC.tombStone.hidden?this.inLnC.tombStone.dealDamage(this.attackDamage):this.inLnC.righter.tombStone&&!this.inLnC.righter.tombStone.hidden&&this.inLnC.righter.tombStone.dealDamage(this.attackDamage),this.anmControl.playAnimation("AttackEmpty",1))},e.specialPlantFood=function(t){this.anmControl.playAnimation("FoodPullStart",2),this.getComponent(f).foodPullBegin(),this.inMouthAmount=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.pulling=0,this.pushing=0,this.foodSwallowTargets=[],this.foodSwallowedTargets=[]},e.specialPlantOnEnable=function(){var t=this;this.inMouthAmount=0,this.switching=!1,this.countDownBase=0,this.countDownExtra=0,this.pushing=0,this.pulling=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"],this.anmControl.body.on(r.EventObject.COMPLETE,(function(){t.switching=!1}),this)},e.animationListener=function(t){if("chomp"==t.name)this.chompEnemy(),this.getComponent(f).playChompSound();else if("judgeChew"==t.name){var o=2;this.countDownExtra<=0&&o--,this.countDownBase<=0&&o--,this.inMouthAmount=o,0==this.inMouthAmount&&(this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2","Rand3"])}else"pullBegin"==t.name?(this.pulling=this.foodPullDuration,this.anmControl.playAnimation("FoodPulling",1/0)):"pushStart"==t.name?(this.foodSwallowedTargets=[],this.pushing=this.foodPushDuration,this.anmControl.playAnimation("FoodPushing",1/0),this.getComponent(f).playFoodPushSound()):"foodEnd"==t.name?this.foodEnd():"switchEnd"==t.name?this.switching=!1:"chew"==t.name?this.getComponent(f).playChewSound():"scratch"==t.name?this.getComponent(f).playScratchSound():"chewStart"==t.name?this.getComponent(f).playChewStartSound():"swallow"==t.name?this.getComponent(f).playSwallowSound():"lick"==t.name?this.getComponent(f).playLickSound():"hiccup"==t.name&&this.getComponent(f).playHiccupSound()},e.waterable=function(){return!this.switching&&this.inMouthAmount<=0},e.attackAnimation=function(){this.switching=!0,this.anmControl.playAnimation("Attack",2,.1)},e.setSlots=function(){var t=this;["ARM1","ARM1_","HAND1","HAND1_"].forEach((function(o){t.anmControl.body.armature().getSlot(o)._setDisplayIndex(t.inMouthAmount>=1?0:-1)})),["ARM2","ARM2_","HAND2","HAND2_"].forEach((function(o){t.anmControl.body.armature().getSlot(o)._setDisplayIndex(t.inMouthAmount>=2?0:-1)}))},e.swallowAnimation=function(){this.switching=!0,this.anmControl.playAnimation("ChewEnd",1)},e.specialPlantUpdate=function(t){var o=this;if(this.setSlots(),this.inMouthAmount>0&&(this.countDownBase>0&&(this.countDownBase-=t),this.countDownBase<=0&&1==this.inMouthAmount&&(this.switching||this.swallowAnimation()),this.countDownExtra>0&&(this.countDownExtra-=t),this.countDownExtra<=0&&2==this.inMouthAmount&&(this.switching||this.swallowAnimation())),!this.fooding&&!this.switching&&this.inMouthAmount<2&&this.detectEnemy()&&this.attackAnimation(),this.fooding){if(this.pulling>0){if(this.pulling-=t,this.foodSwallowTargets.length<this.foodSwallowAmount-this.foodSwallowedTargets.length){var n=null;this.inLane.zombiePool().forEach((function(t){t.knockBackable&&-1==o.foodSwallowTargets.indexOf(t)&&(!n||n.bodyRec.prjX().x>t.bodyRec.prjX().x)&&t.bodyRec.prjX().y>o.node.worldPosition.x&&(n=t)})),n&&this.foodSwallowTargets.push(n)}this.foodSwallowTargets.concat().forEach((function(t){var n=o.foodSwallowTargets.indexOf(t);t.isAlive()||-1==n?(t.stun(.2),t.bodyRec.prjX().x<=o.node.worldPosition.x+15?(-1==o.foodSwallowedTargets.indexOf(t)&&(o.chompZombie(t),o.foodSwallowedTargets.push(t)),o.foodSwallowedTargets.length>=o.foodSwallowAmount&&(o.pulling=0)):t.knockBackBy(new u(-.4,0),!1)):o.foodSwallowTargets.splice(n,1)})),this.pulling<=0&&(this.getComponent(f).playFoodSwallowSound(),this.anmControl.playAnimation("FoodPullEndPushStart",2))}this.pushing>0&&(this.pushing-=t,this.inLane.zombiePool().forEach((function(t){t.knockBackable&&t.bodyRec.prjX().y>o.node.worldPosition.x&&t.knockBackBy(new u(.4,0),!1)})),this.pushing<=0&&this.anmControl.playAnimation("FoodPushEnd",1)),this.foodSwallowedTargets.concat().forEach((function(t){null!=t&&t.isAlive()&&(null==t||t.stun(.2))}))}},o}(c)).prototype,"attackDamage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),R=o(P.prototype,"chewDuration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 17}}),k=o(P.prototype,"foodPullDuration",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),x=o(P.prototype,"foodPushDuration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),M=o(P.prototype,"foodSwallowAmount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),D=P))||D));e._RF.pop()}}}));

System.register("chunks:///_virtual/chomperSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundsController.ts","./plantSound.ts"],(function(o){var n,t,i,e,u,l,r,a,c,d;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){u=o.cclegacy,l=o._decorator,r=o.AudioClip},function(o){a=o.ArrayGet},function(o){c=o.SoundFXController},function(o){d=o.plantSound}],execute:function(){var S,p,h,s,f,y,b,w,m,g,P,z,O,R,v,F,k,C,A,D,L,_,B,X,H,j,x;u._RF.push({},"d54c4dLtSBDY552sRgXA+o7","chomperSound",void 0);var G=l.ccclass,I=l.property;o("chomperSound",(S=G("chomperSound"),p=I(r),h=I(r),s=I([r]),f=I([r]),y=I([r]),b=I([r]),w=I([r]),m=I([r]),g=I([r]),P=I(r),z=I([r]),O=I(r),S((F=n((v=function(o){function n(){for(var n,t=arguments.length,u=new Array(t),l=0;l<t;l++)u[l]=arguments[l];return n=o.call.apply(o,[this].concat(u))||this,i(n,"foodPushSound",F,e(n)),i(n,"foodSwallowSound",k,e(n)),i(n,"chewSound",C,e(n)),i(n,"chompSound",A,e(n)),i(n,"swallowSound",D,e(n)),i(n,"chewStartSound",L,e(n)),i(n,"lickSound",_,e(n)),i(n,"hiccupSound",B,e(n)),i(n,"scratchSound",X,e(n)),i(n,"foodPullStartSound",H,e(n)),i(n,"foodPullSkillSound",j,e(n)),i(n,"foodPullingSound",x,e(n)),n}t(n,o);var u=n.prototype;return u.playFoodPushSound=function(){this.playOneShot(this.foodPushSound)},u.playFoodSwallowSound=function(){this.playOneShot(this.foodSwallowSound),this.stopFoodPull()},u.playChewSound=function(){this.playOneShot(a.getRandom(this.chewSound),.4)},u.playChompSound=function(){this.playOneShot(a.getRandom(this.chompSound))},u.playSwallowSound=function(){this.playOneShot(a.getRandom(this.swallowSound))},u.playChewStartSound=function(){this.playOneShot(a.getRandom(this.chewStartSound))},u.playLickSound=function(){this.playOneShot(a.getRandom(this.lickSound),.4)},u.playHiccupSound=function(){this.playOneShot(a.getRandom(this.hiccupSound))},u.playScratchSound=function(){this.playOneShot(a.getRandom(this.scratchSound),.4)},u.foodPullBegin=function(){var o=this;this.playOneShot(this.foodPullStartSound),this.playOneShotFromArray(this.foodPullSkillSound),this.audioSource.clip=this.foodPullingSound,this.scheduleOnce((function(){o.audioSource.play(),o.audioSource.volume=.5*c.SoundFXVolume,o.audioSource.loop=!0}),.3)},u.stopFoodPull=function(){this.audioSource.stop()},n}(d)).prototype,"foodPushSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(v.prototype,"foodSwallowSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(v.prototype,"chewSound",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(v.prototype,"chompSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(v.prototype,"swallowSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(v.prototype,"chewStartSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=n(v.prototype,"lickSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=n(v.prototype,"hiccupSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(v.prototype,"scratchSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(v.prototype,"foodPullStartSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(v.prototype,"foodPullSkillSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(v.prototype,"foodPullingSound",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=v))||R));u._RF.pop()}}}));

System.register("chunks:///_virtual/CoconutCannon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./coconutCannonSound.ts","./NodePools.ts","./commonShot.ts","./Peashooter.ts","./Character.ts"],(function(o){var n,t,i,e,a,s,l,r,p,h,c,u,d,m,C,f,y,w,S;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){a=o.cclegacy,s=o._decorator,l=o.CCFloat,r=o.Prefab,p=o.Node,h=o.AnimationComponent,c=o.Color,u=o.Vec2,d=o.Vec3},function(o){m=o.Plant},function(o){C=o.coconutCannonSound},function(o){f=o.NodePools},function(o){y=o.commonShot},function(o){w=o.peaShooter},function(o){S=o.CharacterType}],execute:function(){var g,P,b,D,v,A,F,j,z,R,_;a._RF.push({},"50720yK6odEMocWqgdyjOTQ","CoconutCannon",void 0);var L=s.ccclass,k=s.property;o("CoconutCannonPlant",(g=L("CoconutCannonPlant"),P=k(l),b=k(r),D=k(r),v=k(p),g((j=n((F=function(o){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n=o.call.apply(o,[this].concat(a))||this,i(n,"sleepDuration",j,e(n)),n.sleepCD=0,n.shooting=!1,i(n,"prj0",z,e(n)),i(n,"prjFood",R,e(n)),i(n,"peaSpawnpoint",_,e(n)),n}t(n,o);var a=n.prototype;return a.specialPlantOnEnable=function(){this.sleepCD=0},a.shootAnimation=function(o){void 0===o&&(o=!1),this.shooting=!0,this.anmControl.playAnimation(o?"Food":"Shoot",2),this.anmControl.IdleAnim="Sleep",this.anmControl.RandomAnim=[]},a.wake=function(){this.sleepCD=0,this.anmControl.playAnimation("Wake",1),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.getComponent(h).stop(),this.anmControl.body.color=new c(255,255,255,255)},a.specialPlantFood=function(o){this.wake(),this.shootAnimation(!0),this.getComponent(C).playFoodStartSound()},a.waterable=function(){return this.sleepCD<=0&&!this.shooting},a._shoot=function(o,n,t){void 0===o&&(o=this.prj0),void 0===n&&(n=35),void 0===t&&(t=new u(1,0));var i=f.instantiatePooly(o);if(i)return w.shootOnePea(i,new d(this.peaSpawnpoint.worldPosition.x,this.inLnC.plantPoint.worldPosition.y,0),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.node,t.normalize().multiplyScalar(n),S.zombie).getComponent(y)},a.animationListener=function(o){"Shoot"==o.name?(this.getComponent(C).playShootSound(!1),this._shoot()):"foodShoot"==o.name?(this.getComponent(C).playShootSound(!0),this._shoot(this.prjFood,10)):"sleepStart"==o.name?(this.anmControl.playRandom(),this.shooting=!1,this.sleepCD=this.sleepDuration,this.getComponent(h).play("plantCooldown")):"foodEnd"==o.name&&this.foodEnd()},a.specialPlantUpdate=function(o){this.sleepCD>0&&(this.getComponent(h).getState("plantCooldown").speed=this.sleepDuration/(this.sleepCD+.5),this.sleepCD-=o,this.sleepCD<=0&&this.wake())},a.specialPlantOnMouseDown=function(){var o=this.sleepCD<=0&&!this.shooting;return o&&this.shootAnimation(!1),o},n}(m)).prototype,"sleepDuration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),z=n(F.prototype,"prj0",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(F.prototype,"prjFood",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(F.prototype,"peaSpawnpoint",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=F))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/coconutCannonSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts"],(function(o){var n,t,e,i,r,u,a,l;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,u=o._decorator,a=o.AudioClip},function(o){l=o.plantSound}],execute:function(){var c,s,d,p,S,h,f,y,b;r._RF.push({},"57051LPg25GRLcXsVmpO7l9","coconutCannonSound",void 0);var g=u.ccclass,v=u.property;o("coconutCannonSound",(c=g("coconutCannonSound"),s=v(a),d=v(a),p=v(a),c((f=n((h=function(o){function n(){for(var n,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return n=o.call.apply(o,[this].concat(r))||this,e(n,"shootFoodSound",f,i(n)),e(n,"shootSound",y,i(n)),e(n,"foodStartSound",b,i(n)),n}t(n,o);var r=n.prototype;return r.playShootSound=function(o){void 0===o&&(o=!1),this.playOneShot(o?this.shootFoodSound:this.shootSound)},r.playFoodStartSound=function(){this.playOneShot(this.foodStartSound)},n}(l)).prototype,"shootFoodSound",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(h.prototype,"shootSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=n(h.prototype,"foodStartSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=h))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/coconutHeavy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Zombie.ts"],(function(e){var t,n,o,a,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},function(e){a=e.ProjectileEnemyType,i=e.commonShot},function(e){c=e.Zombie}],execute:function(){var l;n._RF.push({},"5e745SbVZdK75F64q70ZJjV","coconutHeavy",void 0);var r=o.ccclass;o.property,e("coconutHeavy",r("coconutHeavy")(l=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).ignited=!1,t}t(n,e);var o=n.prototype;return o.specialOnSquareChange=function(e,t){var n;t.cIndex>=8&&!this.ignited&&(this.ignited=!0,null==(n=this.db)||n.playAnimation("Explode",1))},o.animationListener=function(e){"pop"==e.name&&(this.dealSplashDamage(),this.pop())},o.characterOnEnable=function(){var e;this.initialize(),this.ignited=!1,null==(e=this.db)||e.playAnimation("Idle",1/0)},o.detectEnemy=function(e){var t,n,o=this;if(this.ignited&&(this.linearVelocity.x/=1.2),this.inLane)if(null!=(t=this.targetLocked)&&null!=(t=t.getComponent(c))&&t.dead&&(this.targetLocked=null),this.enemyType==a.zombie){var i,l,r=[];if(null==(i=this.inLane)||i.zombiePool().forEach((function(e){e.knockBackable&&(!o.targetLocked||o.targetLocked&&e.node==o.targetLocked)&&e.bodyRec.judgeCrossRec(o.bodyRec())&&r.push(e)})),r.length){var s=this.bodyRec().prjX().y;r.forEach((function(e){e.stun(.1),e.worldPositionX=s}))}var d=null;null==(l=this.inLane)||l.tombPool().forEach((function(e){e.bodyRec.judgeCrossRec(o.bodyRec())&&(!o.targetLocked||o.targetLocked&&e.node==o.targetLocked)&&(d=e)})),d&&(d.dealDamage(this.damage_*this.damageScale*(this.havePeaBuff?1.5:1)),this.dealSplashDamage(null,d),this.pop())}else this.enemyType==a.plant&&(null==(n=this.inLane)||n.plantPool().forEach((function(e){o.dead||e.bodyRec.judgeCrossRec(o.bodyRec())&&(!o.targetLocked||o.targetLocked&&e.node==o.targetLocked)&&(o.dealDamageToTargetPlant(e),o.pop())})))},n}(i))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./CoinCount.ts","./SoundRescourses.ts","./CoinCollecterInGame.ts"],(function(n){var o,e,t,i,r,u,c,a,l,p,s,d;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,c=n.CCInteger,a=n.AudioClip},function(n){l=n.dropping},function(n){p=n.CoinCount},function(n){s=n.sounds},function(n){d=n.CoinCollecterInGame}],execute:function(){var f,C,g,v,y,h,b;r._RF.push({},"7bbaalD+gRCfLw8Bg+Ymqwq","coin",void 0);var m=u.ccclass,I=u.property;n("coin",(f=m("coin"),C=I(c),g=I(a),f((h=o((y=function(n){function o(){for(var o,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return o=n.call.apply(n,[this].concat(r))||this,t(o,"value",h,i(o)),t(o,"dropSound",b,i(o)),o}e(o,n);var r=o.prototype;return r.specialOnGroundHit=function(){s.play(this.dropSound,1,0)},r.goToUIPath=function(){return"Canvas/UIInGameUpper/CurrencyCount/CoinSlot"},r.specialGoToUI=function(n){var o;d.component.hidden=!1,null==(o=p.component)||o.addCoinCount(this.value)},o}(l)).prototype,"value",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),b=o(y.prototype,"dropSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/coinbag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelPrize.ts","./Sunflower.ts","./UI.ts","./SoundsController.ts","./SoundManager.ts"],(function(t){var n,e,o,i,r,c,l,a,u,s,f,p,y,h,d,w;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,l=t.CCInteger,a=t.tween,u=t.Vec3,s=t.Vec2,f=t.TWO_PI},function(t){p=t.levelPrize},function(t){y=t.sunflower},function(t){h=t.UIInGame},function(t){d=t.MusicController},function(t){w=t.MusicSortEnum}],execute:function(){var g,v,m,b,P;r._RF.push({},"513f5GsDYtP+7izCdr2puwc","coinbag",void 0);var _=c.ccclass,M=c.property;t("coinbag",(g=_("coinbag"),v=M(l),g((P=n((b=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,o(n,"coinAmount",P,i(n)),n}return e(n,t),n.prototype.collect=function(){var t=this;this.collectTween.push(a(this.node).to(.5,{scale:new u(0,0,0)},{easing:"quadOut"}).start());for(var n=f/3,e=function(){var e=n/2-n*o/(t.coinAmount-1),i=y.dropOneCoin(new s(t._worldPositionX,t._worldPositionY+t._height),2),r=new s(Math.sin(e),Math.cos(e)).multiplyScalar(7);i.linearVelocity=new s(r.x,0),i.bodyLinearVelocity=r.y,i.mouseListen=!1,a(i).to(1,{linearVelocity:new s(0,0),bodyLinearVelocity:0}).call((function(){i.collect()})).to(1,{}).call((function(){h.uiingame.victoryExit()})).start()},o=0;o<this.coinAmount;o++)e();d.switchMusicSort(w.Leave)},n}(p)).prototype,"coinAmount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),m=b))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/CoinCollecterInGame.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,n,i,s,h,r,l,a,c,d;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createClass},function(e){h=e.cclegacy,r=e._decorator,l=e.Node,a=e.Vec3,c=e.tween,d=e.Component}],execute:function(){var u,w,p,f,_,C;h._RF.push({},"60af0DVfxFNNroqRlBr7pKs","CoinCollecterInGame",void 0);var v=r.ccclass,y=r.property;e("CoinCollecterInGame",(u=v("CoinCollecterInGame"),w=y(l),u(((C=function(e){function o(){for(var o,t=arguments.length,s=new Array(t),h=0;h<t;h++)s[h]=arguments[h];return(o=e.call.apply(e,[this].concat(s))||this).oldPos=new a,o._hidden=!1,o._showTween=void 0,n(o,"shower",_,i(o)),o.showerOldPos=new a,o.showCD=0,o}t(o,e);var h=o.prototype;return h.onLoad=function(){o.component=this,this.oldPos=this.node.position.clone(),this.showerOldPos=this.shower.position.clone(),this.node.position.add(new a(0,-1e3,0))},h.show=function(){c(this.node).to(.5,{position:this.oldPos},{easing:"quadOut"}).start()},h.update=function(e){this.hidden||(this.showCD>0&&(this.showCD-=e),this.showCD<=0&&(this.hidden=!0))},s(o,[{key:"hidden",get:function(){return this._hidden},set:function(e){var o,t=this;if(this.showCD=5,!e&&this._hidden)null==(o=this._showTween)||o.stop(),this._showTween=c(this.shower).to(.5,{position:this.showerOldPos},{easing:"quadOut"}).call((function(){t._showTween=null})).start();else if(e&&!this._hidden){var n;null==(n=this._showTween)||n.stop(),this._showTween=c(this.shower).by(.5,{position:new a(0,-1e3,0)},{easing:"quadIn"}).call((function(){t._showTween=null})).start()}this._hidden=e}}]),o}(d)).component=void 0,_=o((f=C).prototype,"shower",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));h._RF.pop()}}}));

System.register("chunks:///_virtual/CoinCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(n){var o,t,e,i,r,u,c,a,l,s;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,c=n.AudioClip},function(n){a=n.CurrencyCount},function(n){l=n.AllPlayerProperties},function(n){s=n.sounds}],execute:function(){var p,C,d,f,h,y;r._RF.push({},"bd9abRbdZhOt51gHOg9m9Ia","CoinCount",void 0);var v=u.ccclass,P=u.property;n("CoinCount",(p=v("CoinCount"),C=P(c),p(((y=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return o=n.call.apply(n,[this].concat(r))||this,e(o,"coinCollectSound",h,i(o)),o}t(o,n);var r=o.prototype;return r.start=function(){this.shownValue=isNaN(l.currentPlayer.coin)?0:l.currentPlayer.coin,this.value=this._shownValue},r.addCoinCount=function(n){this.value+=n,s.play(this.coinCollectSound,1,.1)},r.decCoinCount=function(n){this.value-=n},r.buyCoin=function(){this.addCoinCount(1e4)},r.onValueSet=function(n){l.currentPlayer.coin=n,l.savePP()},r.onLoad=function(){o.component=this},o}(a)).component=void 0,h=o((f=y).prototype,"coinCollectSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/commonShot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Character.ts","./Zombie.ts","./Square.ts","./CharacterManager.ts","./ProjectileManager.ts","./Particles.ts","./LnC.ts","./Lane.ts","./SoundRescourses.ts","./levelController.ts","./ModernBalloonZombie.ts"],(function(e){var i,t,n,o,a,r,l,s,h,c,u,p,d,b,m,f,L,y,g,w,P,v,D,z,S,k,_,C,E,B,I,R;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,n=e.inheritsLoose,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.CCFloat,s=e.Size,h=e.Enum,c=e.Prefab,u=e.AudioClip,p=e.Vec3,d=e.Vec2,b=e.AudioSource,m=e.dragonBones},function(e){f=e.ArrayGet,L=e.NodePools},function(e){y=e.Character},function(e){g=e.zombiePoison,w=e.zombieDamageType,P=e.Zombie},function(e){v=e.Square},function(e){D=e.Rectangle,z=e.ZombiePool},function(e){S=e.projectile},function(e){k=e.particle},function(e){_=e.TileLiquidEnum,C=e.TileType},function(e){E=e.Lane},function(e){B=e.sounds},function(e){I=e.LevelPlay},function(e){R=e.ModernBalloonZombie}],execute:function(){var F,V,x,U,T,q,O,j,M,K,A,W,H,N,X,G,Y,Z,J,Q,$,ee,ie,te,ne,oe,ae,re,le,se,he,ce,ue,pe,de,be,me,fe,Le,ye,ge,we,Pe,ve,De,ze,Se,ke,_e,Ce,Ee,Be,Ie,Re,Fe,Ve,xe,Ue,Te,qe,Oe,je,Me,Ke,Ae,We,He,Ne,Xe,Ge,Ye,Ze,Je,Qe,$e,ei,ii,ti,ni,oi,ai,ri,li,si;a._RF.push({},"42744eKEFJOpYjpPM9vfXco","commonShot",void 0);var hi=r.ccclass,ci=r.property,ui=e("ProjectileType",function(e){return e[e.pea=0]="pea",e[e.boomerang=1]="boomerang",e}({})),pi=e("ProjectileEnemyType",function(e){return e[e.zombie=0]="zombie",e[e.plant=1]="plant",e[e.none=2]="none",e}({})),di=e("SplashDamage",(F=hi("splashDamage"),V=ci({type:l,visible:!0}),x=ci({type:s,visible:!0}),U=ci({type:l,visible:!0}),T=ci({type:l,visible:!0}),q=ci({type:l,visible:!0}),O=ci({type:g,visible:!0}),j=ci({type:l,visible:!0}),M=ci({type:l,visible:!0}),F((W=i((A=function(e,i,n,o,a,r,l,h){void 0===e&&(e=0),void 0===i&&(i=new s(0,0)),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===r&&(r=new g(0,0)),void 0===l&&(l=0),void 0===h&&(h=0),t(this,"splashDamage",W,this),t(this,"splashRange",H,this),t(this,"chillDuration",N,this),t(this,"freezeDuration",X,this),t(this,"butterDuration",G,this),t(this,"poison",Y,this),t(this,"stunDuration",Z,this),t(this,"knockbackDistance",J,this),this.splashDamage=e,this.butterDuration=a,this.splashRange=i,this.chillDuration=n,this.freezeDuration=o,this.poison=r,this.stunDuration=l,this.knockbackDistance=h}).prototype,"splashDamage",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=i(A.prototype,"splashRange",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,0)}}),N=i(A.prototype,"chillDuration",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=i(A.prototype,"freezeDuration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=i(A.prototype,"butterDuration",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=i(A.prototype,"poison",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(0,0)}}),Z=i(A.prototype,"stunDuration",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=i(A.prototype,"knockbackDistance",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=A))||K));h(w),h(_),h(ui);e("commonShot",(Q=hi("commonShot"),$=ci(Boolean),ee=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),ie=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),te=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),ne=ci({type:c,visible:function(){return this.canBeYellowIgnited&&this.showCommonShotFeaturesInEditor}}),oe=ci({type:c,visible:function(){return this.canBeBlueIgnited&&this.showCommonShotFeaturesInEditor}}),ae=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),re=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),le=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),se=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),he=ci({type:l,visible:function(){return this.showCommonShotFeaturesInEditor}}),ce=ci(s),ue=ci({type:[di],visible:function(){return this.showCommonShotFeaturesInEditor},displayName:"SplashDamage"}),pe=ci({type:_,visible:function(){return this.showCommonShotFeaturesInEditor}}),de=ci({type:l,visible:function(){return this.showCommonShotFeaturesInEditor}}),be=ci({type:w,visible:function(){return this.showCommonShotFeaturesInEditor}}),me=ci({type:g,visible:function(){return this.showCommonShotFeaturesInEditor}}),fe=ci({type:l,visible:function(){return this.showCommonShotFeaturesInEditor}}),Le=ci({type:l,visible:function(){return this.showCommonShotFeaturesInEditor}}),ye=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),ge=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),we=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),Pe=ci({type:l,visible:function(){return this.showCommonShotFeaturesInEditor}}),ve=ci({type:ui,visible:function(){return this.showCommonShotFeaturesInEditor}}),De=ci({type:[u],visible:function(){return this.showCommonShotFeaturesInEditor}}),ze=ci({type:[c],visible:function(){return this.showCommonShotFeaturesInEditor}}),Se=ci({type:l,min:0,visible:function(){return this.showCommonShotFeaturesInEditor}}),ke=ci({type:l,tooltip:"Stunning Delay",visible:function(){return this.showCommonShotFeaturesInEditor}}),_e=ci({type:l,tooltip:"Butter Delay",visible:function(){return this.showCommonShotFeaturesInEditor}}),Ce=ci(l),Ee=ci({type:Boolean,visible:function(){return this.showCommonShotFeaturesInEditor}}),Q((Re=i((Ie=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,t(i,"showCommonShotFeaturesInEditor",Re,o(i)),t(i,"particleAtFoot",Fe,o(i)),t(i,"canBeYellowIgnited",Ve,o(i)),t(i,"canBeBlueIgnited",xe,o(i)),t(i,"yellowIgnited",Ue,o(i)),t(i,"blueIgnited",Te,o(i)),t(i,"armorKnockSound",qe,o(i)),t(i,"bodyKnockSound",Oe,o(i)),t(i,"armorProtection",je,o(i)),t(i,"onFire",Me,o(i)),t(i,"damageScale",Ke,o(i)),i.parentLock=!1,i.enemyType=pi.zombie,i.maxDistance=1/0,i.maxDistance_=1/0,t(i,"size",Ae,o(i)),i.size_=new s(12,12),i._bodyRec=new D,t(i,"splashDamages",We,o(i)),i.splashDamages_=[],t(i,"tileLiquid",He,o(i)),i.tileLiquid_=_.none,t(i,"tileLiquidDuration",Ne,o(i)),i.tileLiquidDuration_=0,t(i,"damageType",Xe,o(i)),t(i,"poison",Ge,o(i)),i.poison_=new g(0,0),t(i,"chill",Ye,o(i)),i.chill_=0,t(i,"freeze",Ze,o(i)),i.freeze_=0,t(i,"followRotation",Je,o(i)),t(i,"screenShaker",Qe,o(i)),t(i,"balloonKiller",$e,o(i)),t(i,"knockbackDistance",ei,o(i)),i.knockbackDistance_=0,t(i,"projectileType",ii,o(i)),t(i,"PopSound",ti,o(i)),t(i,"PopParticle",ni,o(i)),i.originalP=new p(0,0,0),t(i,"damage",oi,o(i)),i.damage_=0,t(i,"stun",ai,o(i)),i.stun_=0,t(i,"butter",ri,o(i)),i.butter_=0,t(i,"popSoundVolume",li,o(i)),i.havePeaBuff=!1,i.peaBuff=null,i.targetLocked=null,i.setLine=!0,i.detectEnemyOn=!0,i.acceleration=new d(0,0),i.deceleration=new d(0,0),i.linearVelocity=new d(0,0),i.bodyOmega=0,i.bodyLinearVelocity=0,i.gravity=0,t(i,"plantHeatOnPop",si,o(i)),i.switching=!1,i.dead=!1,i}n(i,e);var a=i.prototype;return a.copy=function(e,i,t,n,o,a,r,l,s,h){var c=this;void 0===i&&(i=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===r&&(r=!0),void 0===l&&(l=!0),void 0===s&&(s=!0),void 0===h&&(h=!0),this.enemyType=e.enemyType,e.havePeaBuff&&this.addPeaBuff(),i&&(this.damage_=e.damage_),this.splashDamages_=[],e.splashDamages_.forEach((function(e){var i=new di;i.splashDamage=e.splashDamage,i.splashRange=e.splashRange,t&&(i.chillDuration=e.chillDuration),n&&(i.freezeDuration=e.freezeDuration),o&&(i.stunDuration=e.stunDuration),r&&(i.knockbackDistance=e.knockbackDistance),l&&(i.butterDuration=e.butterDuration),s&&(i.poison=e.poison),c.splashDamages_.push(i)})),t&&(this.chill_=e.chill_),n&&(this.freeze_=e.freeze_),h&&(this.linearVelocity=e.linearVelocity.clone(),this.acceleration=e.acceleration.clone(),this.deceleration=e.deceleration.clone(),this.gravity=e.gravity,this.bodyLinearVelocity=e.bodyLinearVelocity,this.height=e.height),o&&(this.stun_=e.stun_),a&&(this.tileLiquid_=e.tileLiquid_,this.tileLiquidDuration_=e.tileLiquidDuration_),r&&(this.knockbackDistance_=e.knockbackDistance_),l&&(this.butter_=e.butter_),s&&(this.poison_=e.poison_)},a.animationListener=function(e){},a.animationCompleteListener=function(){},a.bodyRec=function(){return this.dead?new D:this._bodyRec},a._setBodyRec=function(e,i){var t=i.clone().add(e.clone().negative()),n=e.clone().add(t.clone().multiplyScalar(.5));this._bodyRec=D.createRectangleCenter(n,Math.abs(t.x)+this.size_.width,Math.abs(t.y)+this.size_.height)},a.setSplashDamages=function(e){this.splashDamages_=e},a.setTileLiquid=function(e,i){this.tileLiquid_=e,this.tileLiquidDuration_=i},a.characterOnSquareChange=function(e,i){var t;if(this.maxDistance_--,this.maxDistance_<=-1&&this.fade(),this.onFire&&9!=i.cIndex&&-1!=i.cIndex&&i.iceTile)null==(t=i.iceTile)||t.die(),this.pop();else if(this.onFire&&9==i.cIndex&&this.inLane.iceTile){var n;null==(n=this.inLane.iceTile)||n.die(),this.pop()}this.specialOnSquareChange(e,i)},a.specialOnSquareChange=function(e,i){},a.setPoison=function(e,i){this.poison_=new g(e,i)},a.setChill=function(e){this.chill_=e},a.setFreeze=function(e){this.freeze_=e},a.dealSplashDamage=function(e,i){var t=this;void 0===e&&(e=null),this.splashDamages_.forEach((function(i){if(i.splashDamage>=0&&i.splashRange.width>0&&i.splashRange.height>0){var n=D.createRectangleCenter(new d(t.node.worldPosition.x,t.inLane.node.worldPosition.y),i.splashRange.width*v.SquareDisW,i.splashRange.height*v.SquareDisH),o=[],a=[];i.splashRange.height>9?o=z.pool().concat():i.splashRange.height>7?(o=t.inLane.zombiePool().concat(t.inLane.UpperLane.UpperLane.UpperLane.UpperLane.zombiePool(),t.inLane.UpperLane.UpperLane.UpperLane.zombiePool(),t.inLane.UpperLane.UpperLane.zombiePool(),t.inLane.UpperLane.zombiePool(),t.inLane.LowerLane.zombiePool(),t.inLane.LowerLane.LowerLane.zombiePool(),t.inLane.LowerLane.LowerLane.LowerLane.zombiePool(),t.inLane.LowerLane.LowerLane.LowerLane.LowerLane.zombiePool()),a=t.inLane.tombPool().concat(t.inLane.UpperLane.UpperLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.tombPool(),t.inLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.LowerLane.LowerLane.tombPool())):i.splashRange.height>5?(o=t.inLane.zombiePool().concat(t.inLane.UpperLane.UpperLane.UpperLane.zombiePool(),t.inLane.UpperLane.UpperLane.zombiePool(),t.inLane.UpperLane.zombiePool(),t.inLane.LowerLane.zombiePool(),t.inLane.LowerLane.LowerLane.zombiePool(),t.inLane.LowerLane.LowerLane.LowerLane.zombiePool()),a=t.inLane.tombPool().concat(t.inLane.UpperLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.tombPool(),t.inLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.LowerLane.tombPool())):i.splashRange.height>3?(o=t.inLane.zombiePool().concat(t.inLane.UpperLane.UpperLane.zombiePool(),t.inLane.UpperLane.zombiePool(),t.inLane.LowerLane.zombiePool(),t.inLane.LowerLane.LowerLane.zombiePool()),a=t.inLane.tombPool().concat(t.inLane.UpperLane.UpperLane.tombPool(),t.inLane.UpperLane.tombPool(),t.inLane.LowerLane.tombPool(),t.inLane.LowerLane.LowerLane.tombPool())):i.splashRange.height>1?(o=t.inLane.zombiePool().concat(t.inLane.UpperLane.zombiePool(),t.inLane.LowerLane.zombiePool()),a=t.inLane.tombPool().concat(t.inLane.UpperLane.tombPool(),t.inLane.LowerLane.tombPool())):(o=t.inLane.zombiePool().concat(),a=t.inLane.tombPool().concat());var r=[];o.forEach((function(e){n.judgeCrossRec(e.bodyRec)&&r.push(e)})),r.forEach((function(n){n!=e&&t.dealDamageToTarget(n,!1,i)})),a.forEach((function(e){i.splashDamage>0&&n.judgeCrossRec(e.bodyRec)&&e.dealDamage(i.splashDamage*(t.havePeaBuff?1.5:1)*t.damageScale)}))}}))},a.rotate=function(){if(this.followRotation){var e=this.linearVelocity;this.node.angle=Math.atan2(e.y+this.bodyLinearVelocity,e.x)/Math.PI*180}},a.hitFloor=function(e){this.enemyType!=pi.plant&&this.dealSplashDamage(),this.specialOnGroundHit(this.inLnC)&&this.pop()},a.hitBorderOrGround=function(e){if(!this.fallingInSky&&((this.shadeWorldPosition.x<=0&&this.linearVelocity.x<=0||this.shadeWorldPosition.x>=1200&&this.linearVelocity.x>=0||this.shadeWorldPosition.y<-100&&this.linearVelocity.y<=0||this.shadeWorldPosition.y>=700&&this.linearVelocity.y>=0)&&this.fade(),this.height<=0)){this.height=0;var i=this.inLnC.getTileType();i==C.sky?(this.linearVelocity=new d(0,0),this.acceleration=new d(0,0),this.deceleration=new d(0,0),this.gravity=0,this.fallInSky(!1),this.fade(!1)):i==C.sea?(this.linearVelocity=new d(0,0),this.acceleration=new d(0,0),this.deceleration=new d(0,0),k.spawnSeaSplash(this.inLane.LaneIndex,this.node.worldPosition),this.fade()):i==C.water?(k.spawnWaterSplash(this.inLane.LaneIndex,this.node.worldPosition),this.fade()):this.hitFloor(e)}},a.specialOnGroundHit=function(e){return!0},a.setKnockBack=function(e){return this.knockbackDistance_=e,this},a.setDamage=function(e){return this.damage_=e,this},a.setStun=function(e){return this.stun_=e,this},a.setButter=function(e){return this.butter_=e,this},a.playPopSound=function(){B.play(f.getRandom(this.PopSound),this.popSoundVolume,.1)},a.playParticle=function(){if(this.screenShaker&&I.shakeScreen(),this.PopParticle.length){var e;(e=L.instantiatePooly(f.getRandom(this.PopParticle))).parent=this.node.parent,e.setScale(this.linearVelocity.x>0?this.node.scale.x:-this.node.scale.x,this.node.scale.y);var i=this.realWorldPosition;e.setWorldPosition(this.particleAtFoot?new p(this._worldPositionX,this._worldPositionY):new p(i.x,i.y))}},a.selfDisable=function(e){"die"==e.name&&(this.linearVelocity=new d(0,0),this.bodyLinearVelocity=0,this.gravity=0,L.destroyPooly(this.node))},a.characterOnLoad=function(){this.getComponent(b)||this.addComponent(b),this.db.enableBatch=!0,this.db.on(m.EventObject.FRAME_EVENT,this.animationListener,this),this.db.on(m.EventObject.LOOP_COMPLETE,this.animationCompleteListener,this)},a.addPeaBuff=function(){this.havePeaBuff||this.peaBuff||(this.havePeaBuff=!0,this.peaBuff=L.instantiatePooly(k.prjPeaBuff()),this.peaBuff.parent=this.node)},a.initialize=function(){this.detectEnemyOn=!0,this.maxDistance_=this.maxDistance,this.switching=!1,this.size_=this.size,this.setKnockBack(this.knockbackDistance),this.setDamage(this.damage),this.setStun(this.stun),this.setButter(this.butter),this.setSplashDamages(this.splashDamages),this.poison_=this.poison,this.chill_=this.chill,this.freeze_=this.freeze,this._setBodyRec(new d,new d),this.dead=!1,this.parentLock=!1,this.tileLiquid_=this.tileLiquid,this.tileLiquidDuration_=this.tileLiquidDuration,-1!=this.db.armature().animation.animationNames.indexOf("Idle")&&this.db.playAnimation("Idle"),this.db.addEventListener(m.EventObject.FRAME_EVENT,this.selfDisable,this)},a.setLockParent=function(e){this.inLane&&this.inLane.deletePlantPrj(this),this.node.setParent(v.getLane(e).getComponent(E).prjLayer,!0);var i=v.getLane(e).getComponent(E);i.addPlantPrj(this),this.inLane=i,this.parentLock=!0},a.specialOnLaneChange=function(e,i){},a.characterOnLaneChange=function(e,i){this.parentLock||(this.node.setParent(i.prjLayer,!0),null==e||e.deletePlantPrj(this),null==i||i.addPlantPrj(this)),this.specialOnLaneChange(e,i)},a.characterOnEnable=function(){this.initialize()},a.characterOnDisable=function(){this.targetLocked=null,S.disableProjectile(this.node)},a.fade=function(e){void 0===e&&(e=!0),this.dead=e,this._setBodyRec(new d,new d),this.targetLocked=null,this.linearVelocity=new d(0,0),this.bodyLinearVelocity=0,this.gravity=0,this.acceleration=new d,this.deceleration=new d,this.havePeaBuff&&this.peaBuff&&(this.havePeaBuff=!1,L.destroyPooly(this.peaBuff),this.peaBuff=null)},a.onPop=function(){},a.pop=function(){var e;this.plantHeatOnPop&&(null==(e=this.inLnC)||e.plantHeat()),this.tileLiquid_>0&&this.tileLiquidDuration_>0&&this.inLnC.addTileLiquid(this.tileLiquid_,this.tileLiquidDuration_),this.playParticle(),this.playPopSound(),this.onPop(),this.fade()},a.dealDamageToTarget=function(e,i,t){var n;void 0===i&&(i=!0),void 0===t&&(t=null);var o=null;this.particleAtFoot?o=new d(e._worldPositionX-this._worldPositionX,e.zombieHeight).normalize().multiplyScalar(35):this.gravity>0&&this.damage>=40&&(o=new d(this.linearVelocity.x,this.bodyLinearVelocity)),t||(t=new di(this.damage_,new s,this.chill_,this.freeze_,this.butter_,this.poison_,this.stun_,this.knockbackDistance_)),i&&this.dealSplashDamage(e),e.knockBackable&&t.knockbackDistance&&e.knockBackBy(new d(t.knockbackDistance,0),!0,.1,!0,!1),t.stunDuration&&e.stun(t.stunDuration),this.balloonKiller&&i&&(null==e||null==(n=e.getComponent(R))||n.destroyBalloon()),t.butterDuration>0&&e.setButter(t.butterDuration),t.poison.isValid()&&e.setPoison(t.poison.DPS,t.poison.duration),t.chillDuration>0&&e.setChill(t.chillDuration),t.freezeDuration>0&&e.setFreeze(t.freezeDuration),t.splashDamage>0&&e.dealDamage(t.splashDamage*this.damageScale*(this.havePeaBuff?1.5:1),this.armorProtection,this.armorKnockSound,this.bodyKnockSound,o,this.damageType)},a.dealDamageToTargetPlant=function(e){e.dealDamage(this.damage*this.damageScale,this.bodyLinearVelocity<0?1:2)},a.detectEnemyNormal=function(e){var i,t,n=this;if(this.inLane&&this.detectEnemyOn)if(null!=(i=this.targetLocked)&&null!=(i=i.getComponent(P))&&i.dead&&(this.targetLocked=null),this.enemyType==pi.zombie){var o,a=null;if(null==(o=this.inLane)||o.zombiePool().forEach((function(e){var i;n.targetLocked&&(null==(i=a)?void 0:i.node)==n.targetLocked||e.bodyRec.judgeCrossRec(n.bodyRec())&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked)&&(!a||e.bodyRec.prjX().x<a.bodyRec.prjX().x)&&(a=e)})),a)this.dealDamageToTarget(a),this.pop();else{var r,l=null;null==(r=this.inLane)||r.tombPool().forEach((function(e){e.bodyRec.judgeCrossRec(n.bodyRec())&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked)&&(l=e)})),l&&(l.dealDamage(this.damage_*this.damageScale*(this.havePeaBuff?1.5:1)),this.dealSplashDamage(null,l),this.pop())}}else this.enemyType==pi.plant&&(null==(t=this.inLane)||t.plantPool().forEach((function(e){n.dead||e.bodyRec.judgeCrossRec(n.bodyRec())&&(!n.targetLocked||n.targetLocked&&e.node==n.targetLocked)&&(n.dealDamageToTargetPlant(e),n.pop())})))},a.detectEnemy=function(e){this.detectEnemyNormal(e)},a.move=function(e){var i=this.realWorldPosition.clone(),t=.5*e*60,n=.55*e*60,o=this.shadeWorldPosition,a=this.height,r=this.linearVelocity;if(this.bodyOmega&&(this.node.angle+=60*this.bodyOmega*e),this.worldPosition=new d(o.x+r.x*t,o.y+r.y*t),this.height=Math.max(a+this.bodyLinearVelocity*t,0),this.bodyLinearVelocity-=this.gravity*n,0!=this.acceleration.x||0!=this.acceleration.y){var l=this.linearVelocity.clone().add(this.acceleration.clone().multiplyScalar(60*e));Math.abs(l.x)<Math.abs(this.linearVelocity.x)&&(l.x=this.linearVelocity.x),Math.abs(l.y)<Math.abs(this.linearVelocity.y)&&(l.y=this.linearVelocity.y),this.linearVelocity=l}if(0!=this.deceleration.x||0!=this.deceleration.y){var s=this.linearVelocity.clone().add(this.deceleration.clone().multiplyScalar(60*e));s.x*this.linearVelocity.x<=0?s.x=0:Math.abs(s.x)>Math.abs(this.linearVelocity.x)&&(s.x=this.linearVelocity.x),s.y*this.linearVelocity.y<=0?s.y=0:Math.abs(s.y)>Math.abs(this.linearVelocity.y)&&(s.y=this.linearVelocity.y),this.linearVelocity=s}var h=this.realWorldPosition.clone();this._setBodyRec(i,h)},a.characterUpdate=function(e){this.dead||this.fallingInSky||(this.rotate(),this.switching||this.move(e),this.detectEnemy(e),this.hitBorderOrGround(e))},a.characterLateUpdate=function(){var e;this.dead&&(null==(e=this.inLane)||e.deletePlantPrj(this),L.destroyPooly(this.node))},i}(y)).prototype,"showCommonShotFeaturesInEditor",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fe=i(Ie.prototype,"particleAtFoot",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ve=i(Ie.prototype,"canBeYellowIgnited",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xe=i(Ie.prototype,"canBeBlueIgnited",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ue=i(Ie.prototype,"yellowIgnited",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=i(Ie.prototype,"blueIgnited",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=i(Ie.prototype,"armorKnockSound",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oe=i(Ie.prototype,"bodyKnockSound",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),je=i(Ie.prototype,"armorProtection",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Me=i(Ie.prototype,"onFire",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ke=i(Ie.prototype,"damageScale",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ae=i(Ie.prototype,"size",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(12,12)}}),We=i(Ie.prototype,"splashDamages",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=i(Ie.prototype,"tileLiquid",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.none}}),Ne=i(Ie.prototype,"tileLiquidDuration",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xe=i(Ie.prototype,"damageType",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.physicle}}),Ge=i(Ie.prototype,"poison",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(0,0)}}),Ye=i(Ie.prototype,"chill",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ze=i(Ie.prototype,"freeze",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Je=i(Ie.prototype,"followRotation",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qe=i(Ie.prototype,"screenShaker",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$e=i(Ie.prototype,"balloonKiller",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ei=i(Ie.prototype,"knockbackDistance",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ii=i(Ie.prototype,"projectileType",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ui.pea}}),ti=i(Ie.prototype,"PopSound",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ni=i(Ie.prototype,"PopParticle",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oi=i(Ie.prototype,"damage",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),ai=i(Ie.prototype,"stun",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ri=i(Ie.prototype,"butter",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),li=i(Ie.prototype,"popSoundVolume",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),si=i(Ie.prototype,"plantHeatOnPop",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Be=Ie))||Be));a._RF.pop()}}}));

System.register("chunks:///_virtual/Conveyor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundRescourses.ts","./SoundsController.ts","./Plants.ts","./CharacterManager.ts","./CardFeatureTotal.ts","./NodePools.ts","./Droppings.ts","./cardSelectAlmanac.ts","./UI.ts","./levelController.ts"],(function(t){var n,o,e,i,a,r,s,l,c,u,d,h,f,p,g,y,C,v,w,P,m,S,D,E,M,b,x;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,e=t.inheritsLoose,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,l=t.dragonBones,c=t.Vec3,u=t.tween,d=t.input,h=t.Input,f=t.AudioSource,p=t.EventMouse,g=t.KeyCode,y=t.Component},function(t){C=t.sounds},function(t){v=t.SoundFXController},function(t){w=t.PlantEnum},function(t){P=t.PlantPool},function(t){m=t.CardFeatureTotal},function(t){S=t.destroyPooly,D=t.NodePools},function(t){E=t.droppings},function(t){M=t.cardSelectAlmanac},function(t){b=t.UIInGame},function(t){x=t.LevelPlay}],execute:function(){var k,K,T,F,W,O,_,z,I,L,N,A,U,B,Y,R,X,V,Z,q,G,j,H;a._RF.push({},"0294doUe4ZF+59/PPrQglV6","Conveyor",void 0);var Q=r.ccclass,J=r.property,$=(t("ConveyorDropDelayCondition",(function(){this.Delay=0,this.MaxPackets=100})),t("ConveyorPlant",(function(){this.MaxCount=1/0,this.MaxWeightFactor=1,this.MinCount=-1,this.MinWeightFactor=1,this.PlantType=w.Peashooter,this.Weight=15})),t("ConveyorSpeedCondition",(function(){this.MaxPackets=0,this.Speed=100})),k=Q("Slot In Conveyor"),K=J(s),k((W=n((F=function(){this.card=null,o(this,"slot",W,this)}).prototype,"slot",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=F))||T);t("Conveyor",(O=Q("Conveyor"),_=J(l.ArmatureDisplay),z=J(l.ArmatureDisplay),I=J($),L=J($),N=J(s),A=J(s),U=J(s),O(((H=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this).dropDelayConditions=[],n.dropCountdown=0,n.plantList=[],n.speedConditions=[],o(n,"conveyor1",R,i(n)),o(n,"conveyor2",X,i(n)),o(n,"lane1slots",V,i(n)),o(n,"lane2slots",Z,i(n)),o(n,"lane1",q,i(n)),o(n,"lane2",G,i(n)),o(n,"cards",j,i(n)),n.shown=!1,n.audioSource=null,n.oldPos=new c,n.willKeychooseCard=void 0,n}e(n,t),n.createConveyor=function(){};var a=n.prototype;return a.show=function(){this.shown||(C.playConveyorArrive(),this.audioSource.play(),this.shown=!0,u(this.node).to(.4,{position:this.oldPos},{easing:"quadOut"}).start(),d.on(h.EventType.KEY_DOWN,this.onKeyDown,this))},a.hide=function(){this.shown&&(this.audioSource.stop(),this.shown=!1,u(this.node).by(.4,{position:new c(0,1e3,0)},{easing:"quadOut"}).start(),d.off(h.EventType.KEY_DOWN,this.onKeyDown,this))},a.addCard=function(t){this.plantList.push(t)},a.removeCard=function(t){var n=this;this.plantList.concat().forEach((function(o){if(o.PlantType==t){var e=n.plantList.indexOf(o);n.plantList.splice(e,1)}}))},a.onLoad=function(){this.dropCountdown=0,this.audioSource=this.getComponent(f),this.shown=!1,n.component=this,this.oldPos=this.node.position.clone(),this.node.position.add3f(0,1e3,0)},a.spliceCard=function(t){var n=this;if(null!=t){var o=!1;if(this.lane1slots.forEach((function(e){o||t==e.card&&(e.card.node.off(s.EventType.MOUSE_DOWN,n.cardMouseDown,n),S(e.card.node),e.card=null,o=!0)})),this.lane2slots.forEach((function(e){o||t==e.card&&(e.card.node.off(s.EventType.MOUSE_DOWN,n.cardMouseDown,n),S(e.card.node),e.card=null,o=!0)})),o){for(var e=0;e<this.lane1slots.length-1;e++)!this.lane1slots[e].card&&this.lane1slots[e+1].card&&(this.lane1slots[e].card=this.lane1slots[e+1].card,this.lane1slots[e+1].card=null);for(var i=0;i<this.lane2slots.length-1;i++)!this.lane2slots[i].card&&this.lane2slots[i+1].card&&(this.lane2slots[i].card=this.lane2slots[i+1].card,this.lane2slots[i+1].card=null);this.dropCountdown=Math.min(this.dropCountdown,this.getDelay()),this.willKeychooseCard=null}}},a.getCards=function(){var t=[];return this.lane1slots.concat(this.lane2slots).forEach((function(n){n.card&&t.push(n.card)})),t},a.chooseCard=function(t,n){b.uiingame.currentFreeSeedPacket!=t?(b.uiingame.currentFreeSeedPacket&&(b.uiingame.currentFreeSeedPacket.getComponent(M).index=0),b.uiingame.index=-1,b.uiingame.tryChangingIndex(-1),b.uiingame.currentFreeSeedPacket=t,n.index=1,b.uiingame.tryChangingIndex(8),this.willKeychooseCard=t):(b.uiingame.index=-1,b.uiingame.tryChangingIndex(-1))},a.sendPlant=function(t,n){if(null!=t){var o=this.lane2slots,e=this.lane2;1==n&&(o=this.lane1slots,e=this.lane1);for(var i=null,a=0;a<o.length;a++)if(null==o[a].card){i=o[a];break}if(!i)return;var r=D.instantiatePooly(E.PlantSeedPacket);r.parent=this.cards,r.worldPosition=e.worldPosition;var l=r.getComponent(m);l.cardGrouper(t);var c=l.getComponent(M);c.free=!0,c.suncostShown=!1,i.card=l,r.on(s.EventType.MOUSE_DOWN,this.cardMouseDown,this)}},a.cardMouseDown=function(t){if(t.getButton()==p.BUTTON_LEFT){var n=t.currentTarget.getComponent(M),o=n.getComponent(m);this.chooseCard(o,n)}},a.getRandomPlantByWeight=function(t,n){var o=this,e=null,i=[],a=0,r=P.pool().concat(),s=this.plantList.concat();this.schedule((function(){if(s[i.length]){var l=o.getPlantWeight(s[i.length],r);if(a+=l,i.push(a),i.length==s.length){for(var c=Math.random()*a,u=0;u<i.length;u++)if(c<i[u]){var d;e=null==(d=s[u])?void 0:d.PlantType,o.sendPlant(e,t<=n?1:2);break}o.dropCountdown=o.getDelay()}}}),.033,s.length,0)},a.getPlantWeight=function(t,n){if(t){var o=0;n.concat().forEach((function(e){if(!(o>=t.MaxCount)&&e.ID==t.PlantType){o+=e.plantCount();var i=n.indexOf(e);-1!=i&&n.splice(i,1)}})),o<t.MaxCount&&this.lane1slots.concat(this.lane2slots).forEach((function(n){var e;(null==n||null==(e=n.card)?void 0:e.ID)==t.PlantType&&o++}));var e=t.Weight+0;return o>=t.MaxCount&&(e*=t.MaxWeightFactor),o<=t.MinCount&&(e*=t.MinWeightFactor),e}},a.getDelay=function(){var t,n=0;this.lane1slots.concat(this.lane2slots).forEach((function(t){t.card&&n++}));var o=1/0,e=1/0,i=null==(t=this.dropDelayConditions)?void 0:t.concat();i||(i=[]);for(var a=0;a<i.length;a++)n<=i[a].MaxPackets&&o>i[a].MaxPackets&&(e=i[a].Delay,o=i[a].MaxPackets);return e},a.getSpeed=function(){if(!x.gameStarted||x.component.gameWon)return 0;var t=0;this.lane1slots.concat(this.lane2slots).forEach((function(n){n.card&&t++}));var n=100;return this.speedConditions.forEach((function(o){t>o.MaxPackets&&0<=o.MaxPackets&&(n=o.Speed)})),n},a.onKeyDown=function(t){if(t.keyCode==g.KEY_Z||t.keyCode==g.KEY_X){var n=this.getCards();if(0==n.length)return;if(8!=b.index)this.willKeychooseCard?this.chooseCard(this.willKeychooseCard,this.willKeychooseCard.getComponent(M)):this.chooseCard(n[0],n[0].getComponent(M));else if(this.willKeychooseCard){var o=n.indexOf(this.willKeychooseCard);t.keyCode==g.KEY_Z?o--:t.keyCode==g.KEY_X&&o++,o<0?o=n.length-1:o%=n.length,this.chooseCard(n[o],n[o].getComponent(M))}}},a.update=function(t){this.audioSource.volume=.05*v.SoundFXVolume;var n=this.getSpeed();if(n>0&&(this.dropCountdown>0&&(this.dropCountdown-=t),this.shown&&this.dropCountdown<=0)){var o=0;this.lane1slots.forEach((function(t){t.card&&o++}));var e=0;this.lane2slots.forEach((function(t){t.card&&e++})),this.dropCountdown=1/0,this.getRandomPlantByWeight(o,e)}this.conveyor1.timeScale=n/100,this.conveyor2.timeScale=n/100,n>0&&this.lane1slots.concat(this.lane2slots).forEach((function(o){if(null!=o.card&&o.card.node.worldPosition.x>o.slot.worldPosition.x){var e=o.card.node.worldPosition.clone();o.card.node.worldPosition=new c(e.x-t*n/1.85,o.slot.worldPosition.y,e.z)}}))},n}(y)).component=void 0,R=n((Y=H).prototype,"conveyor1",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=n(Y.prototype,"conveyor2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(Y.prototype,"lane1slots",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(Y.prototype,"lane2slots",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(Y.prototype,"lane1",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(Y.prototype,"lane2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(Y.prototype,"cards",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=Y))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyBasicZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundManager.ts","./NodePools.ts"],(function(n){var t,i,e,o,a,s,r,h,c,l,p,d,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized,a=n.createClass},function(n){s=n.cclegacy,r=n._decorator,h=n.Prefab,c=n.CCFloat,l=n.Vec3},function(n){p=n.Zombie},function(n){d=n.SoundManager},function(n){u=n.ArrayGet}],execute:function(){var b,g,m,w,y,f,H;s._RF.push({},"05629xIOKpOB4rSKMfv4RIu","CowboyBasicZombie",void 0);var L=r.ccclass,D=r.property;n("CowboyBasicZombie",(b=L("CowboyBasicZombie"),g=D(h),m=D(c),b((f=t((y=function(n){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=n.call.apply(n,[this].concat(a))||this,e(t,"zombieHat",f,o(t)),e(t,"dropHatHitPoint",H,o(t)),t._dancing=!1,t.oldAnmSpeed=1,t._haveHat=!0,t.oldPianoCountUp=0,t.laneChangeCD=7,t}i(t,n);var s=t.prototype;return s.specialZombieOnLoad=function(){this.oldAnmSpeed=this.anmSpeed},s.onArmorAdded=function(n){this.haveHat=!1},s.playSpecialZombieDieForced=function(){this.haveHat&&this.dropHat()},s.specialZombieOnEnable=function(){this.walking=!1,this.cowboyDancing=!1,this.playWalk(),this.armors.length<=0?this.haveHat=!0:this.haveHat=!1},s.dropHat=function(){this.drop(this.zombieHat,this.zombieHeight,new l(this.shadeSocket.worldPosition.x,this._worldPositionY,0),null,this.inLane.zombieLayer).setSiblingIndex(this.node.getSiblingIndex()-1),this.haveHat=!1},s.onDamaged=function(n,t,i){this.haveHat&&n>this.dropHatHitPoint&&t<=this.dropHatHitPoint&&this.dropHat()},s.switchUpperOrLower=function(){var n=this.inLane,t=[];(!n.UpperLane.isSea||this.cIndex<5)&&n.UpperLane.LaneIndex>=0&&t.push(n.UpperLane.LaneIndex),(!n.LowerLane.isSea||this.cIndex<5)&&n.LowerLane.LaneIndex<=4&&t.push(n.LowerLane.LaneIndex),t.length&&this.changeLaneTo(u.getRandom(t),.75)},s.specialZombieUpdate=function(n){if(this.cowboyDancing&&(d.component.pianoCountDown<=0||!this.enteredLawn)?this.cowboyDancing=!1:!this.cowboyDancing&&d.component.pianoCountDown>0&&this.enteredLawn&&(this.cowboyDancing=!0),this.cowboyDancing&&n>0){var t=d.component.pianoCountUp,i=Math.floor(this.oldPianoCountUp/this.laneChangeCD);Math.floor(t/this.laneChangeCD)!=i&&this.switchUpperOrLower(),this.oldPianoCountUp=d.component.pianoCountUp}},a(t,[{key:"haveHat",get:function(){return this._haveHat},set:function(n){var t;null==this||null==(t=this.db)||null==(t=t.armature())||null==(t=t.getSlot("hat_HEAD"))||t._setDisplayIndex(n?0:-1),this._haveHat=n}},{key:"cowboyDancing",get:function(){return this._dancing},set:function(n){this.body.WalkAnm=n?"Dance":"Walk",this.setRandomSpeed(this.squarePerSec*(n?1.2:1),n?0:.008),this.anmSpeed=this.oldAnmSpeed*(n?.9:1),this.walking&&(this.switching=!0,n&&!this._dancing?(this.walking=!1,this.body.playAnimation("DanceStart",1)):!n&&this._dancing&&(this.walking=!1,this.body.playAnimation("DanceEnd",1))),this._dancing=n}}]),t}(p)).prototype,"zombieHat",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(y.prototype,"dropHatHitPoint",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),w=y))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyBullZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./GargantuarZombie.ts","./Zombies.ts","./SoundRescourses.ts"],(function(t){var i,e,n,o,s,a,h,r,l,u,p,c,d,m,b,f,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,h=t._decorator,r=t.CCFloat,l=t.Node,u=t.AudioClip,p=t.Vec2},function(t){c=t.zombieDamageType,d=t.Zombie},function(t){m=t.ArrayGet},function(t){b=t.gargantuar},function(t){f=t.ZombieEnum},function(t){y=t.sounds}],execute:function(){var S,g,w,k,D,R,v,I,B,A,_,P,T,z,C,O,L,E,Z,x,W,F,j,N,M,Y,q,G,H,X,J;a._RF.push({},"fea8fAFgvNJ1Y47qh0sh1fb","CowboyBullZombie",void 0);var U=h.ccclass,V=h.property;t("CowboyBullZombie",(S=U("CowboyBullZombie"),g=V(r),w=V(l),k=V([u]),D=V([u]),R=V([u]),v=V([u]),I=V([u]),B=V([u]),A=V([u]),_=V([u]),P=V([u]),T=V([u]),z=V([u]),C=V(Boolean),S((E=i((L=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(i=t.call.apply(t,[this].concat(s))||this).blocked=!1,i.rushing=!1,i.impSlots=[],i.bp1Slots=[],i.bp2Slots=[],i._haveImp=!1,i.oldAnmSpeed=.35,n(i,"rushCountDown",E,o(i)),i.rushLeftTime=2,n(i,"impThrowPoint",Z,o(i)),n(i,"stepSounds",x,o(i)),n(i,"deathSounds",W,o(i)),n(i,"bullBrakeSounds",F,o(i)),n(i,"brakeSounds",j,o(i)),n(i,"impBrakeSounds",N,o(i)),n(i,"bullThrowSounds",M,o(i)),n(i,"impThrowSounds",Y,o(i)),n(i,"impSteadySounds",q,o(i)),n(i,"angrySounds",G,o(i)),n(i,"impCheerSounds",H,o(i)),n(i,"smashSounds",X,o(i)),n(i,"isBlackBull",J,o(i)),i.potatoMineDisappear=!1,i}e(i,t);var a=i.prototype;return a.chilibeanFart=function(){},a.detectPlant=function(t){var i=this;this.detectPlantOn()&&(this.rushing?this.inLane.plantPool().forEach((function(t){t.eaterDetectable&&t.bodyRec.judgeCrossRec(i.plantDetectorRec)&&(i.blocked=!0,i.switching=!0)})):this.defaultDetectPlant(t))},a.willTrampleFlower=function(){return!this.blocked},a.onDamaged=function(t,i,e){i<=0&&e==c.electricity&&(this.body.DeathAnm="Shock",y.playZombieShock(),this.haveImp=!1),i<=this.toughness/3?(this.bp1Slots.forEach((function(t){t._setDisplayIndex(-1)})),this.bp2Slots.forEach((function(t){t._setDisplayIndex(0)}))):i<=2*this.toughness/3&&i>this.toughness/3?(this.bp1Slots.forEach((function(t){t._setDisplayIndex(0)})),this.bp2Slots.forEach((function(t){t._setDisplayIndex(-1)}))):(this.bp1Slots.forEach((function(t){t._setDisplayIndex(-1)})),this.bp2Slots.forEach((function(t){t._setDisplayIndex(-1)})))},a.animationOnLPComplete=function(){this.blocked?this.rushing?(this.switching=!0,this.rushing=!1,this.body.playAnimation("RushEnd"),this.body.WalkAnm="Walk",this.setRandomSpeed(-2),this.anmSpeed*=-2):(this.blocked=!1,this.switching=!1,this.isAlive()&&(this.walking=!1,this.playWalk(),this.isBlackBull&&(this.rushLeftTime=3))):this.rushing&&this.isAlive()&&"Rush"!=this.body.currentAnimationName&&(this.walking=!1,this.playWalk())},a.specialZombieOnLoad=function(){var t=this;this.schedule((function(){t.rushing&&t.walking&&t.haveImp&&t.playOneShot(m.getRandom(t.impCheerSounds),1,!1)}),3,1/0,3),this.oldAnmSpeed=this.anmSpeed,this.body.body.armature().getSlots().forEach((function(i){i.name.includes("_bp1")?t.bp1Slots.push(i):i.name.includes("_bp2")?t.bp2Slots.push(i):i.name.includes("_IMP")&&t.impSlots.push(i)}))},a.specialZombieOnEnable=function(){this.blocked=!1,this.rushing=!1,this.haveImp=!0,this.rushLeftTime=this.rushCountDown,this.onDamaged(this.toughness,this.toughness,0),this.body.WalkAnm="Walk",this.anmSpeed=this.oldAnmSpeed,this.walking=!1,this.playWalk(),this.body.DeathAnm="Death"},a.rushStart=function(){this.walking=!1,this.switching=!0,this.rushing=!0,this.body.playAnimation("RushStart",1,.1),this.setRandomSpeed(this.isBlackBull?2:1),this.anmSpeed=2.2,this.body.WalkAnm="Rush",this.playOneShot(m.getRandom(this.angrySounds),1,!0),this.haveImp&&this.playOneShot(m.getRandom(this.impSteadySounds),1,!0)},a.specialZombieUpdate=function(t){this.enteredLawn&&this.walking&&this.rushLeftTime>0&&(this.rushLeftTime-=t,this.rushLeftTime<=0&&this.rushStart())},a.throwImp=function(){if(this.haveImp){this.haveImp=!1;var t=b.throwOneImpByLnC(f.cowboy_imp,this.inLane,new p(this.impThrowPoint.worldPosition.x,this._worldPositionY),new p(-4,0),this.impThrowPoint.worldPosition.y-this._worldPositionY,100,.7);t.body.playAnimation("FlyHorizontal"),t.tallNutBlock=!0}},a.specialAnimationListener=function(t){var i=this;if("step"==t.name)this.playOneShot(m.getRandom(this.stepSounds),this.rushing?1:.5,!1,.1);else if("deathSound"==t.name)this.playOneShot(m.getRandom(this.deathSounds),1.5,!0);else if("rushStart"==t.name)this.walking=!0,this.switching=!1;else if("rushEnd"==t.name)this.walking=!1,this.anmSpeed=this.oldAnmSpeed,this.setRandomSpeed(this.squarePerSec),this.playOneShot(m.getRandom(this.bullBrakeSounds),1,!0),this.haveImp&&this.playOneShot(m.getRandom(this.impBrakeSounds),1,!0);else if("throw"==t.name)this.haveImp&&this.playOneShot(m.getRandom(this.impThrowSounds),1,!0),this.throwImp(),this.playOneShot(m.getRandom(this.bullThrowSounds),1,!0);else if("impSteady"==t.name)this.haveImp&&this.playOneShot(m.getRandom(this.impSteadySounds),1,!0);else if("brakeSound"==t.name)this.playOneShot(m.getRandom(this.brakeSounds),1,!0);else if("smash"==t.name){if(!this.isBlackBull)return;var e=-1/0,n=null;this.inLane.plantPool().forEach((function(t){t.eaterDetectable&&t.bodyRec.judgeCrossRec(i.plantDetectorRec)&&t.bodyRec.prjX().y>e&&(n=t,e=t.bodyRec.prjX().y)})),n&&(n.smash(this,!1),this.playOneShot(m.getRandom(this.smashSounds),1,!0))}else"playDeath"==t.name&&(this.body.DeathAnm="Death",this.body.playAnimation("Death",1))},a.playSpecialZombieDie=function(t){this.judgeDeath()},s(i,[{key:"haveImp",get:function(){return this._haveImp},set:function(t){this.impSlots.forEach((function(i){i._setDisplayIndex(t?0:-1)})),this._haveImp=t}}]),i}(d)).prototype,"rushCountDown",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Z=i(L.prototype,"impThrowPoint",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(L.prototype,"stepSounds",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=i(L.prototype,"deathSounds",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=i(L.prototype,"bullBrakeSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(L.prototype,"brakeSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=i(L.prototype,"impBrakeSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(L.prototype,"bullThrowSounds",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=i(L.prototype,"impThrowSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=i(L.prototype,"impSteadySounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=i(L.prototype,"angrySounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(L.prototype,"impCheerSounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=i(L.prototype,"smashSounds",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(L.prototype,"isBlackBull",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=L))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyChickenFarmerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts","./SoundRescourses.ts","./levelController.ts","./NodePools.ts","./Square.ts","./ZombieAshParticle.ts"],(function(i){var e,n,t,c,a,h,o,r,s,l,u,k,g,b,p,C,f,m,y,d;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,c=i.assertThisInitialized,a=i.createClass},function(i){h=i.cclegacy,o=i._decorator,r=i.CCFloat,s=i.AudioClip,l=i.Prefab,u=i.Vec3},function(i){k=i.Zombie},function(i){g=i.zombies,b=i.ZombieEnum},function(i){p=i.sounds},function(i){C=i.LevelPlay},function(i){f=i.ArrayGet,m=i.instantiatePooly},function(i){y=i.Square},function(i){d=i.ZombieAshParticle}],execute:function(){var v,w,P,D,I,z,A,S,Z,_,L,V,F,x,H,T,W,E,R;h._RF.push({},"07616Qi3RtJuZypEQbqdFdj","CowboyChickenFarmerZombie",void 0);var q=o.ccclass,M=o.property,O=i("ChickenThrower",function(){function i(i,e,n,t,c,a,h){this.chickeningInterval=.2,this.chickeningIntervalVariance=.1,this.chickeningCD=0,this.chickeningLeftTime=2,this.x=500,this.lanes=[],this.zombie=b.cowboy_chicken,this.chickeningLeftTime=e+(1-2*Math.random())*n,this.chickeningInterval=t,this.chickeningIntervalVariance=c,this.zombie=i,this.x=h,a>=0&&a<=4&&this.lanes.push(a),a+1>=0&&a+1<=4&&this.lanes.push(a+1),a-1>=0&&a-1<=4&&this.lanes.push(a-1)}var e=i.prototype;return e.dealChickening=function(i){this.chickeningLeftTime<0||(this.chickeningLeftTime-=i,this.chickeningCD-=i,this.chickeningCD<0&&(this.chickeningCD=this.chickeningInterval+(1-2*Math.random())*this.chickeningIntervalVariance,this.spawnOneChicken()))},e.spawnOneChicken=function(){this.lanes.length>0&&(g.createZombie(f.getRandom(this.lanes),this.zombie).worldPositionX=this.x+(1-2*Math.random())*y.SquareDisW)},i}());i("CowboyChickenFarmerZombie",(v=q("CowboyChickenFarmerZombie"),w=M(r),P=M(r),D=M(r),I=M(r),z=M(r),A=M(s),S=M(l),Z=M(r),v((V=e((L=function(i){function e(){for(var e,n=arguments.length,a=new Array(n),h=0;h<n;h++)a[h]=arguments[h];return(e=i.call.apply(i,[this].concat(a))||this)._haveChicken=!0,e.chickenSlots=[],e.chicken=b.cowboy_chicken,t(e,"ChickeningDuration",V,c(e)),t(e,"ChickeningDurationVariance",F,c(e)),t(e,"ChickeningHealthPercentage",x,c(e)),t(e,"ChickeningInterval",H,c(e)),t(e,"ChickeningIntervalVariance",T,c(e)),t(e,"chickenActionSound",W,c(e)),t(e,"chickenAsh",E,c(e)),t(e,"chickeningHealthPercentage",R,c(e)),e}n(e,i);var h=e.prototype;return h.specialZombieOnEnable=function(){this.haveChicken=!0},h.specialZombieOnLoad=function(){var i=this;this.body.body.armature().getSlots().forEach((function(e){e.name.includes("_CHICK")&&i.chickenSlots.push(e)}))},h.throwChickens=function(){this.haveChicken&&(this.haveChicken=!1,p.play(this.chickenActionSound),C.component.chickenThrowers.push(new O(this.chicken,this.ChickeningDuration,this.ChickeningDurationVariance,this.ChickeningInterval,this.ChickeningIntervalVariance,this.lIndex,this.worldPositionX)))},h.killChickens=function(){if(this.haveChicken){this.haveChicken=!1,p.playBirdExpl();var i=m(this.chickenAsh);i.parent=this.inLane.zombieLayer,i.worldPosition=new u(this._worldPositionX,this._worldPositionY,10),i.scale=this.node.scale,i.getComponent(d).sky=!0}},h.specialAnimationListener=function(i){"chickenKill"==i.name&&this.killChickens()},h.onDamaged=function(i,e,n){this.haveChicken&&e<=this.toughness*this.chickeningHealthPercentage&&this.shouldSpeedScale()>0&&this.throwChickens()},a(e,[{key:"haveChicken",get:function(){return this._haveChicken},set:function(i){this.chickenSlots.forEach((function(e){e._setDisplayIndex(i?0:-1)}));var e="Walk";i&&(e="WalkWithChicken"),this.body.WalkAnm!=e&&(this.body.WalkAnm=e,this.walking&&(this.walking=!1,this.playWalk())),this._haveChicken=i}}]),e}(k)).prototype,"ChickeningDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),F=e(L.prototype,"ChickeningDurationVariance",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=e(L.prototype,"ChickeningHealthPercentage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),H=e(L.prototype,"ChickeningInterval",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),T=e(L.prototype,"ChickeningIntervalVariance",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),W=e(L.prototype,"chickenActionSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(L.prototype,"chickenAsh",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(L.prototype,"chickeningHealthPercentage",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),_=L))||_));h._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyChickenZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundRescourses.ts"],(function(e){var o,i,n,t,c;return{setters:[function(e){o=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator},function(e){t=e.Zombie},function(e){c=e.sounds}],execute:function(){var s;i._RF.push({},"401b5vPomZOgZO+KfsDroGM","CowboyChickenZombie",void 0);var r=n.ccclass;n.property,e("CowboyChickenZombie",r("CowboyChickenZombie")(s=function(e){function i(){return e.apply(this,arguments)||this}o(i,e);var n=i.prototype;return n.specialZombieOnEnable=function(){this.shadeAlphaScale=1},n.playSpecialZombieDie=function(e){this.judgeDeath(0),c.playBirdExpl(),this.shadeAlphaScale=0},i}(t))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts","./CharacterManager.ts","./Square.ts"],(function(e){var o,t,a,n,r,i,s,c,u,l,p,b;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,s=e.Node,c=e.Vec2},function(e){u=e.GargantuarZombie},function(e){l=e.ZombieEnum},function(e){p=e.Rectangle},function(e){b=e.Square}],execute:function(){var m,f,g,h,y;r._RF.push({},"3a6ba24zw9L3pITfKvBHcid","CowboyGargantuarZombie",void 0);var d=i.ccclass,w=i.property;e("CowboyGargantuarZombie",(m=d("CowboyGargantuarZombie"),f=w(s),m((y=o((h=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return o=e.call.apply(e,[this].concat(r))||this,a(o,"smashPoint",y,n(o)),o.impEnum=l.cowboy_imp,o}return t(o,e),o.prototype.onSmashing=function(){var e=p.createRectangleCenter(new c(this.smashPoint.worldPosition.x,this._worldPositionY),2*b.SquareDisW,b.SquareDisH);this.inLane.plantPool().forEach((function(o){o.bodyRec.judgeCrossRec(e)&&o.dealDamage(30,3)}))},o}(u)).prototype,"smashPoint",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=h))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ImpZombie.ts","./NodePools.ts"],(function(i){var t,n,o,e,r,a,c,l,s,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,o=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){r=i.cclegacy,a=i._decorator,c=i.AudioClip,l=i.dragonBones},function(i){s=i.ImpZombie},function(i){u=i.ArrayGet}],execute:function(){var d,p,h,b,m,y,f;r._RF.push({},"2ae07h5GHNKXbVqhGkOO/C8","CowboyImpZombie",void 0);var g=a.ccclass,w=a.property;i("CowboyImpZombie",(d=g("CowboyImpZombie"),p=w([c]),h=w([c]),d((y=t((m=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=i.call.apply(i,[this].concat(r))||this,o(t,"landSounds",y,e(t)),o(t,"blockSound",f,e(t)),t}n(t,i);var r=t.prototype;return r.onTallNutBlocked=function(){this.playOneShot(u.getRandom(this.landSounds),1,!1),this.body.playAnimation("Block",1)},r.specialZombieOnLanding=function(){var i=this;if(this.switching=!0,!this.dead){var t="Land";"FlyHorizontal"!=this.body.currentAnimationName&&"FlyVerticle"!=this.body.currentAnimationName&&"Block"!=this.body.currentAnimationName||(t="LandVerticle",this.playOneShot(u.getRandom(this.landSounds),1,!1)),this.body.playAnimation(t,1),this.switching=!0,this.walking=!1,this.db.once(l.EventObject.COMPLETE,(function(){i.switching=!1,i.dead||i.detectPlant(0)}),this)}},t}(s)).prototype,"landSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=t(m.prototype,"blockSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=m))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyPianoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./ZombieAshParticle.ts","./SoundRescourses.ts","./SoundManager.ts"],(function(i){var e,o,n,t,a,s,l,r,h,c;return{setters:[function(i){e=i.inheritsLoose},function(i){o=i.cclegacy,n=i._decorator,t=i.Vec3},function(i){a=i.zombieDamageType,s=i.Zombie},function(i){l=i.NodePools},function(i){r=i.ZombieAshParticle},function(i){h=i.sounds},function(i){c=i.SoundManager}],execute:function(){var u;o._RF.push({},"f6a88HXmKhKrI0YJeSxyjhX","CowboyPianoZombie",void 0);var d=n.ccclass;n.property,i("CowboyPianoZombie",d("CowboyPianoZombie")(u=function(i){function o(){for(var e,o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];return(e=i.call.apply(i,[this].concat(n))||this).pianoSlot=void 0,e._useToHaveArm=!0,e.chewSoundWhenEat=!1,e}e(o,i);var n=o.prototype;return n.playSpecialZombieDie=function(i){this.judgeDeath(0)},n.chilibeanFart=function(){},n.specialZombieOnEnable=function(){this.body.DeathAnm="Death",this._useToHaveArm=!0},n.specialZombieOnLoad=function(){this.pianoSlot=this.body.body.armature().getSlot("piano")},n.specialAnimationListener=function(i){if("walk"==i.name){var e,o="play0";this.haveArm||(this._useToHaveArm?(o="play_break",this._useToHaveArm=!1):o="play1"),null==(e=this.pianoSlot)||null==(e=e.childArmature)||null==(e=e.animation)||e.play(o)}},n.specialZombieUpdate=function(i){i>0&&this.enteredLawn&&(c.component.pianoCountDown=1)},n.playAsh=function(){if(!this.zombieAshParticle_)return null;var i=l.instantiatePooly(this.zombieAshParticle_);if(null!=i&&i.isValid){i.parent=this.node.parent,i.setSiblingIndex(this.node.getSiblingIndex()+1),i.worldPosition=new t(this.shadeSocket.worldPosition.x+20,this.body.body.node.worldPosition.y,1),i.scale=this.node.scale.clone().multiply(this.body.node.scale),this.body.DeathAnm="Death_Ash",this.playDie(!1,null,!0,a.fire,!1);var e=i.getComponent(r);return this.smartShadeHider?e.inLnC=this.shadeInLnC:e.inLnC=this.inLnC,e.height=this.height,e.playAsh(),this.isGargantuar&&h.playGargantuarAsh(),this.playSpecialZombieDieForced(),this.specialAshPlayed(e),e.db}},o}(s))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyPonchoZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts"],(function(t){var e,o,i,a,h,n,l,s,r,p,c,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,h=t.createClass},function(t){n=t.cclegacy,l=t._decorator,s=t.Prefab,r=t.CCFloat,p=t.Vec3},function(t){c=t.zombieDamageType,u=t.Zombie},function(t){d=t.instantiatePooly}],execute:function(){var P,b,v,y,f,g,H,_,m,w,S;n._RF.push({},"7a325jDWMVL3oYSU9abOjC3","CowboyPonchoZombie",void 0);var D=l.ccclass,k=l.property;t("CowboyPonchoZombie",(P=D("CowboyPonchoZombie"),b=k(s),v=k(r),y=k(r),f=k(s),P((_=e((H=function(t){function e(){for(var e,o=arguments.length,h=new Array(o),n=0;n<o;n++)h[n]=arguments[n];return(e=t.call.apply(t,[this].concat(h))||this).spawnPlateMode=-1,i(e,"ponchoBreakPar",_,a(e)),e.ponchoSlot=void 0,i(e,"ponchoToughness",m,a(e)),e._ponchoHealth=60,e._havePoncho=!1,e._havePlate=void 0,e.plateSlot=void 0,i(e,"plateToughness",w,a(e)),e._plateHealth=1100,i(e,"plateDrop",S,a(e)),e}o(e,t);var n=e.prototype;return n.specialZombieOnEnable=function(){-1==this.spawnPlateMode&&(this.spawnPlateMode=Math.round(Math.random())),this.spawnPlateMode?(this.havePlate=3,this.plateHealth=this.plateToughness):(this.havePlate=0,this.plateHealth=0),this.ponchoHealth=this.ponchoToughness},n.breakPoncho=function(){if(this.havePoncho){this.havePoncho=!1;var t=d(this.ponchoBreakPar);t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.setSiblingIndex(this.node.getSiblingIndex()+1)}},n.specialZombieOnLoad=function(){this.plateSlot=this.body.body.armature().getSlot("SHIELD"),this.ponchoSlot=this.body.body.armature().getSlot("PONCHO")},n.throwPlate=function(t){this.drop(this.plateDrop,this.height+this.zombieHeight/2,new p(this._worldPositionX,this._worldPositionY),t,this.inLane.prjLayer),this.plateHealth=0},n.dealDamage=function(t,e,o,i,a,h,n){void 0===t&&(t=0),void 0===e&&(e=!0),void 0===o&&(o=!0),void 0===i&&(i=!0),void 0===a&&(a=null),void 0===h&&(h=c.physicle),void 0===n&&(n=!0);var l=t;if(this.ponchoHealth>0&&e)l-=this.ponchoHealth,this.ponchoHealth-=t,o&&this.playHurtSound(),n&&(this.hurting=10);else{if(!(this.plateHealth>0&&e))return this.dealNormalDamage(t,e,o,!1,a,h,n);l-=this.plateHealth,this.plateHealth-=t,o&&this.playHurtSound(),n&&(this.hurting=10),this.plateHealth<=0&&this.throwPlate(a)}return l>0&&this.dealDamage(l,e,o,i,a,h,n),this.health},h(e,[{key:"ponchoHealth",get:function(){return this._ponchoHealth},set:function(t){t<=0?this.breakPoncho():this.havePoncho=!0,this._ponchoHealth=t}},{key:"havePoncho",get:function(){return this._havePoncho},set:function(t){var e;null==(e=this.ponchoSlot)||e._setDisplayIndex(t?0:-1),this._havePoncho=t}},{key:"havePlate",get:function(){return this._havePlate},set:function(t){var e,o,i,a;switch(this._havePlate=t,t){case 3:null==(e=this.plateSlot)||e._setDisplayIndex(0);break;case 2:null==(o=this.plateSlot)||o._setDisplayIndex(1);break;case 1:null==(i=this.plateSlot)||i._setDisplayIndex(2);break;default:null==(a=this.plateSlot)||a._setDisplayIndex(-1),this._havePlate=0}}},{key:"plateHealth",get:function(){return this._plateHealth},set:function(t){t<=0?this.havePlate=0:t<=this.plateToughness/3?this.havePlate=1:t<=2*this.plateToughness/3?this.havePlate=2:this.havePlate=3,this._plateHealth=t}}]),e}(u)).prototype,"ponchoBreakPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(H.prototype,"ponchoToughness",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),w=e(H.prototype,"plateToughness",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1100}}),S=e(H.prototype,"plateDrop",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=H))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/CowboyProspectorZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./NodePools.ts"],(function(e){var i,t,n,o,l,r,s,a,u,d,p,h,c,y,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass},function(e){r=e.cclegacy,s=e._decorator,a=e.AudioClip,u=e.CCFloat,d=e.Prefab,p=e.Vec3,h=e.Vec2},function(e){c=e.Zombie},function(e){y=e.Square},function(e){b=e.instantiatePooly}],execute:function(){var f,m,w,S,g,x,v,P,T,_,L,C,k,z,R,Z,O,A,F;r._RF.push({},"cb135QainNMWrbBPNRCFOSs","CowboyProspectorZombie",void 0);var E=s.ccclass,I=s.property;e("CowboyProspectorZombie",(f=E("CowboyProspectorZombie"),m=I(a),w=I(a),S=I(a),g=I(a),x=I(u),v=I(u),P=I(d),T=I(d),f((C=i((L=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return i=e.call.apply(e,[this].concat(l))||this,n(i,"landSound",C,o(i)),n(i,"explodeSound",k,o(i)),n(i,"explodeSaySound",z,o(i)),n(i,"igniteSound",R,o(i)),n(i,"explodeCountdown",Z,o(i)),i._explodeLeftTime=10,n(i,"stunTime",O,o(i)),i.tnt=void 0,i.ashSlots=[],i._dirty=!1,i.willReverse=!1,i._ignited=!0,n(i,"explSmokePar",A,o(i)),n(i,"smokeTailPar",F,o(i)),i}t(i,e);var r=i.prototype;return r.specialZombieOnLoad=function(){var e,i,t=this;this.tnt=null==(e=this.body)||null==(e=e.body)||null==(e=e.armature())||null==(e=e.getSlot("TNT"))?void 0:e.childArmature,this.ashSlots=[],null==(i=this.body)||null==(i=i.body)||null==(i=i.armature())||i.getSlots().forEach((function(e){e.name.includes("_ASH")&&t.ashSlots.push(e)})),this.schedule((function(){if(t.willReverse){var e=b(t.smokeTailPar);e.parent=t.node.parent,e.setSiblingIndex(0),e.worldPosition=new p(t._worldPositionX,t.body.node.worldPosition.y+20)}}),.05,1/0,.05)},r.specialZombieKnockbackable=function(){return!this.willReverse},r.specialZombieLeapable=function(){return!this.willReverse},r.specialZombieOnEnable=function(){this.dirty=!1,this.explodeLeftTime=this.explodeCountdown,this.willReverse=!1,this.ignited=!0},r.specialAnimationListener=function(e){if("explode"==e.name){var i=y.getLnC(0,0).node.worldPosition.x;this.leapTo(new h(i,this._worldPositionY),!0,1,300,!0,!1,!1),this.playOneShot(this.explodeSound,1,!0),this.playOneShot(this.explodeSaySound,1,!1),this.willReverse=!0,this.tnt.animation.play("Nothing"),this.dirty=!0;var t=b(this.explSmokePar);t.parent=this.node.parent,t.setSiblingIndex(0),t.worldPosition=new p(this._worldPositionX,this._worldPositionY)}},r.specialOnLeapEnd=function(){var e=this;this.willReverse&&(this.willReverse=!1,this.reversed=!0,this.body.playAnimation("FlyEnd",1),this.playOneShot(this.landSound,1,!0),this.scheduleOnce((function(){e.switching=!1,e.isAlive()&&e.playWalk()}),this.stunTime))},r.onChill=function(e){this.ignited=!1},r.onFrozen=function(e){this.ignited=!1},r.specialZombieUpdate=function(e){this.isInLawn()&&this.explodeLeftTime>0&&this.ignited&&(this.explodeLeftTime-=e,this.explodeLeftTime<=0&&(this.switching=!0,this.walking=!1,this.body.playAnimation("FlyStart",1)))},l(i,[{key:"dirty",get:function(){return this._dirty},set:function(e){this.ashSlots.forEach((function(i){null==i||i._setDisplayIndex(e?0:-1)})),this._dirty=e}},{key:"explodeLeftTime",get:function(){return this._explodeLeftTime},set:function(e){var i=e/this.explodeCountdown,t=this._explodeLeftTime/this.explodeCountdown;i>2/3&&t<=2/3?this.tnt.animation.play("Small"):i>1/3&&t<=1/3||i<=2/3&&t>2/3?(this.playOneShot(this.igniteSound,.5,!0),this.tnt.animation.play("Mid")):(i>0&&t<=0||i<=1/3&&t>1/3)&&this.tnt.animation.play("Big"),this._explodeLeftTime=e}},{key:"ignited",get:function(){return this._ignited},set:function(e){this.dirty||(e?(this.explodeLeftTime=this.explodeCountdown,this.tnt.animation.play("Small")):this.tnt.animation.play("Out")),this._ignited=e}}]),i}(c)).prototype,"landSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(L.prototype,"explodeSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(L.prototype,"explodeSaySound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(L.prototype,"igniteSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(L.prototype,"explodeCountdown",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),O=i(L.prototype,"stunTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.5}}),A=i(L.prototype,"explSmokePar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(L.prototype,"smokeTailPar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=L))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/CranJelly.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts","./Square.ts","./Character.ts","./Plant.ts"],(function(e){var t,n,r,a,i,o,l,s,c,u,h,f,p,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Prefab,s=e.Vec3,c=e.Vec2},function(e){u=e.peaShooter},function(e){h=e.NodePools},function(e){f=e.Square},function(e){p=e.CharacterType},function(e){y=e.Plant}],execute:function(){var P,b,d,v,C;i._RF.push({},"779f1NAnaNMAr0lVYwAL9er","CranJelly",void 0);var m=o.ccclass,J=o.property;e("CranJellyPlant",(P=m("CranJellyPlant"),b=J(l),P((C=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"CranJellyPrj",C,a(t)),t}n(t,e);var i=t.prototype;return i.animationListener=function(e){if("summon"==e.name){var t=h.instantiatePooly(this.CranJellyPrj);u.shootOnePea(t,new s(f.getSquareWorldPosition(0,0).x,this.inLane.floorY),-5,this.inLane.prjLayer,new c(15,0),p.zombie)}},i.specialPlantOnEnable=function(){var e=this;this.scheduleOnce((function(){e.die()}),0),this.foodable=!1,this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1},t}(y)).prototype,"CranJellyPrj",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=v))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/cranjellyProjectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./LnC.ts"],(function(e){var n,t,o,i,a,l,r,c,d,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.CCFloat},function(e){c=e.ProjectileEnemyType,d=e.commonShot},function(e){u=e.TileLiquidEnum}],execute:function(){var s,p,y,h,f;a._RF.push({},"11147O0PlhImq2C02SJplO+","cranjellyProjectile",void 0);var m=l.ccclass,g=l.property;e("cranjellyPrj",(s=m("cranjellyPrj"),p=g(r),s((f=n((h=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,o(n,"DPS",f,i(n)),n.defeatedCount=0,n}t(n,e);var a=n.prototype;return a.animationListener=function(e){var n;"playIdle"==e.name&&(this.switching=!1,null==(n=this.db)||n.playAnimation("Idle0",1/0))},a.animationCompleteListener=function(){var e;this.switching&&(this.switching=!1,null==(e=this.db)||e.playAnimation("Idle0",1/0))},a.detectEnemy=function(e){var n,t,o,i=this;this.enemyType==c.zombie?(null==(t=this.inLane)||t.zombiePool().concat().forEach((function(n){if((!i.targetLocked||(null==n?void 0:n.node)!=i.targetLocked)&&n.bodyRec.judgeCrossRec(i.bodyRec())){var t,o;n.dealDamage(i.DPS*e,i.armorProtection,i.armorKnockSound,i.bodyKnockSound,null,i.damageType,!0);var a=i.defeatedCount;n.isAlive()||(i.inLnC.addTileLiquid(u.cranJellyJuice,30),a++),i.defeatedCount<4&&a>=4&&(null==(t=i.db)||t.playAnimation("Idle1",1/0)),i.defeatedCount<8&&a>=8&&(null==(o=i.db)||o.playAnimation("Idle2",1/0)),i.defeatedCount=a}})),null==(o=this.inLane)||o.tombPool().concat().forEach((function(n){i.targetLocked&&(null==n?void 0:n.node)==i.targetLocked||n.bodyRec.judgeCrossRec(i.bodyRec())&&n.dealDamage(i.DPS*e)}))):this.enemyType==c.plant&&(null==(n=this.inLane)||n.plantPool().forEach((function(e){i.dead||e.bodyRec.judgeCrossRec(i.bodyRec())&&(!i.targetLocked||i.targetLocked&&e.node==i.targetLocked)&&(i.dealDamageToTargetPlant(e),i.pop())})))},a.pop=function(){},a.characterOnEnable=function(){var e;this.defeatedCount=0,this.initialize(),this.switching=!0,null==(e=this.db)||e.playAnimation("Start",1)},n}(d)).prototype,"DPS",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3e3}}),y=h))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/CurrencyCount.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,a,i,s,u,l,h,c,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){i=e.cclegacy,s=e._decorator,u=e.Label,l=e.CCInteger,h=e.UITransform,c=e.Vec3,f=e.tween,p=e.Component}],execute:function(){var w,b,m,g,v,y,d,C,_;i._RF.push({},"e6e50mmoUtIBoehQwOpMZPz","CurrencyCount",void 0);var L=s.ccclass,V=s.property;e("CurrencyCount",(w=L("CurrencyCount"),b=V(u),m=V(Boolean),g=V(l),w((d=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"showerLabel",d,o(t)),r(t,"thousandComma",C,o(t)),t._shownValue=0,r(t,"maxWidth",_,o(t)),t._value=0,t}return n(t,e),t.prototype.onValueSet=function(e){},a(t,[{key:"shownValue",get:function(){return this._shownValue},set:function(e){if(this._shownValue=e,this.showerLabel){var t=Math.round(e);if(this.thousandComma){for(var n=[];t>0;)n.push(t%1e3),t=Math.floor(t/1e3);var r="";0==Math.round(e)?r="0":n.reverse().forEach((function(e,t){for(var o=e.toString();0!=t&&o.length<3;)o="0"+o;r+=o,t!=n.length-1&&(r+=",")})),this.showerLabel.string=r}else this.showerLabel.string=Math.round(e).toString();var o=Math.min(1,this.maxWidth/this.showerLabel.getComponent(h).width);this.showerLabel.node.scale=new c(o,o,o)}}},{key:"value",get:function(){return this._value},set:function(e){this.onValueSet(e),Math.abs(e-this._value)<2?this.shownValue=e:f(this).to(.5,{shownValue:e}).start(),this._value=e}}]),t}(p)).prototype,"showerLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(y.prototype,"thousandComma",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=t(y.prototype,"maxWidth",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 170}}),v=y))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DoomShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./NodePools.ts","./levelController.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./SoundsController.ts"],(function(e){var o,n,i,t,r,a,l,c,s,u,L,p,h,m,d,f,b;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Color,c=e.Prefab,s=e.AudioClip,u=e.AudioSource},function(e){L=e.CherryBombPlant},function(e){p=e.NodePools},function(e){h=e.LevelPlay},function(e){m=e.Rectangle},function(e){d=e.Square},function(e){f=e.zombieDamageType},function(e){b=e.SoundFXController}],execute:function(){var P,C,S,w,y,g,D,z,U;r._RF.push({},"c950ccw81lBlqi8LDZMzMjh","DoomShroom",void 0);var v=a.ccclass,R=a.property;e("DoomShroomPlant",(P=v("DoomShroomPlant"),C=R(l),S=R(c),w=R(s),P((D=o((g=function(e){function o(){for(var o,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=e.call.apply(e,[this].concat(r))||this,i(o,"doomColor",D,t(o)),i(o,"doomParticle",z,t(o)),i(o,"doomSound",U,t(o)),o}return n(o,e),o.prototype.animationListener=function(e){if("explode"==e.name){var o=p.instantiatePooly(this.doomParticle);o.parent=this.inLane.prjLayer,o.worldPosition=this.node.worldPosition,h.shakeScreen(3),this.getComponent(u).playOneShot(this.doomSound,b.SoundFXVolume),h.screenFlashLeftColor=this.doomColor;var n=this.inLane.zombiePool().concat(this.inLane.UpperLane.UpperLane.UpperLane.zombiePool(),this.inLane.UpperLane.UpperLane.zombiePool(),this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool(),this.inLane.LowerLane.LowerLane.zombiePool(),this.inLane.LowerLane.LowerLane.LowerLane.zombiePool()),i=this.inLane.tombPool().concat(this.inLane.UpperLane.UpperLane.UpperLane.tombPool(),this.inLane.UpperLane.UpperLane.tombPool(),this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool(),this.inLane.LowerLane.LowerLane.tombPool(),this.inLane.LowerLane.LowerLane.LowerLane.tombPool()),t=[m.createRectangleNodeCenter(this.inLnC.node,7*d.SquareDisW,3*d.SquareDisH),m.createRectangleNodeCenter(this.inLnC.node,3*d.SquareDisW,7*d.SquareDisH),m.createRectangleNodeCenter(this.inLnC.node,5*d.SquareDisW,5*d.SquareDisH)],r=[],a=[];t.forEach((function(e){n.forEach((function(o){-1==r.indexOf(o)&&e.judgeCrossRec(o.bodyRec)&&r.push(o)})),i.forEach((function(o){-1==a.indexOf(o)&&e.judgeCrossRec(o.bodyRec)&&a.push(o)}))})),r.forEach((function(e){e.dealDamage(1800,!1,!1,!1,null,f.ray)})),a.forEach((function(e){e.dealDamage(1800)})),this.inLnC.getAllPlants().forEach((function(e){e.kill()})),this.die(),this.inLnC.crackleCountdown=180}},o}(L)).prototype,"doomColor",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),z=o(g.prototype,"doomParticle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(g.prototype,"doomSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Dragonbruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Character.ts","./Square.ts","./LnC.ts","./Zombie.ts","./NodePools.ts","./CabbagePult.ts","./dragonBruitSound.ts","./commonShot.ts","./Plants.ts"],(function(n){var t,e,o,i,a,r,s,l,c,u,h,d,b,p,y,f,g,m,P,L,C,j,R,v;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.Prefab,l=n.Node,c=n.Size},function(n){u=n.PlantType,h=n.Plant},function(n){d=n.ZombiePool,b=n.TombPool,p=n.Rectangle},function(n){y=n.CharacterType},function(n){f=n.Square},function(n){g=n.LnC},function(n){m=n.zombiePoison},function(n){P=n.NodePools},function(n){L=n.cabbagePult},function(n){C=n.dragonBruitSound},function(n){j=n.commonShot,R=n.SplashDamage},function(n){v=n.PlantEnum}],execute:function(){var w,S,E,z,O,A,D,I,x,X,_,k,F,M,N;a._RF.push({},"0b3b6C/ecFEMpYuW0VuFKGA","Dragonbruit",void 0);var B=r.ccclass,T=r.property;n("DragonbruitPlant",(w=B("Dragonbruit"),S=T(Number),E=T(s),z=T(s),O=T(s),A=T(s),D=T(l),w((X=t((x=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,o(t,"shootInterval",X,i(t)),o(t,"projectile0",_,i(t)),o(t,"projectile1",k,i(t)),o(t,"projectile2",F,i(t)),o(t,"projectileMega",M,i(t)),t.currentPrj=null,t.busy=0,t.ready=!1,t.readying=!0,o(t,"cabbageSpawnPoint",N,i(t)),t.shooting=!1,t.dropping=!1,t.detecter=null,t}e(t,n);var a=t.prototype;return a._shoot=function(n,t,e){var o=P.instantiatePooly(t);L.lobOneCabbageOnZombie(o,this.inLnC.plantPoint.worldPosition,this.cabbageSpawnPoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,n,2,y.zombie,e);var i=o.getComponent(j);return this.darkModeOn&&(i.setPoison(40,3),i.setSplashDamages([new R(50,new c(2,1),0,0,0,new m(40,3),0,0)])),this.shooting=!1,i},a._shootOnNode=function(n,t,e){var o=P.instantiatePooly(t);L.lobOneCabbageOnNode(o,this.inLnC.plantPoint.worldPosition,this.cabbageSpawnPoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y,this.inLane.prjLayer,n,2,y.zombie,e);var i=o.getComponent(j);return this.darkModeOn&&(i.setPoison(40,3),i.setSplashDamages([new R(50,new c(2,1),0,0,0,new m(40,3),0,0)])),this.shooting=!1,i},a.specialPlantFood=function(n){this.ready=!1,this.readying=!1,this.busy=1/0,this.getComponent(C).playFoodSound();var t=this.anmControl;t.playAnimation("Food",1),t.IdleAnim="Idle"},a.specialPlantFoodEnd=function(){this.busy=0},a.shootOnTarget=function(){var n,t,e,o=this,i=null,a=1/0;null==(n=this.inLane)||n.zombiePool().concat().forEach((function(n){n.bodyRec.prjX().x<a&&n.bodyRec.judgeCrossRec(o.detecter)&&(i=n,a=n.bodyRec.prjX().x)}));var r=null,s=1/0;null==(t=this.inLane)||null==(t=t.UpperLane)||t.zombiePool().concat().forEach((function(n){n.bodyRec.prjX().x<s&&n.bodyRec.judgeCrossRec(o.detecter)&&(r=n,s=n.bodyRec.prjX().x)}));var l=null,c=1/0;null==(e=this.inLane)||null==(e=e.LowerLane)||e.zombiePool().concat().forEach((function(n){n.bodyRec.prjX().x<c&&n.bodyRec.judgeCrossRec(o.detecter)&&(l=n,c=n.bodyRec.prjX().x)})),[l,i,r].forEach((function(n){n&&o._shoot(n,o.currentPrj,!1)}));var u=null;if(!r){var h,d=1/0;null==(h=this.inLane)||null==(h=h.UpperLane)||h.tombPool().concat().forEach((function(n){n.bodyRec.prjX().x<d&&n.bodyRec.judgeCrossRec(o.detecter)&&(u=n,d=n.bodyRec.prjX().x)}))}var b=null;if(!i){var p,y=1/0;null==(p=this.inLane)||p.tombPool().concat().forEach((function(n){n.bodyRec.prjX().x<y&&n.bodyRec.judgeCrossRec(o.detecter)&&(b=n,y=n.bodyRec.prjX().x)}))}var f=null;if(!l){var g,m=1/0;null==(g=this.inLane)||null==(g=g.LowerLane)||g.tombPool().concat().forEach((function(n){n.bodyRec.prjX().x<m&&n.bodyRec.judgeCrossRec(o.detecter)&&(f=n,m=n.bodyRec.prjX().x)}))}[f,b,u].forEach((function(n){n&&o._shootOnNode(n.node,o.currentPrj,!1)}))},a.shootOnAll=function(){var n=this;d.pool().concat().forEach((function(t){n._shoot(t,n.projectileMega,!0)})),b.pool().concat().forEach((function(t){n._shootOnNode(t.node,n.projectileMega,!0)}))},a.waterable=function(){return!(this.shooting||this.readying||this.ready||this.dropping)},a.babyAnimationListner=function(n){},a.spawnBabies=function(){for(var n=[],t=[],e=0;e<45&&n.length<3&&t.length+3<=45;){var o=f.getRandomSquare().getComponent(g);-1==t.indexOf(o)&&(o.plantable()&&n.push(o),t.push(o),e++)}n.forEach((function(n){if(n.plantable()){var t=n.spawnPlantByPlantEnum(v.BabyDragonbruit);t&&(n.pushPlant(t),t.plantType=u.plant,t.anmControl.playAnimation("Spawn",1)),n.selection()}}))},a.animationListener=function(n){switch(n.name){case"Shoot":this.anmControl.IdleAnim="Idle",this.shootOnTarget(),this.shooting=!1;break;case"getReady":this.ready=!0;break;case"foodShoot":this.shootOnAll(),this.getComponent(C).playFoodShootSound();break;case"foodEnd":this.foodEnd();break;case"chew":this.getComponent(C).playChewSound();break;case"deadShoot":this.spawnBabies();break;case"boom":this.getComponent(C).playDeadShootSound()}this.babyAnimationListner(n)},a.babyOnEnable=function(){},a.specialPlantOnEnable=function(){this.shooting=!1,this.currentPrj=this.projectile0,this.ready=!1,this.readying=!1,this.busy=0,this.anmControl.IdleAnim="Idle",this.babyOnEnable()},a.playReady=function(){this.readying=!0,this.busy=60*(this.shootInterval-4.5);var n=this.anmControl;n.playAnimation("Ready",1,4.5/this.shootInterval*.1,this.shootInterval>4.5?1:4.5/this.shootInterval),n.IdleAnim="Idle_Ready"},a.setDetecters=function(){this.detecter=p.createRectangleNodeSide(this.inLnC.node,f.SquareDisW*(9-this.inLnC.cIndex),3*f.SquareDisH)},a.detectEnemies=function(){for(var n=this.inLane.UpperLane.zombiePool(),t=this.inLane.zombiePool(),e=this.inLane.LowerLane.zombiePool(),o=n.concat(t,e),i=0;i<o.length;i++){var a;if(null!=(a=this.detecter)&&a.judgeCrossRec(o[i].bodyRec))return!0}for(var r=this.inLane.UpperLane.tombPool(),s=this.inLane.tombPool(),l=this.inLane.LowerLane.tombPool(),c=r.concat(s,l),u=0;u<c.length;u++){var h;if(null!=(h=this.detecter)&&h.judgeCrossRec(c[u].bodyRec))return!0}return!1},a.shootAnimation=function(){this.getComponent(C).playShootSound(),this.anmControl.playAnimation("Shoot",1,.1),this.ready=!1,this.readying=!1,this.shooting=!0},a.specialPlantOnSquareChange=function(n,t){this.setDetecters()},a.specialPlantUpdate=function(n){this.busy>0&&!this.readying&&(this.busy-=60*n),this.busy<=0&&(this.busy=0,this.playReady()),this.ready&&this.detectEnemies()&&this.shootAnimation()},t}(h)).prototype,"shootInterval",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),_=t(x.prototype,"projectile0",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(x.prototype,"projectile1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(x.prototype,"projectile2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(x.prototype,"projectileMega",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(x.prototype,"cabbageSpawnPoint",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=x))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/DragonbruitBaby.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dragonbruit.ts","./dragonBruitSound.ts","./CharacterManager.ts","./Square.ts","./Plants.ts"],(function(e){var t,n,o,r,i,a,s,c,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Vec2},function(e){i=e.DragonbruitPlant},function(e){a=e.dragonBruitSound},function(e){s=e.Rectangle},function(e){c=e.Square},function(e){u=e.PlantEnum}],execute:function(){var l;n._RF.push({},"fc55cjG2QlDlqEHOc4y+Mqz","DragonbruitBaby",void 0);var h=o.ccclass;o.property,e("DragonbruitBabyPlant",h("DragonbruitBaby")(l=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.babyAnimationListner=function(e){if("busy=0"==e.name)this.busy=0,this.dropping=!1;else if("drop"==e.name){var t;this.getComponent(a).playDropSound(),this.getComponent(a).playFoodSound();var n=s.createRectangleNodeCenter(this.inLnC.node,c.SquareDisW,c.SquareDisH);null==(t=this.inLane)||t.zombiePool().forEach((function(e){e.knockBackable&&e.bodyRec.judgeCrossRec(n)&&e.knockBackBy(new r(1,0))})),this.eaterDetectable=!0,this.smasherDetectable=!0}else"Grow"==e.name?this.inLnC.plantable(!1)&&this.inLnC.spawnPlantByPlantEnum(u.Dragonbruit):"selfKill"==e.name&&(this.die(!0,!1),this.node.destroy())},o.shootOnTarget=function(){var e,t=this,n=null,o=1/0;if(null==(e=this.inLane)||e.zombiePool().concat().forEach((function(e){e.bodyRec.prjX().x<o&&e.bodyRec.judgeCrossRec(t.detecter)&&(n=e,o=e.bodyRec.prjX().x)})),n)this._shoot(n,this.currentPrj,!1);else{var r=null,i=1/0;this.inLane.tombPool().concat().forEach((function(e){i>e.bodyRec.prjX().x&&e.bodyRec.judgeCrossRec(t.detecter)&&(r=e,i=e.bodyRec.prjX().x)})),r&&this._shootOnNode(r.node,this.currentPrj,!1)}},o.detectEnemies=function(){for(var e=this.inLane.zombiePool(),t=0;t<e.length;t++){var n;if(null!=(n=this.detecter)&&n.judgeCrossRec(e[t].bodyRec))return!0}for(var o=this.inLane.tombPool(),r=0;r<o.length;r++){var i;if(null!=(i=this.detecter)&&i.judgeCrossRec(o[r].bodyRec))return!0}return!1},o.setDetecters=function(){this.detecter=s.createRectangleNodeSide(this.inLnC.node,c.SquareDisW*(9-this.inLnC.cIndex),c.SquareDisH)},o.babyOnEnable=function(){this.anmControl.playAnimation("Spawn",1),this.busy=1/0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.dropping=!0},n}(i))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/dragonBruitSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./plantSound.ts"],(function(o){var n,t,e,i,r,u,a,d,l;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,u=o._decorator,a=o.AudioClip},function(o){d=o.ArrayGet},function(o){l=o.plantSound}],execute:function(){var s,S,p,c,h,f,y,b,g,m,w,z,R,v,D,O,B;r._RF.push({},"9d3199kJDNGGq38wwSuV6K9","dragonBruitSound",void 0);var F=u.ccclass,_=u.property;o("dragonBruitSound",(s=F("dragonBruitSound"),S=_([a]),p=_([a]),c=_([a]),h=_([a]),f=_([a]),y=_([a]),b=_([a]),s((w=n((m=function(o){function n(){for(var n,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return n=o.call.apply(o,[this].concat(r))||this,e(n,"chewSounds",w,i(n)),e(n,"shootSounds",z,i(n)),e(n,"foodShootSounds",R,i(n)),e(n,"foodSounds",v,i(n)),e(n,"deathSounds",D,i(n)),e(n,"deadShootSounds",O,i(n)),e(n,"dropSounds",B,i(n)),n}t(n,o);var r=n.prototype;return r.playChewSound=function(){this.playOneShot(d.getRandom(this.chewSounds))},r.playShootSound=function(){this.playOneShot(d.getRandom(this.shootSounds))},r.playFoodShootSound=function(){this.playOneShot(d.getRandom(this.foodShootSounds))},r.playFoodSound=function(){this.playOneShot(d.getRandom(this.foodSounds))},r.playDeathSound=function(){this.playOneShot(d.getRandom(this.deathSounds))},r.playDeadShootSound=function(){this.playOneShot(d.getRandom(this.deadShootSounds))},r.playDropSound=function(){this.playOneShot(d.getRandom(this.dropSounds))},n}(l)).prototype,"chewSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(m.prototype,"shootSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(m.prototype,"foodShootSounds",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(m.prototype,"foodSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(m.prototype,"deathSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(m.prototype,"deadShootSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=n(m.prototype,"dropSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=m))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/dropping.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./Character.ts","./Square.ts","./Mouse.ts","./levelController.ts","./UI.ts"],(function(i){var t,e,n,o,s,a,l,r,c,h,d,u,p,f,g,y,w,m,b,v;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,a=i._decorator,l=i.CCFloat,r=i.Vec2,c=i.KeyCode,h=i.tween,d=i.find,u=i.input,p=i.Input,f=i.UITransform},function(i){g=i.Rectangle},function(i){y=i.Character},function(i){w=i.Square},function(i){m=i.Mouse},function(i){b=i.LevelPlay},function(i){v=i.UIInGame}],execute:function(){var C,I,U,x,P,V,L,T,D;s._RF.push({},"7a0e0GwYE1IcZ6i5htuJ5IJ","dropping",void 0);var R=a.ccclass,S=a.property;i("dropping",(C=R("dropping"),I=S(Boolean),U=S(Number),x=S(l),C((L=t((V=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(t=i.call.apply(i,[this].concat(s))||this).collected=!1,t.linearVelocity=new r(0,0),t.bodyLinearVelocity=0,t.gravity=0,t.ui=void 0,n(t,"willFade",L,o(t)),n(t,"existTime",T,o(t)),t.fadingCountdown=0,t.fadingStarted=!1,t.mouse=null,n(t,"scale",D,o(t)),t.mouseListen=!0,t}e(t,i);var s=t.prototype;return s.goToUIPath=function(){return""},s.onKeyDown=function(i){i.keyCode==c.KEY_A&&this.goToUI(this.ui)},s.specialOnGroundHit=function(){},s.onGroundHit=function(){this.linearVelocity=new r(0,0),this.bodyLinearVelocity=0,this.gravity=0,this.specialOnGroundHit(),this.fadingOn()},s.move=function(i){if(!this.collected){var t=.5*i*60,e=.55*i*60,n=this.shadeWorldPosition,o=this.height,s=this.linearVelocity;this.worldPosition=new r(n.x+s.x*t,n.y+s.y*t),this.height=Math.max(0,o+this.bodyLinearVelocity*t),this.bodyLinearVelocity-=this.gravity*e,this.height<=0&&o>0&&this.onGroundHit(),w.lawnRec.judgeInRecNode(this.node)||((this.linearVelocity.x<0&&this.node.worldPosition.x<w.lawnRec.prjX().x||this.linearVelocity.x>0&&this.node.worldPosition.x>w.lawnRec.prjX().y)&&(this.linearVelocity.x*=-1),(this.linearVelocity.y<0&&this.node.worldPosition.y<w.lawnRec.prjY().x||this.linearVelocity.y>0&&this.node.worldPosition.y>w.lawnRec.prjY().y)&&(this.linearVelocity.y*=-1))}},s.fadingOn=function(){!this.fadingStarted&&this.willFade&&(this.fadingCountdown=this.existTime,this.fadingStarted=!0)},s.specialGoToUI=function(i){},s.specialUICall=function(i){},s.collect=function(){this.goToUI(this.ui)},s.specialCollectable=function(){return!0},s.goToUI=function(i){var t=this;if(i&&!this.collected&&this.specialCollectable()){var e;this.collected=!0,this.unschedule(this.fade),this.specialGoToUI(i),this.linearVelocity=new r(0,0),this.bodyLinearVelocity=0,this.gravity=0;null!=v&&null!=(e=v.uiingame)&&e.uiHidden?(this.shrinkAway(),this.specialUICall(i)):h(this).to(1,{height:0,worldPositionX:i.worldPosition.x,worldPositionY:i.worldPosition.y},{easing:"quadOut"}).call((function(){t.fade(),t.specialUICall(i)})).start()}},s.fade=function(){this.fadingStarted=!1,this.fadeAway(),this.collected=!0},s.characterOnLoad=function(){this.mouse=d("Mouse"),this.ui=d(this.goToUIPath())},s.characterOnEnable=function(){this.fadingStarted=this.willFade,this.fadingCountdown=this.existTime,this.collected=!1,this.mouseListen=!0,u.on(p.EventType.KEY_DOWN,this.onKeyDown,this),u.on(p.EventType.KEY_UP,this.onKeyDown,this),this.specialDroppingOnEnable()},s.specialDroppingOnEnable=function(){},s.specialDroppingUpdate=function(i,t){},s.specialDroppingFadable=function(){return!0},s.characterUpdate=function(i){this.move(i);var t=g.createRectangleNodeCenter(this.node,this.node.getComponent(f).width*this.scale*this.originalScale,this.node.getComponent(f).width*this.scale*this.originalScale);this.collected||(b.component.gameWon&&this.mouseListen&&this.collect(),this.fadingStarted&&(this.height<=0&&this.fadingCountdown>=0&&this.specialDroppingFadable()&&(this.fadingCountdown-=i),this.fadingCountdown<=0&&this.fade()),this.mouseListen&&(t.judgeInRecNode(this.mouse)||t.judgeCrossLine(m.moveLine))&&this.collect());this.specialDroppingUpdate(i,t)},t}(y)).prototype,"willFade",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),T=t(V.prototype,"existTime",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),D=t(V.prototype,"scale",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.33}}),P=V))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/Droppings.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,o,l,u,a,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,u=e.Prefab,a=e.find,c=e.Component}],execute:function(){var p,s,d,f,b,m,g,S,y,v,h,P,z,w,T,D,L,k,G,F,C,M,_;o._RF.push({},"bd3806Rl7pDnKBi2ulhB2Lf","Droppings",void 0);var x=l.ccclass,B=l.property,I=e("droppings",function(){function e(){}return e.registerSun=function(e){-1==this.controller.sunPool.indexOf(e)&&this.controller.sunPool.push(e)},e.deleteSun=function(e){var n=this.controller.sunPool.indexOf(e);-1!=n&&this.controller.sunPool.splice(n,1)},e}());I.controller=null,I.SunTiny=void 0,I.SunSmall=void 0,I.SunMid=void 0,I.SunLarge=void 0,I.CoinSilver=void 0,I.CoinGold=void 0,I.Gem=void 0,I.plantFood=void 0,I.PlantSeedPacket=void 0,I.layer=void 0;e("Droppings",(p=x("Droppings"),s=B(u),d=B(u),f=B(u),b=B(u),m=B(u),g=B(u),S=B(u),y=B(u),v=B(u),h=B(u),p((w=n((z=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,t(n,"sunTiny",w,r(n)),t(n,"sunSmall",T,r(n)),t(n,"sunMid",D,r(n)),t(n,"sunLarge",L,r(n)),t(n,"coinSilver",k,r(n)),t(n,"coinGold",G,r(n)),t(n,"gem",F,r(n)),t(n,"plantFood",C,r(n)),t(n,"plantSeedPacketTemplate",M,r(n)),t(n,"zombieSeedPacketTemplate",_,r(n)),n.sunPool=[],n}i(n,e);var o=n.prototype;return o.onLoad=function(){I.controller=this,I.SunTiny=this.sunTiny,I.SunSmall=this.sunSmall,I.SunMid=this.sunMid,I.SunLarge=this.sunLarge,I.Gem=this.gem,I.CoinGold=this.coinGold,I.CoinSilver=this.coinSilver,I.plantFood=this.plantFood,I.PlantSeedPacket=this.plantSeedPacketTemplate,I.layer=a("Canvas/UIInGameUpper/Dropping")},o.update=function(e){},n}(c)).prototype,"sunTiny",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(z.prototype,"sunSmall",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(z.prototype,"sunMid",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(z.prototype,"sunLarge",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(z.prototype,"coinSilver",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(z.prototype,"coinGold",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(z.prototype,"gem",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(z.prototype,"plantFood",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(z.prototype,"plantSeedPacketTemplate",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(z.prototype,"zombieSeedPacketTemplate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=z))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptCamelZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts"],(function(t){var i,e,n,o,a,s,h,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.dragonBones},function(t){a=t.zombieDamageType,s=t.Zombie},function(t){h=t.zombies,l=t.ZombieEnum}],execute:function(){var r;e._RF.push({},"903d7QmPIBIXqjTmEkaYa1s","EgyptCamelZombie",void 0);var d=n.ccclass;n.property,t("EgyptCamelZombie",d("EgyptCamelZombie")(r=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).teamAmount=0,i.team=[],i.innerZombieEnum=l.egypt_basic,i.defaultShowSlot=0,i.innerZombie=void 0,i.innerHealth=void 0,i.idling=!1,i.busy=0,i}i(e,t);var n=e.prototype;return n.onDamaged=function(t,i,e){var n,o,a;i<this.toughness/2?null==(n=this.body.body.armature().getSlot("PLANK"))||n._setDisplayIndex(this.defaultShowSlot+2):i<this.toughness?null==(o=this.body.body.armature().getSlot("PLANK"))||o._setDisplayIndex(this.defaultShowSlot+1):null==(a=this.body.body.armature().getSlot("PLANK"))||a._setDisplayIndex(this.defaultShowSlot)},n.spawnTeam=function(){for(var t=this,i=[],n=2;n<=this.teamAmount;n++){var o=h.getZombie(l.egypt_camel),a=o.getComponent(e);a.teamAmount=0,a.defaultShowSlot=n==this.teamAmount?6:3,o.parent=this.node.parent,a.onDamaged(a.toughness,a.toughness,0),a.worldPosition=this.shadeWorldPosition.add2f(60*(n-1),0),this.team.push(a),i.push(a)}return this.scheduleOnce((function(){t.team.forEach((function(i){i.team=t.team.concat(),i.randomSpeed=t.randomSpeed}))}),0),i},n.onChill=function(t){this.dead||this.team.forEach((function(i){i.chill=t}))},n.onFrozen=function(t){this.dead||this.team.forEach((function(i){i.freeze=t}))},n.spawnZombie=function(){var t=this.innerZombie;return t?(t.havePlantfood=this.havePlantfood,this.havePlantfood=!1,t.node.parent=this.node.parent,t.node.setSiblingIndex(this.node.getSiblingIndex()),t.worldPosition=this.shadeWorldPosition,t.playIdle(),t.switching=!0,t.body.getComponent(o.ArmatureDisplay).once(o.EventObject.LOOP_COMPLETE,(function(){t.switching=!1,t.isAlive()&&t.playWalk()}),t),t):null},n.damageExtend=function(){return!0},n.dealDamage=function(t,i,e,n,o,s,h){if(void 0===t&&(t=0),void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===o&&(o=null),void 0===s&&(s=a.physicle),void 0===h&&(h=!0),i){var l=this.totalHealth()-t;if(l<=0){var r=this.spawnZombie();this.damageExtend()&&r.dealDamage(-l+(r.toughness-this.innerHealth),!0,e,n,o,s),r.isAlive()?r.copyBuff(this):r.clearBuff(),this.playDie()}return this.dealNormalDamage(t,i,e,n,o,s,h)}if(t>=this.innerHealth&&!this.damageExtend()){var d=this.spawnZombie();return d.dealDamage(d.health-this.innerHealth,!1,e,n,o,s),d.isAlive()?d.copyBuff(this):d.clearBuff(),this.playDie(),0}if(this.innerHealth-=t,this.innerHealth<=0){var u=this.spawnZombie();u.dealDamage(u.totalToughness(),!1,e,n,o,s),u.isAlive()?u.copyBuff(this):u.clearBuff(),this.playDie()}return this.dealNormalDamage(t,i,e,n,o,s,h)},n.additionalZombies=function(){return this.spawnTeam()},n.specialZombieOnEnable=function(){this.idling=!1,this.busy=3*Math.random(),this.onDamaged(this.toughness,this.toughness,0),this.innerZombie=h.getZombie(this.innerZombieEnum).getComponent(s),this.innerHealth=this.innerZombie.toughness,this.team=[],this.team.push(this)},n.onDirtSpawned=function(t){var i=this;0==t&&this.team.concat().forEach((function(t,e){t!=i&&t.isAlive()&&t.playDirtSpawn(.1*e)}))},n.allowWalk=function(){return!this.idling},n.specialZombieUpdate=function(t){var i=this;if(t>0)if(this.team.concat().forEach((function(t){if(!t.isAlive()){var e=i.team.indexOf(t);-1!=e&&i.team.splice(e,1)}})),this.busy<=0&&!this.eating){var e=this.team.indexOf(this),n=!0;e+1<this.team.length&&this.team[e+1].shadeSocket.worldPosition.x-80>this.shadeSocket.worldPosition.x&&(n=!1),e>=1&&this.team[e-1].shadeSocket.worldPosition.x+50>this.shadeSocket.worldPosition.x&&(n=!1),n?(this.playWalk(.3),this.busy=.7,this.idling=!1):(this.idling||this.playIdle(.3),this.busy=1,this.idling=!0)}else this.busy-=t},n.playSpecialZombieDie=function(t){this.onDamaged(-1,-1,0),this.judgeDeath(0)},e}(s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptExplorerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(t){var e,i,n,o,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){o=t.zombieDamageType,a=t.Zombie}],execute:function(){var r;i._RF.push({},"b2f1aUCacBJN7aRLMnfdbLh","EgyptExplorerZombie",void 0);var c=n.ccclass;n.property,t("EgyptExplorerZombie",c("EgyptExplorerZombie")(r=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).ignited=void 0,e}e(i,t);var n=i.prototype;return n.detectPlant=function(t){var e=this;this.ignited?(t>0&&this.detectPlantOn()&&!this.ignorePlants()&&this.inLane.plantPool().concat().forEach((function(t){!t.dead&&t.eaterDetectable&&!t.short_&&e.plantDetectorRec.judgeCrossRec(t.bodyRec)&&t.burn()})),this.eating&&this.playWalk()):this.defaultDetectPlant(t)},n.dealDamage=function(t,e,i,n,a,r,c){return void 0===t&&(t=0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===a&&(a=null),void 0===r&&(r=o.physicle),void 0===c&&(c=!0),r==o.fire&&this.ignite(),this.dealNormalDamage(t,e,i,n,a,r,c)},n.ignite=function(t){void 0===t&&(t=!0);var e=t?0:-1;this.ignited=t,this.plantDetectorRecOffset.x=t?-72:0,this.bodyRecOffset.x=t?-32:0,this.bodyRecSize.width=t?72:48,this.body.body.armature().getSlots().forEach((function(t){t.name.includes("FIRE")&&t._setDisplayIndex(e)}))},n.onChill=function(t){this.ignite(!1)},n.specialZombieOnEnable=function(){this.ignite()},n.playSpecialZombieDieForced=function(){this.ignite(!1)},i}(a))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./Zombies.ts","./NodePools.ts","./SoundRescourses.ts","./Zombie.ts"],(function(t){var e,n,a,i,o,r,s,c,l,u,p,d,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Prefab,c=t.dragonBones},function(t){l=t.GargantuarZombie},function(t){u=t.ZombieEnum,p=t.zombies},function(t){d=t.NodePools},function(t){h=t.sounds},function(t){b=t.Zombie}],execute:function(){var m,y,g,f,P;o._RF.push({},"2be45+TaeFJzZEWyDltsHWd","EgyptGargantuarZombie",void 0);var v=r.ccclass,E=r.property;t("EgyptGargantuarZombie",(m=v("EgyptGargantuarZombie"),y=E(s),m((P=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(e,"pharaohBreakParticle",P,i(e)),e.impEnum=u.egypt_imp,e}n(e,t);var o=e.prototype;return o.specialGargantuarOnEnable=function(){this.body.body.armature().getSlots().forEach((function(t){t.name.includes("PHARAOH")&&t._setDisplayIndex(0)}))},o.specialGargantuarAnimationListener=function(t){if("pharaoh"==t.name&&this.isInLawn()&&Math.random()<.75){var e=p.getZombie(u.egypt_basic);e.parent=this.node.parent;var n=d.instantiatePooly(this.pharaohBreakParticle);n.parent=this.inLane.prjLayer,n.worldPosition=this.node.worldPosition,h.playTombBreak(),this.body.body.armature().getSlots().forEach((function(t){t.name.includes("PHARAOH")&&t._setDisplayIndex(-1)}));var a=e.getComponent(b);a.switching=!0,a.body.playAnimation("Spawn",1),a.reversed=!this.reversed,a.worldPosition=this._worldPosition,a.walking=!1,a.db.once(c.EventObject.COMPLETE,(function(t){a.switching=!1,a.isAlive()&&a.playWalk()}),a)}},e}(l)).prototype,"pharaohBreakParticle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=f))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptPharaohZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EgyptCamelZombie.ts","./Zombies.ts","./SoundRescourses.ts"],(function(t){var e,n,r,o,i,a,u,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator},function(t){u=t.EgyptCamelZombie},function(t){s=t.ZombieEnum},function(t){l=t.sounds}],execute:function(){var c,h,p,d,m;i._RF.push({},"d54e7UpaztKypU+27g30c8H","EgyptPharaohZombie",void 0);var b=a.ccclass,y=a.property;t("EgyptPharaohZombie",(c=b("EgyptPharaohZombie"),h=y(Boolean),c((m=e((d=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).innerZombieEnum=s.egypt_pharaoh_inner,r(e,"extendDamage",m,o(e)),e}n(e,t);var i=e.prototype;return i.onDamaged=function(t,e,n){var r,o,i,a;e<=0?null==(r=this.body.body.armature().getSlot("armor"))||r._setDisplayIndex(-1):e<this.toughness/3?null==(o=this.body.body.armature().getSlot("armor"))||o._setDisplayIndex(2):e<2*this.toughness/3?null==(i=this.body.body.armature().getSlot("armor"))||i._setDisplayIndex(1):null==(a=this.body.body.armature().getSlot("armor"))||a._setDisplayIndex(0)},i.damageExtend=function(){return this.extendDamage},i.setButter=function(t,e){return!!this.extendDamage&&(e&&this.butterStun<=0&&t>0&&l.playButterOn(),this.butterStun=this.butterStun>t?this.butterStun:t,this.butterStun>0&&(this.onButtered(this.butterStun),this._onStunned(this.butterStun)),!0)},i.additionalZombies=function(){return[]},i.spawnTeam=function(){return[]},i.specialZombieUpdate=function(t){},e}(u)).prototype,"extendDamage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=d))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptRaZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Droppings.ts","./NodePools.ts","./SoundsController.ts","./Sunflower.ts"],(function(o){var i,n,t,r,e,a,s,b,l,u,c,h,f,d,p,g,w,S;return{setters:[function(o){i=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){e=o.cclegacy,a=o._decorator,s=o.Node,b=o.AudioClip,l=o.CCInteger,u=o.Vec2,c=o.TWO_PI,h=o.tween,f=o.dragonBones},function(o){d=o.Zombie},function(o){p=o.droppings},function(o){g=o.ArrayGet},function(o){w=o.SoundFXController},function(o){S=o.sunflower}],execute:function(){var y,m,A,v,E,V,P,O,R,Z,x;e._RF.push({},"a86047FcJdMKYD0NmnuSYGN","EgyptRaZombie",void 0);var z=a.ccclass,F=a.property;o("EgyptRaZombie",(y=z("EgyptRaZombie"),m=F(s),A=F([b]),v=F([b]),E=F(l),y((O=i((P=function(o){function i(){for(var i,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(i=o.call.apply(o,[this].concat(e))||this).absorbing=!1,t(i,"absorber",O,r(i)),t(i,"absorbSounds",R,r(i)),t(i,"absorbBG",Z,r(i)),t(i,"maxAbsorbValue",x,r(i)),i.absorbedValue=[],i.willAbsorbSun=[],i}n(i,o);var e=i.prototype;return e.playSpecialZombieDieForced=function(){var o=this;this.willAbsorbSun.forEach((function(o){o.absorber=null}));var i=0;this.absorbedValue.length>=2&&(i=-c/6),this.absorbedValue.forEach((function(n){S.produceSun(n,o.node.worldPosition,o.zombieHeight/2,!1).forEach((function(n){n.linearVelocity=new u(10*Math.sin(i),0),n.bodyLinearVelocity=10*Math.cos(i),n.gravity=0,o.absorbedValue.length>=2&&(i+=c/3/(o.absorbedValue.length-1)),h(n).to(.6,{bodyLinearVelocity:0}).start(),h(n).to(.6,{linearVelocity:new u(0,0)}).start()}))})),this.willAbsorbSun.forEach((function(o){o.switchMode("Normal"),o.absorber=null})),this.willAbsorbSun=[],this.absorbedValue=[]},e.absorbStart=function(){this.switching||(this.willAbsorbSun=[],this.walking=!1,this.switching=!0,this.absorbing=!0,this.body.playAnimation("AbsorbStart",1,.2),this.audioSource.playOneShot(g.getRandom(this.absorbBG),w.SoundFXVolume),this.audioSource.playOneShot(g.getRandom(this.absorbSounds),w.SoundFXVolume))},e.absorbEnd=function(){var o=this;this.absorbing&&(this.absorbing=!1,this.body.playAnimation("AbsorbEnd",1),this.db.once(f.EventObject.COMPLETE,(function(){o.switching=!1,o.dead||o.playWalk()}),this),this.willAbsorbSun.forEach((function(o){o.absorber=null})))},e.detectPlantOn=function(){return!this.switching},e.specialZombieOnEnable=function(){this.willAbsorbSun=[],this.absorbedValue=[],this.absorbing=!1},e.specialZombieUpdate=function(o){var i=this;if(this.isInLawn()&&o>0){var n=0;this.absorbedValue.forEach((function(o){n+=o})),this.willAbsorbSun.forEach((function(o){n+=o.value}));var t,r=1e3,e=!1;if(p.controller.sunPool.concat().forEach((function(o){o.absorber&&o.absorber!=i||(e=!0),e&&r>o.value&&(r=o.value)})),e&&p.controller.sunPool.length>0&&n+r<=this.maxAbsorbValue||this.willAbsorbSun.length>0?this.absorbStart():this.absorbEnd(),this.absorbing)null==(t=p.controller)||t.sunPool.concat().forEach((function(o){!o.absorber&&n+o.value<=i.maxAbsorbValue&&-1==i.willAbsorbSun.indexOf(o)&&(i.willAbsorbSun.push(o),n+=o.value,o.absorber=i)})),this.willAbsorbSun.concat().forEach((function(o){var n=i.willAbsorbSun.indexOf(o);o.collected&&-1!=n?i.willAbsorbSun.splice(n,1):o.switchMode("Red")}))}},i}(d)).prototype,"absorber",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(P.prototype,"absorbSounds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=i(P.prototype,"absorbBG",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(P.prototype,"maxAbsorbValue",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 250}}),V=P))||V));e._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptSandStormParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var t,n,i,o,r,a,l,s,d,u,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.AudioClip,s=e.Prefab},function(e){d=e.ParticleSelfdestroy},function(e){u=e.ArrayGet,p=e.instantiatePooly},function(e){c=e.sounds}],execute:function(){var h,S,f,y,b,g,m,P,D,v,w,T,z;r._RF.push({},"5dcd14Ew+VGl46/gjHvvHhB","EgyptSandStormParticle",void 0);var A=a.ccclass,R=a.property;e("EgyptSandStormParticle",(h=A("EgyptSandStormParticle"),S=R([l]),f=R([l]),y=R([l]),b=R([l]),g=R(s),h((D=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"endSounds",D,o(t)),i(t,"startSounds",v,o(t)),i(t,"startOffSounds",w,o(t)),i(t,"loopSounds",T,o(t)),t.loopSound=void 0,i(t,"parThere",z,o(t)),t.particleSDThere=void 0,t.ended=!1,t}n(t,e);var r=t.prototype;return r.end=function(){var e;this.ended=!0,this.db.playAnimation("Die",1/0),null==(e=this.particleSDThere)||null==(e=e.db)||e.playAnimation("Die",1/0),this.particleSDThere=null,c.play(u.getRandom(this.endSounds))},r.onSettled=function(){var e=p(this.parThere);e.parent=this.node.parent,e.scale=this.node.scale,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(0),this.particleSDThere=e.getComponent(d),this.particleSDThere.db.playAnimation("Idle",1/0)},r.specialOnEnable=function(){this.particleSDThere=null,this.ended=!1,this.db.playAnimation("Idle",1/0),this.loopSound=u.getRandom(this.loopSounds),c.play(u.getRandom(this.startSounds)),c.play(u.getRandom(this.startOffSounds))},r.update=function(e){this.particleSDThere&&(this.particleSDThere.node.worldPosition=this.node.worldPosition,this.particleSDThere.node.worldScale=this.node.worldScale),this.ended||c.play(this.loopSound)},t}(d)).prototype,"endSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(P.prototype,"startSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(P.prototype,"startOffSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(P.prototype,"loopSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(P.prototype,"parThere",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/EgyptTombRaiserZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./SoundsController.ts","./NodePools.ts","./CabbagePult.ts","./Square.ts","./LnC.ts","./Character.ts"],(function(n){var i,t,e,o,r,a,u,s,l,c,h,b,p,d,m,f,y,w,g;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,u=n.AudioClip,s=n.Prefab,l=n.Node,c=n.CCInteger,h=n.Vec3,b=n.dragonBones},function(n){p=n.Zombie},function(n){d=n.SoundFXController},function(n){m=n.NodePools},function(n){f=n.cabbagePult},function(n){y=n.Square},function(n){w=n.LnC},function(n){g=n.CharacterType}],execute:function(){var C,P,S,v,L,T,x,I,A,E,Z,k,z;r._RF.push({},"b4e80QiamVIgZWmcAophNZ9","EgyptTombRaiserZombie",void 0);var R=a.ccclass,O=a.property;n("EgyptTombRaiserZombie",(C=R("EgyptTombRaiserZombie"),P=O(u),S=O(u),v=O(s),L=O(l),T=O(c),C((A=i((I=function(n){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=n.call.apply(n,[this].concat(r))||this,e(i,"pukeSound",A,o(i)),e(i,"throwSound",E,o(i)),e(i,"boneProjectile",Z,o(i)),e(i,"throwPoint",k,o(i)),e(i,"maxThrowTime",z,o(i)),i.busy=6,i}t(i,n);var r=i.prototype;return r.specialAnimationListener=function(n){if("throw"==n.name&&this.isAlive()){this.audioSource.playOneShot(this.throwSound,d.SoundFXVolume);for(var i=null,t=Math.max(this.inLnC.cIndex-2,1),e=0;e<40&&!i;e++){var o=y.getRandomSquare(0,4,t,this.inLnC.cIndex+1).getComponent(w);o.tombable()&&(i=o)}i||(i=y.getRandomSquare(0,4,t,this.inLnC.cIndex+1).getComponent(w));var r=m.instantiatePooly(this.boneProjectile);f.lobOneCabbageOnNode(r,new h(this.throwPoint.worldPosition.x,this.node.worldPosition.y,this.node.worldPosition.z),this.throwPoint.worldPosition.y-this.node.worldPosition.y,this.inLane.prjLayer,i.plantPoint,1,g.default,!0,40)}"puke"==n.name&&this.isAlive()&&this.audioSource.playOneShot(this.pukeSound,d.SoundFXVolume)},r.specialZombieOnEnable=function(){this.busy=6},r.throwBoneAnimation=function(){var n=this;this.correctShadeWP(),this.busy=6,this.switching=!0,this.walking=!1,this.body.playAnimation("Throw",this.maxThrowTime),this.db.on(b.EventObject.COMPLETE,(function(){n.isAlive()&&n.playWalk(),n.switching=!1}),this)},r.areaThrowable=function(){var n=this,i=!1;return[0,1,2,3,4].forEach((function(t){[n.inLnC.cIndex-2,n.inLnC.cIndex-1,n.inLnC.cIndex,n.inLnC.cIndex+1].forEach((function(n){i||n<=0||n>8||(i=y.getSquare(t,n).getComponent(w).tombable())}))})),i},r.specialZombieUpdate=function(n){var i;this.isInLawn()&&this.walking&&(null==(i=this.inLnC)?void 0:i.cIndex)>2&&this.areaThrowable()&&(this.busy>0&&(this.busy-=n),this.busy<=0&&this.throwBoneAnimation())},i}(p)).prototype,"pukeSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(I.prototype,"throwSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(I.prototype,"boneProjectile",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(I.prototype,"throwPoint",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(I.prototype,"maxThrowTime",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),x=I))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/electricPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./ParticleSelfdestroy.ts","./cactusThorn.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./electricPeaPointer.ts"],(function(e){var t,o,n,i,r,a,l,s,c,u,h,d,P,f,p,w,g,v,y,C,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Prefab,s=e.CCFloat,c=e.CCInteger,u=e.Vec3,h=e.Vec2,d=e.HALF_PI},function(e){P=e.NodePools,f=e.instantiatePooly,p=e.ArrayGet},function(e){w=e.ParticleSelfdestroy},function(e){g=e.cactusThorn},function(e){v=e.Rectangle},function(e){y=e.Square},function(e){C=e.zombieDamageType},function(e){m=e.electricPeaPointer}],execute:function(){var b,D,S,L,x,_,z,I,R,T,M,j,A;r._RF.push({},"5747f2zKqhFKKw9UDDpUcpo","electricPea",void 0);var E=a.ccclass,F=a.property;e("electricPea",(b=E("electricPea"),D=F(l),S=F(l),L=F(s),x=F(s),_=F(c),b((R=t((I=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"footPar",R,i(t)),t.footPSD=void 0,n(t,"curvePar",T,i(t)),n(t,"eleCurveInterval",M,i(t)),t.eleCurveCD=0,n(t,"eleCurveDamage",j,i(t)),n(t,"eleCurveMaxTarget",A,i(t)),t}o(t,e);var r=t.prototype;return r.characterOnEnable=function(){this.initialize(),this.maxPierceAmount_=1/0,this.dealtTargetAmount=0,this.contactingEnemies=[],this.footPSD=null,this.eleCurveCD=.5},r.spawnFootParticle=function(){var e=P.instantiatePooly(this.footPar);e.parent=this.node.parent,e.worldPosition=new u(this._worldPositionX,this._worldPositionY),e.setSiblingIndex(0),this.footPSD=e.getComponent(w),this.footPSD.db.playAnimation("Idle",1/0)},r.characterOnDisable=function(){var e;null==(e=this.footPSD)||null==(e=e.db)||e.playAnimation("Die",1),this.footPSD=null},r.specialOnLaneChange=function(e,t){var o,n;null==(o=this.footPSD)||null==(o=o.node)||o.setParent(t.prjLayer),null==(n=this.footPSD)||null==(n=n.node)||n.setSiblingIndex(0)},r.detectCurveEnemies=function(){var e=this,t=v.createRectangleCenter(new h(this._worldPositionX,y.getLnC(this.lIndex,0).node.worldPosition.y),2*y.SquareDisW,2*y.SquareDisH),o=0;this.inLane.UpperLane.zombiePool().concat(this.inLane.LowerLane.zombiePool(),this.inLane.zombiePool()).forEach((function(n){if(o<e.eleCurveMaxTarget&&t.judgeCrossRec(n.bodyRec)){o++;var i=f(e.curvePar);i.parent=n.inLane.prjLayer,i.worldPosition=new u(e._worldPositionX,e._worldPositionY+e._height,10);var r=new u(n.shadeSocket.worldPosition.x,n._worldPositionY+e.height,10),a=f(p.getRandom(e.PopParticle));a.parent=n.inLane.prjLayer,a.worldPosition=new u(r.x,r.y,10);var l=r.clone().add(e.node.worldPosition.clone().negative());i.worldScale=new u(l.length()/160,e.node.worldScale.x,1),i.angle=90*Math.atan2(l.y,l.x)/d;var s=i.getComponent(m);s.toPos=new h(r.x,r.y),s.fromCharacter=e,n.dealDamage(e.eleCurveDamage,!0,!1,!1,null,C.electricity)}})),o<this.eleCurveMaxTarget&&this.inLane.UpperLane.tombPool().concat(this.inLane.LowerLane.tombPool(),this.inLane.tombPool()).forEach((function(n){if(o<e.eleCurveMaxTarget&&t.judgeCrossRec(n.bodyRec)){o++;var i=f(e.curvePar);i.parent=n.inLane.prjLayer,i.worldPosition=new u(e._worldPositionX,e._worldPositionY+e._height,10);var r=new u(n.shadeSocket.worldPosition.x,n._worldPositionY+e.height,10),a=f(p.getRandom(e.PopParticle));a.parent=n.inLane.prjLayer,a.worldPosition=new u(r.x,r.y,10);var l=r.clone().add(e.node.worldPosition.clone().negative());i.worldScale=new u(l.length()/160,e.node.worldScale.x,1),i.angle=90*Math.atan2(l.y,l.x)/d;var s=i.getComponent(m);s.toPos=new h(r.x,r.y),s.fromCharacter=e,n.dealDamage(e.eleCurveDamage)}})),o&&(this.playPopSound(),this.eleCurveCD=this.eleCurveInterval)},r.characterUpdate=function(e){this.dead||this.fallingInSky||(this.rotate(),this.switching||this.move(e),this.detectEnemy(e),this.hitBorderOrGround(e),this.footPSD||this.spawnFootParticle(),this.footPSD.node.worldPosition=new u(this._worldPositionX,this._worldPositionY),this.footPSD.node.scale=new u(this.node.scale.x,this.height/75),this.eleCurveCD>0?this.eleCurveCD-=e:this.detectCurveEnemies())},t}(g)).prototype,"footPar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(I.prototype,"curvePar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(I.prototype,"eleCurveInterval",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),j=t(I.prototype,"eleCurveDamage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),A=t(I.prototype,"eleCurveMaxTarget",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),z=I))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/electricPeaMega.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Peashooter.ts","./NodePools.ts","./Character.ts","./ParticleSelfdestroy.ts"],(function(t){var o,e,i,n,r,a,l,s,c,h,u,d,P,f,p,y;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.CCInteger,s=t.Prefab,c=t.Vec2,h=t.Vec3},function(t){u=t.commonShot},function(t){d=t.peaShooter},function(t){P=t.instantiatePooly,f=t.NodePools},function(t){p=t.CharacterType},function(t){y=t.ParticleSelfdestroy}],execute:function(){var S,g,m,w,b,D,v,C,x;r._RF.push({},"e35cb1gTrZJSLgx8nCxeiNV","electricPeaMega",void 0);var _=a.ccclass,z=a.property;t("electricPeaMega",(S=_("electricPeaMega"),g=z(l),m=z(s),w=z(s),S((v=o((D=function(t){function o(){for(var o,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o=t.call.apply(t,[this].concat(r))||this,i(o,"maxChildCount",v,n(o)),i(o,"childPrj",C,n(o)),i(o,"footPar",x,n(o)),o.footPSD=void 0,o}e(o,t);var r=o.prototype;return r.specialOnLaneChange=function(t,o){var e,i;null==(e=this.footPSD)||null==(e=e.node)||e.setParent(o.prjLayer),null==(i=this.footPSD)||null==(i=i.node)||i.setSiblingIndex(0)},r.characterOnDisable=function(){var t;null==(t=this.footPSD)||null==(t=t.db)||t.playAnimation("Die",1),this.footPSD=null},r.onPop=function(){for(var t=0;t<this.maxChildCount;t++){var o=P(this.childPrj),e=new c(Math.random()-.5,Math.random()-.5).normalize(),i=this.worldPosition.clone().add(e.clone().multiplyScalar(20));d.shootOnePea(o,new h(i.x,i.y),this.height+1,this.node.parent,e.clone().multiplyScalar(10),p.zombie)}},r.spawnFootParticle=function(){var t=f.instantiatePooly(this.footPar);t.parent=this.node.parent,t.worldPosition=new h(this._worldPositionX,this._worldPositionY),t.setSiblingIndex(0),this.footPSD=t.getComponent(y),this.footPSD.db.playAnimation("Idle",1/0)},r.characterUpdate=function(t){this.dead||this.fallingInSky||(this.rotate(),this.switching||this.move(t),this.detectEnemy(t),this.hitBorderOrGround(t),this.footPSD||this.spawnFootParticle(),this.footPSD&&(this.footPSD.node.worldPosition=new h(this._worldPositionX,this._worldPositionY),this.footPSD.node.scale=new h(2*this.node.scale.x,this.height/75)))},o}(u)).prototype,"maxChildCount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),C=o(D.prototype,"childPrj",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=o(D.prototype,"footPar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=D))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/electricPeaPointer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts"],(function(t){var r,e,o,i,n,a,c;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Vec2,n=t.Vec3,a=t.HALF_PI},function(t){c=t.ParticleSelfdestroy}],execute:function(){var l;e._RF.push({},"92ebd75LA1F45Mybv+CV6zb","electricPeaPointer",void 0);var s=o.ccclass;o.property,t("electricPeaPointer",s("electricPeaPointer")(l=function(t){function e(){for(var r,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(r=t.call.apply(t,[this].concat(o))||this).toPos=null,r.fromCharacter=null,r}r(e,t);var o=e.prototype;return o.specialOnEnable=function(){this.toPos=null,this.fromCharacter=null},o.update=function(t){if(this.fromCharacter&&this.toPos){if(!this.fromCharacter.enabled)return this.fromCharacter=null,void(this.toPos=null);var r=this.toPos.clone().add(new i(this.fromCharacter._worldPositionX,this.fromCharacter._worldPositionY+this.fromCharacter._height).negative());this.node.worldPosition=new n(this.fromCharacter._worldPositionX,this.fromCharacter._worldPositionY+this.fromCharacter._height),this.node.worldScale=new n(r.length()/160,this.fromCharacter.node.worldScale.x,1),this.node.angle=90*Math.atan2(r.y,r.x)/a}},e}(c))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ElectricPeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./electricPeashooterSound.ts","./CharacterManager.ts","./NodePools.ts"],(function(o){var e,t,n,a,r,i,l,s,c,h,p,d,u;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,a=o.assertThisInitialized},function(o){r=o.cclegacy,i=o._decorator,l=o.Prefab,s=o.Vec2},function(o){c=o.PeashooterPlant},function(o){h=o.electricPeashooterSound},function(o){p=o.ZombiePool,d=o.TombPool},function(o){u=o.ArrayGet}],execute:function(){var f,m,P,y,g;r._RF.push({},"f618dsR+RhGcLz5X0e8qG7Z","ElectricPeashooter",void 0);var v=i.ccclass,S=i.property;o("ElectricPeashooter",(f=v("ElectricPeashooter"),m=S(l),f((g=e((y=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=o.call.apply(o,[this].concat(r))||this).minShootInterval=2.4,n(e,"peaMega",g,a(e)),e}t(e,o);var r=e.prototype;return r.animationListener=function(o){var e=this;if("shootStart"==o.name)this.getComponent(h).playShootStart();else if("Shoot"==o.name)this.getComponent(h).playShootSound(),this._shoot(!1,!1,this.pea,5,new s(1,0));else if("foodShoot"==o.name){this.getComponent(h).playFoodShoot();for(var t=function(){var o=null,t=1/0;p.pool().length&&u.getRandom(p.pool()).inLane.zombiePool().forEach((function(n){var a=n.bodyRec.prjX();a.y>e._worldPositionX&&a.x<t&&(o=n,t=a.x)}));!o&&d.pool().length&&u.getRandom(d.pool()).inLane.tombPool().forEach((function(n){var a=n.bodyRec.prjX();a.y>e._worldPositionX&&a.x<t&&(o=n,t=a.x)}));var n=new s(1,0);n=o?o.worldPosition.clone().add(e.worldPosition.clone().negative()):new s(1,Math.random()-.5),e._shoot(!1,!1,e.peaMega,20,n)},n=0;n<this.foodPeaMaxCount;n++)t()}else"foodEnd"==o.name?this.foodEnd():"rand"==o.name&&this.getComponent(h).playRandom()},r.specialPlantFood=function(o){this.anmControl.playAnimation("Food",1)},e}(c)).prototype,"peaMega",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=y))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/electricPeashooterSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./peaShooterSound.ts","./NodePools.ts","./SoundRescourses.ts"],(function(o){var t,e,n,r,i,a,u,s,c,l;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,u=o.AudioClip},function(o){s=o.peaShooterSound},function(o){c=o.ArrayGet},function(o){l=o.sounds}],execute:function(){var d,p,S,h,f,y,b,m,g;i._RF.push({},"9cee5nTjRpOcI/61CE/iUH0","electricPeashooterSound",void 0);var v=a.ccclass,P=a.property;o("electricPeashooterSound",(d=v("electricPeashooterSound"),p=P([u]),S=P([u]),h=P(u),d((b=t((y=function(o){function t(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t=o.call.apply(o,[this].concat(i))||this,n(t,"foodShootSounds",b,r(t)),n(t,"shootStartSounds",m,r(t)),n(t,"randomSound",g,r(t)),t}e(t,o);var i=t.prototype;return i.playFoodShoot=function(){this.playOneShotFromArray(this.foodShootSounds)},i.playShootStart=function(){l.play(c.getRandom(this.shootStartSounds),.5,.2)},i.playRandom=function(){this.playOneShot(this.randomSound)},t}(s)).prototype,"foodShootSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(y.prototype,"shootStartSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=t(y.prototype,"randomSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/ElectronAPI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,i=e.Component}],execute:function(){var o;t._RF.push({},"36a7d3zGF5EObC1EAYiqHKr","ElectronAPI",void 0);var c=r.ccclass,s=(r.property,window.electron);e("default",c("ElectronAPI")(o=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.center=function(){null==s||s.ipcRenderer.send("e_center")},t.fullScreen=function(){null==s||s.ipcRenderer.send("e_fullScreen")},t.window=function(){null==s||s.ipcRenderer.send("e_window"),this.setSize(1138,640)},t.openDevTools=function(){s.ipcRenderer.send("e_openDevTools")},t.closeDevTools=function(){s.ipcRenderer.send("e_closeDevTools")},t.setSize=function(e,n){null==s||s.ipcRenderer.send("e_setSize",e.toString(),n.toString())},t.setResolution=function(e,n){null==s||s.ipcRenderer.send("e_setResolution",e.toString(),n.toString())},t.isFullScreen=function(){return!!s&&s.ipcRenderer.sendSync("e_isFullScreen")},t.setScreenResolution=function(e,n){1==this.isFullScreen()?this.setResolution(e,n):this.setSize(e,n)},t.nircmdUD=function(e){null==s||s.ipcRenderer.send("e_nircmdUD",e)},t.getMassage=function(){return null==s?void 0:s.ipcRenderer.sendSync("e_getMassage")},t.getAllResolutions=function(){return null==s?void 0:s.ipcRenderer.sendSync("e_getAllResolutions")},t.getCurrentResolution=function(){return null==s?void 0:s.ipcRenderer.sendSync("e_getCurrentResolution")},t.quit=function(){null==s||s.ipcRenderer.send("e_quit")},t}(i))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/endangeredTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts"],(function(e){var n,r,t,i;return{setters:[function(e){n=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator},function(e){i=e.Tile}],execute:function(){var c;r._RF.push({},"28b79pbpbVObLedmHkyXnTa","endangeredTile",void 0);var o=t.ccclass;t.property,e("endangeredTile",o("endangeredTile")(c=function(e){function r(){return e.apply(this,arguments)||this}return n(r,e),r}(i))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/FirePeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./peaShooterSound.ts","./GroundFire.ts","./Zombie.ts","./firePeashooterSound.ts","./CharacterManager.ts","./Square.ts"],(function(o){var n,e,t,i,r,a,s,d,u,c,l,f,h,p,S,C;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,s=o.CCFloat,d=o.Vec2},function(o){u=o.PeashooterPlant},function(o){c=o.peaShooterSound},function(o){l=o.GroundFireColorEnum,f=o.GroundFireSpreadStyleEnum},function(o){h=o.zombieDamageType},function(o){p=o.firePeashooterSound},function(o){S=o.Rectangle},function(o){C=o.Square}],execute:function(){var m,y,P,g,F;r._RF.push({},"67fa4yb6mdHHpWZItQHTXzE","FirePeashooter",void 0);var D=a.ccclass,L=a.property;o("FirePeashooterPlant",(m=D("FirePeashooterPlant"),y=L(s),m((F=n((g=function(o){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=o.call.apply(o,[this].concat(r))||this,t(n,"foodDuration",F,i(n)),n.foodCountDown=0,n.foodStarted=!1,n.foodFire=[],n}e(n,o);var r=n.prototype;return r.specialPlantOnEnable=function(){this.initialize(),this.getComponent(c).volumeScale=.3},r.specialPeashooterUpdate=function(o){var n=this;if(this.fooding&&this.foodStarted)if(this.foodCountDown>0){var e=this.foodCountDown+0;this.foodCountDown-=o;for(var t=this.foodCountDown+0,i=Math.floor(4*e)-Math.floor(4*t),r=0;r<i;r++)this.inLane.zombiePool().forEach((function(o){var e=!1;if(n.foodFire.forEach((function(n){if(!e){var t=n.inLnC.rec;8==n.inLnC.cIndex&&(t=S.createRectangleSide(new d(n.inLnC.node.worldPosition.x-C.SquareDisW/2,n.inLnC.node.worldPosition.y),9*C.SquareDisW,C.SquareDisH)),t.judgeCrossRec(o.bodyRec)&&(e=!0)}})),!e){var t=n.inLnC.rec;8==n.inLnC.cIndex&&(t=S.createRectangleSide(new d(n.inLnC.node.worldPosition.x-C.SquareDisW/2,n.inLnC.node.worldPosition.y),9*C.SquareDisW,C.SquareDisH)),t.judgeCrossRec(o.bodyRec)&&(e=!0)}e&&o.dealDamage(79,!1,!1,!1,null,h.fire)})),this.foodFire.forEach((function(o){var n;null==(n=o.inLnC)||null==(n=n.tombStone)||n.dealDamage(79)}))}else this.foodEnd()},r.specialPlantFoodEnd=function(){this.getComponent(p).playFoodEndSound(),this.anmControl.playRandom(),this.foodFire=[]},r.animationListenerAdd=function(o){var n;"playFooding"==o.name?(this.getComponent(p).playFoodingSound(),this.foodStarted=!0,this.anmControl.playAnimation("Food",1/0),this.foodFire=null==(n=this.inLnC.righter)?void 0:n.addLaneFire(this.foodDuration,10,l.yellow,f.right,18,9),this.foodCountDown=this.foodDuration):"foodStartSound"==o.name&&this.getComponent(p).playFoodStartSound()},r.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",2),this.foodStarted=!1},r.detectEnemy=function(){var o,n=this,e=!1;return this.inLane.zombiePool().forEach((function(o){!e&&n.detector.judgeCrossRec(o.bodyRec)&&(e=!0)})),e||(this.inLane.tombPool().forEach((function(o){!e&&n.detector.judgeCrossRec(o.bodyRec)&&(e=!0)})),e||(null!=(o=this.inLane)&&o.iceTile&&(e=!0),e||this.inLane.iceTiles.forEach((function(o){!e&&o.node.worldPosition.x>n.node.worldPosition.x&&(e=!0)})),e))},n}(u)).prototype,"foodDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),P=g))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/firePeashooterSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./peaShooterSound.ts","./NodePools.ts","./SoundsController.ts"],(function(o){var t,e,n,i,r,u,a,d,l,s;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,u=o._decorator,a=o.AudioClip},function(o){d=o.peaShooterSound},function(o){l=o.ArrayGet},function(o){s=o.SoundFXController}],execute:function(){var c,S,f,p,h,y,g,m,b;r._RF.push({},"31f95Yu65ZCvL7ohkhLmtnr","firePeashooterSound",void 0);var v=u.ccclass,F=u.property;o("firePeashooterSound",(c=v("firePeashooterSound"),S=F([a]),f=F(a),p=F([a]),c((g=t((y=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return t=o.call.apply(o,[this].concat(r))||this,n(t,"foodStartSounds",g,i(t)),n(t,"foodingSound",m,i(t)),n(t,"foodEndSounds",b,i(t)),t}e(t,o);var r=t.prototype;return r.playFoodStartSound=function(){this.audioSource.playOneShot(l.getRandom(this.foodStartSounds),1.4)},r.playFoodingSound=function(){this.audioSource.clip=this.foodingSound,this.audioSource.loop=!0,this.audioSource.play(),this.audioSource.volume=.5*s.SoundFXVolume},r.playFoodEndSound=function(){this.audioSource.stop(),this.audioSource.playOneShot(l.getRandom(this.foodEndSounds),1.4)},r.update=function(o){this.audioSource.volume=.5*s.SoundFXVolume},t}(d)).prototype,"foodStartSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(y.prototype,"foodingSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(y.prototype,"foodEndSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=y))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/FloawerPot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./FrontYard.ts","./SniperPlant.ts","./SoundRescourses.ts"],(function(n){var t,i,o,a,e,l,s,r,h,d,m;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){e=n.cclegacy,l=n._decorator,s=n.Node},function(n){r=n.TileType},function(n){h=n.FrontYard},function(n){d=n.SniperPlant},function(n){m=n.sounds}],execute:function(){var p,c,P,u,C;e._RF.push({},"9a1e3m5hj5FhKdZE8VBqGLq","FloawerPot",void 0);var f=l.ccclass,y=l.property;n("FloawerPotPlant",(p=f("FloawerPotPlant"),c=y(s),p((C=t((u=function(n){function t(){for(var t,i=arguments.length,e=new Array(i),l=0;l<i;l++)e[l]=arguments[l];return t=n.call.apply(n,[this].concat(e))||this,o(t,"plantPoint",C,a(t)),t.planted=!1,t.ironed=!1,t.idle="Idle",t.idlePlanted="Idle_Planted",t.plant="Plant",t.recover="Recover",t.random=[],t}i(t,n);var e=t.prototype;return e.addPlant=function(){!this.planted&&this.inLnC.haveP()&&(this.planted=!0,this.foodable=!1,this.eaterDetectable=!1,this.fooding||this.anmControl.playAnimation(this.plant),this.anmControl.IdleAnim=this.idlePlanted,this.anmControl.RandomAnim=[])},e.unPlant=function(){this.planted&&!this.inLnC.haveP()&&(this.planted=!1,this.foodable=!this.ironed,this.eaterDetectable=!0,this.fooding||this.anmControl.playAnimation(this.recover),this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random)},e.specialSniperPlantDie=function(){this.inLnC.orgPlantPoint.worldPosition=this.inLnC.plantPoint.worldPosition},e.specialPlantFood=function(){this.foodable=!1,this.ironed=!0,this.anmControl.playAnimation("Food"),this.deathAnm="Death_Iron",this.idle="Idle_Iron",this.random=["Rand1_Iron"],this.recover="Recover_Iron",this.plant="Plant_Iron",this.idlePlanted="Idle_Planted_Iron",this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random,this.health=3*this.toughness},e.animationListener=function(n){"FoodEnd"==n.name&&this.foodEnd()},e.specialSniperPlantOnEnable=function(){this.planted=!1,this.random=this.anmControl.RandomAnim,this.idle=this.anmControl.IdleAnim},e.sniperPlantLocatable=function(){return this.ironed&&!this.planted},e.specialSniperPlantLocateStart=function(){this.anmControl.IdleAnim="Locating",this.anmControl.RandomAnim=[],this.anmControl.playRandom()},e.specialSniperPlantLocateCancel=function(){this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random,this.anmControl.playRandom()},e.onLeapEnd=function(){this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random,this.anmControl.playRandom()},e.specialSniperPlantTrigger=function(n){n.floawerPotable()?(this.leapTo(n,2.5,0),this.anmControl.IdleAnim="Moving",this.anmControl.RandomAnim=[],this.anmControl.playRandom()):(this.anmControl.IdleAnim=this.idle,this.anmControl.RandomAnim=this.random,this.anmControl.playRandom(),m.playSniperPlantCancelSound())},e.specialPlantDie=function(){this.inLnC.returnPlantPoint()},e.specialPlantUpdate=function(n){if(!this.dead&&this.inLnC){this.anmControl.potFront.node.worldPosition=this.anmControl.body.node.worldPosition,!this.planted&&this.inLnC.haveP()?this.addPlant():this.planted&&!this.inLnC.haveP()&&this.unPlant(),this.inLnC.setPPWdPos(this.plantPoint.worldPosition);var t=this.inLnC.getTileType();t==r.water?this.height=20*-h.depth(this.node.worldPosition.x):t==r.sky?this.height=-20:this.height=0}this.inLnC.getTileType()},t}(d)).prototype,"plantPoint",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=u))||P));e._RF.pop()}}}));

System.register("chunks:///_virtual/flowerLine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./levelController.ts","./UI.ts"],(function(e){var n,t,i,o,a,r,s,l,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator},function(e){o=e.Character},function(e){a=e.Rectangle},function(e){r=e.Square},function(e){s=e.sounds},function(e){l=e.LevelPlay},function(e){c=e.UIInGame}],execute:function(){var d,u;t._RF.push({},"710dfN9ySNCvJZktd3JMKYw","flowerLine",void 0);var h=i.ccclass;i.property,e("flowerLine",h("flowerLine")(((u=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).group=[],n.IdleAnmMode=0,n.dead=!1,n}n(t,e);var i=t.prototype;return i.characterUpdate=function(e){var n=this;if(!this.dead){if(l.component.gameWon)return void this.celebrate();var i=a.createRectangleCenter(this.worldPosition.clone(),r.SquareDisW/10,r.SquareDisH),o=a.createRectangleCenter(this.worldPosition.clone(),1.5*r.SquareDisW,r.SquareDisH),s=!1;this.inLane.zombiePool().forEach((function(e){n.dead||!e.flying&&e.walking&&e.willTrampleFlower()&&e.shouldSpeedScale()>0&&(e.bodyRec.judgeCrossRec(i)?n.die():!s&&e.bodyRec.judgeCrossRec(o)&&(s=!0,t.warning=!0,n.warn()))})),this.dead||(t.warning?this.warn():this.idle())}},i.die=function(e){var n=this;void 0===e&&(e=!0),this.dead||(this.dead=!0,e&&this.group.forEach((function(e){e!=n&&e.die(!1)})),s.playLevelTaskFail(),this.db.playAnimation("Die",1),c.uiingame.loseDarken(null,"","Don't let the zombies trample the flowers"))},i.warn=function(e){var n=this;void 0===e&&(e=!0),1!=this.IdleAnmMode&&(this.IdleAnmMode=1,e&&this.group.forEach((function(e){e!=n&&e.warn(!1)})),this.db.playAnimation("Nervous",1))},i.idle=function(e){0!=this.IdleAnmMode&&(this.IdleAnmMode=0,t.warning||this.db.playAnimation("Idle",1))},i.celebrate=function(){2!=this.IdleAnmMode&&(this.IdleAnmMode=2,this.db.playAnimation("Grow",1),s.playLevelTaskComplete())},i.characterOnEnable=function(){this.dead=!1,this.IdleAnmMode=1,this.idle()},i.characterLateUpdate=function(e){t.warning=!1},t}(o)).warning=!1,d=u))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/FrontYard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tide.ts","./Square.ts","./stageEffect.ts","./lawn.ts","./SoundsController.ts","./CharacterManager.ts","./SoundManager.ts"],(function(e){var t,n,r,a,i,o,l,u,c,d,s,f,p,g,b,h,y,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Enum,u=e.Prefab,c=e.find,d=e.instantiate,s=e.Component},function(e){f=e.Tide},function(e){p=e.Square},function(e){g=e.StageEffect},function(e){b=e.lawn},function(e){h=e.MusicController},function(e){y=e.ZombiePool},function(e){m=e.WorldMusic}],execute:function(){var w,Y,C,k,S,v,T,z,L,E,N,F,D,_,M,B,P,W,H,I,A,U,q,x,R,Z,j,G,O,V,J,K,Q,X,$,ee,te,ne,re,ae,ie,oe,le,ue,ce,de,se,fe,pe,ge,be,he,ye,me;i._RF.push({},"02e9e6yW1pACZVbPL+GWHAz","FrontYard",void 0);var we=o.ccclass,Ye=o.property,Ce=e("yardType",function(e){return e[e.modern=0]="modern",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.future=4]="future",e[e.dark=5]="dark",e[e.beach=6]="beach",e[e.ice=7]="ice",e[e.iceUlt=8]="iceUlt",e[e.lost=9]="lost",e[e.lostNight=10]="lostNight",e[e.sky=11]="sky",e[e.stage=12]="stage",e[e.dino=13]="dino",e[e.frontYardCircus=14]="frontYardCircus",e[e.frontYardDark=15]="frontYardDark",e[e.frontYardStage=16]="frontYardStage",e[e.frontYardDino=17]="frontYardDino",e[e.frontYardSummerNight=18]="frontYardSummerNight",e[e.frontYardLunar=19]="frontYardLunar",e[e.frontYardHalloween=20]="frontYardHalloween",e[e.lostInTime=21]="lostInTime",e[e.arena=22]="arena",e[e.yardAmount=23]="yardAmount",e}({})),ke=e("stageEffects",function(e){return e[e.punk=0]="punk",e[e.pop=1]="pop",e[e.rap=2]="rap",e[e.eightbit=3]="eightbit",e[e.metal=4]="metal",e[e.none=5]="none",e}({}));l(Ce);e("FrontYard",(w=we("FrontYard"),Y=Ye(u),C=Ye({type:Ce}),k=Ye(u),S=Ye(u),v=Ye(u),T=Ye(u),z=Ye(u),L=Ye(u),E=Ye(u),N=Ye(u),F=Ye(u),D=Ye(u),_=Ye(u),M=Ye(u),B=Ye(u),P=Ye(u),W=Ye(u),H=Ye(u),I=Ye(u),A=Ye(u),U=Ye(u),q=Ye(u),x=Ye(u),R=Ye(u),Z=Ye(u),w(((me=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"tide",O,a(t)),r(t,"yardType",V,a(t)),r(t,"modern",J,a(t)),r(t,"egypt",K,a(t)),r(t,"pirate",Q,a(t)),r(t,"cowboy",X,a(t)),r(t,"future",$,a(t)),r(t,"dark",ee,a(t)),r(t,"beach",te,a(t)),r(t,"ice",ne,a(t)),r(t,"iceUlt",re,a(t)),r(t,"lost",ae,a(t)),r(t,"lostNight",ie,a(t)),r(t,"sky",oe,a(t)),r(t,"stage",le,a(t)),r(t,"dino",ue,a(t)),r(t,"frontYardCircus",ce,a(t)),r(t,"frontYardDark",de,a(t)),r(t,"frontYardStage",se,a(t)),r(t,"frontYardDino",fe,a(t)),r(t,"frontYardSummerNight",pe,a(t)),r(t,"frontYardLunar",ge,a(t)),r(t,"frontYardHalloween",be,a(t)),r(t,"lostInTime",he,a(t)),r(t,"arena",ye,a(t)),t.currentStageType=ke.none,t.tide_=null,t}n(t,e),t.levelPlayStart=function(){c("Canvas/FrontYard").getComponent(t).levelPlayStart()},t.addTide=function(){c("Canvas/FrontYard").getComponent(t)._addTide()},t.pushTide=function(e){var n;null==(n=c("Canvas/FrontYard").getComponent(t).tide_)||n.getComponent(f).pushTide(e)},t.pullTide=function(e){var n;null==(n=c("Canvas/FrontYard").getComponent(t).tide_)||n.getComponent(f).pullTide(e)},t.depth=function(e){var n=c("Canvas/FrontYard").getComponent(t);return n.tide_?n.tide_.worldPosition.x>e?0:Math.min(1,(e-n.tide_.worldPosition.x)/p.SquareDisW):0},t.changeFrontYardByString=function(e){e.includes("Tutorial")||e.includes("Modern")?this.changeFrontYard(Ce.modern):e.includes("EgyptStage")?this.changeFrontYard(Ce.egypt):e.includes("PirateStage")?this.changeFrontYard(Ce.pirate):e.includes("WestStage")?this.changeFrontYard(Ce.cowboy):this.changeFrontYard(Ce.modern)},t.changeFrontYard=function(e){return c("Canvas/FrontYard").getComponent(t).changeLawn(e)};var i=t.prototype;return i.changeLawn=function(e){var n,r;t.currentLawnYardType=e,null==(n=t.currentLawn)||null==(n=n.node)||n.destroy(),null==(r=this.tide_)||r.destroy(),this.tide_=null;var a=null;switch(e){case Ce.egypt:a=d(this.egypt);break;case Ce.sky:a=d(this.sky);break;case Ce.frontYardCircus:a=d(this.frontYardCircus);break;case Ce.frontYardDark:a=d(this.frontYardDark);break;case Ce.frontYardStage:a=d(this.frontYardStage);break;case Ce.frontYardSummerNight:a=d(this.frontYardSummerNight);break;case Ce.frontYardLunar:a=d(this.frontYardLunar);break;case Ce.lostInTime:a=d(this.lostInTime);break;case Ce.cowboy:a=d(this.cowboy);break;case Ce.pirate:a=d(this.pirate);break;case Ce.frontYardHalloween:a=d(this.frontYardHalloween);break;case Ce.future:a=d(this.future);break;case Ce.arena:a=d(this.arena);break;case Ce.dark:a=d(this.dark);break;case Ce.beach:a=d(this.beach);break;case Ce.ice:a=d(this.ice);break;case Ce.iceUlt:a=d(this.iceUlt);break;case Ce.lost:a=d(this.lost);break;case Ce.lostNight:a=d(this.lostNight);break;case Ce.stage:a=d(this.stage);break;case Ce.dino:a=d(this.dino);break;case Ce.frontYardDino:a=d(this.frontYardDino);break;default:a=d(this.modern)}a.parent=this.node.getChildByName("lawn"),a.setSiblingIndex(0);var i=a.getComponent(b);return t.currentLawn=i,this.currentStageType==ke.none&&h.switchWorldMusic(i.worldMusic),this.scheduleOnce(p.setSquareType,0),i},t.getStageEffect=function(){return c("Canvas/FrontYard").getComponent(t).currentStageType},t.setStageEffect=function(e){var n=c("Canvas/FrontYard").getComponent(t),r=n.node.getChildByName("stageEffect");if(e!=n.currentStageType)switch(n.currentStageType=e,e){case ke.punk:h.switchWorldMusic(m.Punk),r.children.forEach((function(e){e.getComponent(g).playEnd()})),r.getChildByName("punk").getComponent(g).playStart();break;case ke.pop:h.switchWorldMusic(m.Pop),r.children.forEach((function(e){e.getComponent(g).playEnd()})),r.getChildByName("pop").getComponent(g).playStart();break;case ke.rap:h.switchWorldMusic(m.Rap),r.children.forEach((function(e){e.getComponent(g).playEnd()})),r.getChildByName("rap").getComponent(g).playStart();break;case ke.eightbit:h.switchWorldMusic(m.Eightbit),r.children.forEach((function(e){e.getComponent(g).playEnd()})),r.getChildByName("eightBit").getComponent(g).playStart();break;case ke.metal:h.switchWorldMusic(m.Metal),r.children.forEach((function(e){e.getComponent(g).playEnd()})),r.getChildByName("metal").getComponent(g).playStart();break;default:h.switchWorldMusic(this.currentLawn.worldMusic),r.children.forEach((function(e){e.getComponent(g).playEnd()}))}},i._addTide=function(){this.tide_||(this.tide_=d(this.tide),this.tide_.parent=this.node.getChildByName("tide"),this.tide_.getComponent(f).standardize())},i.onLoad=function(){t.railLayer=this.node.getChildByName("rail"),t.cartLayer=this.node.getChildByName("cart"),t.component=this,t.currentLawnYardType=Ce.modern,t.currentLawn=null},i.update=function(e){t.windy>0&&(y.pool().concat().forEach((function(e){e.flying&&e.blowAway()})),t.windy-=e),t.windy<0&&(t.windy=0)},i.start=function(){this.changeLawn(this.yardType),t.currentLawn.busyDropsun=1/0},i.levelPlayStart=function(){t.currentLawn.busyDropsun=3},t}(s)).component=void 0,me.windy=0,me.currentLawnYardType=void 0,me.currentLawn=void 0,me.railLayer=void 0,me.cartLayer=void 0,O=t((G=me).prototype,"tide",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(G.prototype,"yardType",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ce.modern}}),J=t(G.prototype,"modern",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(G.prototype,"egypt",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(G.prototype,"pirate",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(G.prototype,"cowboy",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(G.prototype,"future",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(G.prototype,"dark",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(G.prototype,"beach",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(G.prototype,"ice",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(G.prototype,"iceUlt",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(G.prototype,"lost",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(G.prototype,"lostNight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(G.prototype,"sky",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(G.prototype,"stage",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(G.prototype,"dino",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(G.prototype,"frontYardCircus",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(G.prototype,"frontYardDark",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(G.prototype,"frontYardStage",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(G.prototype,"frontYardDino",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(G.prototype,"frontYardSummerNight",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(G.prototype,"frontYardLunar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(G.prototype,"frontYardHalloween",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(G.prototype,"lostInTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(G.prototype,"arena",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=G))||j));i._RF.pop()}}}));

System.register("chunks:///_virtual/FumeShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./fumeShroomSound.ts","./NodePools.ts","./Square.ts"],(function(t){var o,e,n,i,a,r,s,c,l,u,h,d,m,f,b,p;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Prefab,c=t.Node,l=t.dragonBones,u=t.Vec3,h=t.Vec2},function(t){d=t.Plant},function(t){m=t.Rectangle},function(t){f=t.fumeShroomSound},function(t){b=t.NodePools},function(t){p=t.Square}],execute:function(){var y,g,P,S,D,v,L,k,C,w,R,z,E,T,N,j,F,q,W,H,A;a._RF.push({},"55aa7VHxuJJmr3RtpmhWyai","FumeShroom",void 0);var I=r.ccclass,M=r.property;t("FumeShroomPlant",(y=I("FumeShroomPlant"),g=M({type:Number,min:0}),P=M(s),S=M(s),D=M(s),v=M({type:Number,min:0}),L=M({type:Number,min:0}),k=M({type:Number,min:0}),C=M(Number),w=M(c),y((E=o((z=function(t){function o(){for(var o,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this).busy=0,o.shooting=!1,n(o,"foodLastTime",E,i(o)),o.oldTimeScale=1,o.foodShooting=!1,n(o,"shootParticle",T,i(o)),n(o,"foodParticle",N,i(o)),n(o,"hitParticle",j,i(o)),n(o,"damage",F,i(o)),n(o,"foodDPS",q,i(o)),n(o,"foodTickKnockback",W,i(o)),o.enemyDetector=null,o.shootDetector=null,o.foodDetector=null,n(o,"attackInterval",H,i(o)),n(o,"mouth",A,i(o)),o}e(o,t);var a=o.prototype;return a.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.getComponent(f).playFoodSound()},a.specialPlantFoodEnd=function(){this.busy=0,this.foodShooting=!1},a.specialPlantOnSquareChange=function(t,o){this.setDetecter()},a.specialPlantOnEnable=function(){var t=this;this.busy=0,this.foodShooting=!1,this.anmControl.body.addEventListener(l.EventObject.COMPLETE,(function(){t.shooting=!1}),this)},a.animationListener=function(t){"shoot"==t.name&&this._shoot(),"shootSound"==t.name&&this.getComponent(f).playShootSound(),"foodStart"==t.name&&(this.oldTimeScale=this.anmControl.body.timeScale,this.anmControl.body.timeScale=3/this.foodLastTime,this.spawnParticle(this.foodParticle).getComponent(l.ArmatureDisplay).timeScale=3/this.foodLastTime,this.foodShooting=!0),"foodEnd"==t.name&&(this.anmControl.body.timeScale=this.oldTimeScale,this.foodEnd())},a.spawnParticle=function(t){var o=b.instantiatePooly(t);return o.parent=this.inLane.prjLayer,o.setWorldPosition(this.mouth.getWorldPosition()),o},a.spawnHitParticle=function(t){var o=b.instantiatePooly(this.hitParticle);return o.parent=this.inLane.prjLayer,o.setWorldPosition(new u(t.getWorldPosition().x,this.mouth.getWorldPosition().y)),o},a._shoot=function(){var t=this;this.spawnParticle(this.shootParticle),this.inLane.zombiePool().forEach((function(o){t.shootDetector.judgeCrossRec(o.bodyRec)&&(o.dealDamage(t.damage,!0,!1,!1),t.spawnHitParticle(o.node))})),this.inLane.tombPool().forEach((function(o){t.shootDetector.judgeCrossRec(o.bodyRec)&&(o.dealDamage(t.damage),t.spawnHitParticle(o.node))}))},a.setDetecter=function(){this.enemyDetector=m.createRectangleNodeSide(this.inLnC.node,4.5*p.SquareDisW,p.SquareDisH),this.shootDetector=m.createRectangleNodeSide(this.inLnC.node,5.5*p.SquareDisW,p.SquareDisH),this.foodDetector=m.createRectangleNodeSide(this.inLnC.node,20*p.SquareDisW,p.SquareDisH)},a.detectShootEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.enemyDetector.judgeCrossRec(t[o].bodyRec))return!0;for(var e=this.inLane.tombPool(),n=0;n<e.length;n++)if(this.enemyDetector.judgeCrossRec(e[n].bodyRec))return!0;return!1},a.shootAnimation=function(){this.shooting=!0,this.anmControl.playAnimation("Shoot",1,.1,Math.max(2.4/this.attackInterval,1));var t=.03*Math.round(5*Math.random())*(this.attackInterval/1.35);this.busy=this.attackInterval+t},a.waterable=function(){return!this.shooting},a.specialPlantUpdate=function(t){var o=this;(this.busy>0&&(this.busy-=t),this.busy<=0&&this.detectShootEnemy()&&!this.fooding&&this.shootAnimation(),this.foodShooting)&&(this.inLane.zombiePool().forEach((function(e){o.foodDetector.judgeCrossRec(e.bodyRec)&&(e.dealDamage(o.foodDPS*t,!0,!1,!1),e.knockBackable&&e.knockBackBy(new h(o.foodTickKnockback,0),!1))})),this.inLane.tombPool().forEach((function(e){o.foodDetector.judgeCrossRec(e.bodyRec)&&e.dealDamage(o.foodDPS*t)})))},o}(d)).prototype,"foodLastTime",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),T=o(z.prototype,"shootParticle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=o(z.prototype,"foodParticle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=o(z.prototype,"hitParticle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=o(z.prototype,"damage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),q=o(z.prototype,"foodDPS",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 800}}),W=o(z.prototype,"foodTickKnockback",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),H=o(z.prototype,"attackInterval",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.4}}),A=o(z.prototype,"mouth",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=z))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/fumeShroomSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./plantSound.ts"],(function(o){var n,t,e,r,i,u,a,l,s;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){i=o.cclegacy,u=o._decorator,a=o.AudioClip},function(o){l=o.ArrayGet},function(o){s=o.plantSound}],execute:function(){var c,d,p,f,S,h,y;i._RF.push({},"cade3ZxflpFtIpAVH6XXdrr","fumeShroomSound",void 0);var m=u.ccclass,b=u.property;o("fumeShroomSound",(c=m("fumeShroomSound"),d=b([a]),p=b(a),c((h=n((S=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return n=o.call.apply(o,[this].concat(i))||this,e(n,"shootSounds",h,r(n)),e(n,"foodSound",y,r(n)),n}t(n,o);var i=n.prototype;return i.playShootSound=function(){this.playOneShot(l.getRandom(this.shootSounds))},i.playFoodSound=function(){this.playOneShot(this.foodSound)},n}(s)).prototype,"shootSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=n(S.prototype,"foodSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=S))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/FutureJetpackZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Plant.ts","./NodePools.ts","./SoundsController.ts"],(function(t){var n,e,i,o,a,s,l,r,u,c,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,l=t.AudioClip},function(t){r=t.Zombie},function(t){u=t.PlantType},function(t){c=t.ArrayGet},function(t){h=t.SoundFXController}],execute:function(){var p,d,y,b,f,m,g;a._RF.push({},"37be5lN91pBzp7ia+0w4ui3","FutureJetpackZombie",void 0);var k=s.ccclass,S=s.property;t("FutureJetpackZombie",(p=k("FutureJetpackZombie"),d=S([l]),y=S([l]),p((m=n((f=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(n=t.call.apply(t,[this].concat(a))||this).rosen=!1,i(n,"bounceSound",m,o(n)),i(n,"steadySound",g,o(n)),n}e(n,t);var a=n.prototype;return a.specialAnimationListener=function(t){"walk"==t.name?(this.switching=!1,this.detectPlant(0)):"steady"==t.name?this.audioSource.playOneShot(c.getRandom(this.steadySound),h.SoundFXVolume):"bounce"==t.name&&this.audioSource.playOneShot(c.getRandom(this.bounceSound),h.SoundFXVolume)},a.rise=function(){this.rosen||(this.switching=!0,this.rosen=!0,this.walking=!1,this.body.playAnimation("Rise",1),this.body.WalkAnm="Walk_High")},a.land=function(){this.rosen&&(this.switching=!0,this.walking=!1,this.body.playAnimation("Land",1),this.body.WalkAnm="Walk",this.rosen=!1)},a.detectPlantOn=function(){return!this.switching},a.detectPlant=function(t){var n;if(0!=t&&this.detectPlantOn()){var e=this.plantDetectorRec,i=null;this.ignorePlants()||this.inLane.plantPool().forEach((function(t){t.eaterDetectable&&!t.short_&&e.judgeCrossRec(t.bodyRec)&&(i&&t.plantType!=u.vine&&t.plantType!=u.plant&&t.plantType!=u.lilyPad&&t.plantType!=u.pot||(!i||i&&!i.tall_)&&(i=t))})),null!=(n=i)&&n.tall_?this.rosen?this.land():(i.eat(this.dps*t,this),this.playEat(t)):i?this.rosen||this.rise():this.rosen?this.land():this.playWalk()}},a.specialZombieOnEnable=function(){this.rosen=!1,this.body.WalkAnm="Walk",this.walking=!1,this.playWalk()},n}(r)).prototype,"bounceSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=n(f.prototype,"steadySound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=f))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/GargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./SoundsController.ts","./Zombies.ts","./Square.ts"],(function(t){var n,e,i,o,a,r,s,h,l,u,c,m,p,d,S,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,h=t.AudioClip,l=t.Node,u=t.Vec2},function(t){c=t.Zombie},function(t){m=t.ArrayGet},function(t){p=t.SoundFXController},function(t){d=t.zombies,S=t.ZombieEnum},function(t){g=t.Square}],execute:function(){var f,y,w,b,I,v,P,T,O,R,_,L,z,D,F,A,C,G,Z,E,x,j,W;r._RF.push({},"c2c47hz+DBG6rPjf1JE6vJA","GargantuarZombie",void 0);var k=s.ccclass,q=s.property,X=t("gargantuar",function(){function t(){}return t.throwOneImpToLnC=function(t,n,e,i,o,a,r,s){void 0===s&&(s=0);var h=new u(g.getSquareWorldPosition(i.lIndex,i.cIndex).x,i.inLane.floorY).add(new u(s,0));return this.throwOneImpToWP(t,n,e,h,o,a,r)},t.throwOneImpByLnC=function(t,n,e,i,o,a,r){var s=e.clone().add(new u(i.x*g.SquareDisW,i.y*g.SquareDisH));return this.throwOneImpToWP(t,n,e,s,o,a,r)},t.throwOneImpToWP=function(t,n,e,i,o,a,r){var s=d.getZombie(t);s.parent=n.zombieLayer;var h=s.getComponent(c);h.worldPosition=e;var l=i.clone();return h.flying=!0,h.height=o,h.leapTo(l,!0,r,a),h},t}());t("GargantuarZombie",(f=k("GargantuarZombie"),y=q([h]),w=q([h]),b=q([h]),I=q([h]),v=q([h]),P=q([h]),T=q([h]),O=q([h]),R=q([h]),_=q(l),f((D=n((z=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"stepSounds",D,o(n)),i(n,"deathPoleSounds",F,o(n)),i(n,"deathFallSounds",A,o(n)),i(n,"swingSounds",C,o(n)),i(n,"smashSounds",G,o(n)),i(n,"afterSmashSaySounds",Z,o(n)),i(n,"ImpThrowSaySounds",E,o(n)),i(n,"ImpThrowSounds",x,o(n)),i(n,"throwSounds",j,o(n)),n.isGargantuar=!0,i(n,"impThrower",W,o(n)),n.impEnum=S.modern_imp,n._haveImp=!0,n}e(n,t);var r=n.prototype;return r.playEat=function(t){this.walking=!1},r.detectPlant=function(t){var n=this;if(this.detectPlantOn()&&!(t<=0)){var e=!1;this.inLane.plantPool().forEach((function(t){e||t.smasherDetectable&&t.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(e=!0)})),e?(this.walking=!1,this.switching=!0,this.correctShadeWP(),this.body.playAnimation("Smash",1)):this.playWalk()}},r.playSpecialZombieDie=function(t){this.judgeDeath()},r.specialGargantuarOnEnable=function(){},r.specialZombieOnEnable=function(){this.haveImp=!0,this.specialGargantuarOnEnable()},r.throwImp=function(){this._throwImp()},r._throwImp=function(t,n,e){if(void 0===t&&(t=this.lIndex),void 0===n&&(n=2),void 0===e&&(e=250),this._haveImp){this.haveImp=!1;var i=X.throwOneImpToLnC(this.impEnum,this.inLane,new u(this.impThrower.worldPosition.x,this._worldPositionY),g.getLnC(t,n),this.impThrower.worldPosition.y-this._worldPositionY,e,1.5);return i.body.playAnimation("Fly",1/0),i}return null},r.specialAshPlayed=function(t){this._haveImp},r.specialTriggerGameLose=function(){this.body.playAnimation("Smash",1/0)},r.specialZombieUpdate=function(t){t>0&&!this.switching&&this._haveImp&&this.health<this.toughness/2&&this.inLnC.cIndex>2&&(this.walking=!1,this.switching=!0,this.body.playAnimation("Throw",1),this.ImpThrowSaySounds.length&&this.audioSource.playOneShot(m.getRandom(this.ImpThrowSaySounds),p.SoundFXVolume))},r.onSmashing=function(){},r._smash=function(){var t,n=this,e=null;this.inLane.plantPool().forEach((function(t){t.smasherDetectable&&t.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(!e||e.bodyRec.prjX().y<t.bodyRec.prjX().y)&&(e=t)})),null==(t=e)||t.smash(this,!0),this.onSmashing()},r.specialGargantuarAnimationListener=function(t){},r.specialAnimationListener=function(t){"step"==t.name&&this.stepSounds.length?this.playOneShot(m.getRandom(this.stepSounds),1,!0):"deathPole"==t.name&&this.deathPoleSounds.length?this.playOneShot(m.getRandom(this.deathPoleSounds),1,!0):"deathFall"==t.name&&this.deathFallSounds.length||"deathFall"==t.name&&this.deathFallSounds.length?this.playOneShot(m.getRandom(this.deathFallSounds),1,!0):"swing"==t.name&&this.swingSounds.length?this.playOneShot(m.getRandom(this.swingSounds),1,!0):"smash"==t.name?(this.smashSounds.length&&this.playOneShot(m.getRandom(this.smashSounds),1,!0),this._smash()):"afterSmash"==t.name&&this.afterSmashSaySounds.length?this.playOneShot(m.getRandom(this.afterSmashSaySounds)):"switchingFalse"==t.name?this.switching=!1:"impThrow"==t.name&&(this.throwImp(),this.throwSounds.length&&this.playOneShot(m.getRandom(this.throwSounds),1,!0),this.ImpThrowSounds.length&&this.playOneShot(m.getRandom(this.ImpThrowSounds))),this.specialGargantuarAnimationListener(t)},a(n,[{key:"haveImp",set:function(t){this._haveImp=t,this.db.armature().getSlots().forEach((function(n){n.name.includes("_IMP")&&n._setDisplayIndex(t?0:-1)}))}}]),n}(c)).prototype,"stepSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(z.prototype,"deathPoleSounds",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=n(z.prototype,"deathFallSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(z.prototype,"swingSounds",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(z.prototype,"smashSounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(z.prototype,"afterSmashSaySounds",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(z.prototype,"ImpThrowSaySounds",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=n(z.prototype,"ImpThrowSounds",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(z.prototype,"throwSounds",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=n(z.prototype,"impThrower",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=z))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/GatlingPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./peaShooterSound.ts","./NodePools.ts"],(function(t){var n,o,e,i,a,s,r,l,h,u,p,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Prefab,l=t.Node,h=t.Vec2},function(t){u=t.PeashooterPlant},function(t){p=t.peaShooterSound},function(t){c=t.ArrayGet}],execute:function(){var d,g,f,S,m,y,b;a._RF.push({},"7c304jCsOFJf6EXcGQQEYBT","GatlingPea",void 0);var P=s.ccclass,w=s.property;t("GatlingPeaPlant",(d=P("GatlingPeaPlant"),g=w([r]),f=w(l),d((y=n((m=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,e(n,"randomFoodPrj",y,i(n)),e(n,"peaSpawnpoint2",b,i(n)),n.gatlingSlots=[],n.gatlingTubeSlots=[],n}o(n,t);var a=n.prototype;return a.specialPeashooterOnEnable=function(){this.projectileSpeed=1},a.specialPlantOnLoad=function(){var t=this;this.gatlingSlots=[],this.gatlingTubeSlots=[],this.anmControl.body.armature().getSlots().forEach((function(n){n.name.includes("_GUN")&&(n.name.includes("_GUNTUBE")&&t.gatlingTubeSlots.push(n),t.gatlingSlots.push(n))}))},a.onFoodLeftPeaCountDec=function(){var t=c.getRandom(this.randomFoodPrj.concat([this.pea]));if(this._shoot(!0,!0,t),this.lIndex>0){var n=this._shoot(!0,!0,t,15,new h,this.peaSpawnpoint2);n.linearVelocity=new h(15,17),n.deceleration=new h(0,-.9)}if(this.lIndex<4){var o=this._shoot(!0,!0,t,15,new h,this.peaSpawnpoint2);o.linearVelocity=new h(15,-17),o.deceleration=new h(0,.9)}},a.specialPlantFood=function(t){this.upgraded?(this.anmControl.playAnimation("Food",1/0),this.foodShooting(),this.gunTubeIgnite(!0),this.getComponent(p).playFood(),this.busy=1/0):(this.upgrade(),this.anmControl.playAnimation("FoodStart",2))},a.gunTubeIgnite=function(t){void 0===t&&(t=!0),this.upgraded&&this.gatlingTubeSlots.forEach((function(n){var o;null==(o=n.childArmature)||o.animation.play(t?"Shooting":"Idle",1/0)}))},a.specialPlantDie=function(){this.gunTubeIgnite(!1)},a.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.gunTubeIgnite(!1),this.busy=0,this.getComponent(p).playFoodEnd()},a.animationListenerAdd=function(t){"Shoot"==t.name?(this.getComponent(p).playShootSound(1.5),this.upgraded&&(this._shoot(!1,!1,this.pea,15,new h(1,.9),this.peaSpawnpoint2),this._shoot(!1,!1,this.pea,15,new h(1,-.9),this.peaSpawnpoint2))):"ShootStart"==t.name?this.gunTubeIgnite(!0):"ShootEnd"==t.name?this.gunTubeIgnite(!1):"foodStart"==t.name&&(this.anmControl.playAnimation("Food",1/0),this.foodShooting(),this.gunTubeIgnite(!0),this.getComponent(p).playFood(),this.busy=1/0)},a.upgrade=function(){this.upgraded=!0,this.getComponent(p).playUpgrade(),this.gatlingSlots.forEach((function(t){t.displayIndex=0}))},n}(u)).prototype,"randomFoodPrj",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=n(m.prototype,"peaSpawnpoint2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=m))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/gem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./GemCount.ts","./SoundRescourses.ts","./CoinCollecterInGame.ts"],(function(n){var e,o,t,r,i,u,c,a,l,p,s;return{setters:[function(n){e=n.applyDecoratedDescriptor,o=n.inheritsLoose,t=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,u=n._decorator,c=n.AudioClip},function(n){a=n.dropping},function(n){l=n.GemCount},function(n){p=n.sounds},function(n){s=n.CoinCollecterInGame}],execute:function(){var d,f,m,g,C;i._RF.push({},"9c82ddzQiBIoIrReCwl2WVY","gem",void 0);var y=u.ccclass,h=u.property;n("gem",(d=y("gem"),f=h(c),d((C=e((g=function(n){function e(){for(var e,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=n.call.apply(n,[this].concat(i))||this,t(e,"dropSound",C,r(e)),e}o(e,n);var i=e.prototype;return i.specialOnGroundHit=function(){p.play(this.dropSound,1,0)},i.goToUIPath=function(){return"Canvas/UIInGameUpper/CurrencyCount/GemSlot"},i.specialGoToUI=function(n){var e;s.component.hidden=!1,null==(e=l.component)||e.addGemCount(1)},e}(a)).prototype,"dropSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/GemCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CurrencyCount.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(e){var t,n,o,r,u,i,c,l,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){u=e.cclegacy,i=e._decorator,c=e.AudioClip},function(e){l=e.CurrencyCount},function(e){s=e.AllPlayerProperties},function(e){a=e.sounds}],execute:function(){var p,f,d,h,m,y;u._RF.push({},"e255fGKX6hKqqtVL4jk61z+","GemCount",void 0);var C=i.ccclass,v=i.property;e("GemCount",(p=C("GemCount"),f=v(c),p(((y=function(e){function t(){for(var t,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return t=e.call.apply(e,[this].concat(u))||this,o(t,"gemCollectSound",m,r(t)),t}n(t,e);var u=t.prototype;return u.start=function(){this.shownValue=isNaN(s.currentPlayer.gem)?0:s.currentPlayer.gem,this.value=this._shownValue},u.addGemCount=function(e){this.value+=e,a.play(this.gemCollectSound,1,.1)},u.decGemCount=function(e){this.value-=e},u.buyGem=function(){this.addGemCount(1)},u.onValueSet=function(e){s.currentPlayer.gem=e,s.savePP()},u.onLoad=function(){t.component=this},t}(l)).component=void 0,m=t((h=y).prototype,"gemCollectSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));u._RF.pop()}}}));

System.register("chunks:///_virtual/GlacierShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./levelController.ts","./glacierShroomSound.ts","./Zombie.ts","./Square.ts","./NodePools.ts"],(function(e){var t,n,o,i,a,r,l,s,c,h,u,p,f,d,m,C,g,b,y,w,z,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.CCFloat,s=e.Prefab,c=e.Color,h=e.AnimationComponent,u=e.tween,p=e.dragonBones,f=e.Vec3},function(e){d=e.Plant},function(e){m=e.ZombiePool,C=e.TombPool,g=e.Rectangle},function(e){b=e.LevelPlay},function(e){y=e.glacierShroomSound},function(e){w=e.zombieDamageType},function(e){z=e.Square},function(e){S=e.NodePools}],execute:function(){var P,D,I,L,v,E,F,R,k,A,x,_,B,T,q,W,G;a._RF.push({},"567d2qH5vZJW6Vx5t9S4QgI","GlacierShroom",void 0);var H=r.ccclass,O=r.property;e("GlacierShroomPlant",(P=H("GlacierShroomPlant"),D=O(l),I=O(s),L=O(l),v=O(s),E=O(c),F=O(c),R=O(l),P((x=t((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).lit=!1,o(t,"eatFreezeDuration",x,i(t)),t.eatFreezeCooldown=0,o(t,"splatParticle",_,i(t)),o(t,"freezeDuration",B,i(t)),t.awaken=!0,t.sleeping=0,t.switching=!1,o(t,"tileChillBuff",T,i(t)),t.tileBuffParticles=[],o(t,"freezeColor1",q,i(t)),o(t,"freezeColor2",W,i(t)),t.detector=void 0,o(t,"sleepDuration",G,i(t)),t.screenColor=new c(0,0,0,0),t}n(t,e);var a=t.prototype;return a.specialPlantFood=function(e){this.anmControl.playAnimation("Food",1),this.getComponent(h).stop(),this.anmControl.body.color=new c(255,255,255,255)},a.specialPlantOnEnable=function(){this.lit=!1,this.switching=!1,this.sleeping=0,this.awaken=!0,this.anmControl.body.armature().getSlots().forEach((function(e){e.name.includes("_LIT")&&e._setDisplayIndex(-1)})),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"]},a.splat=function(e){void 0===e&&(e=!1);var t=S.instantiatePooly(this.splatParticle);t.parent=this.inLane.node,t.worldPosition=this.node.worldPosition.clone().add3f(0,e?40:0,0),e||t.setSiblingIndex(0)},a.specialPlantOnEaten=function(e,t,n,o){this.lit&&this.eatFreezeCooldown<=0&&(this.eatFreezeCooldown=this.eatFreezeDuration,this.detectInRangeEnemies().forEach((function(e){e.flying||e.setFreeze(3),e.setChill(3)})),this.splat(!0),this.getComponent(y).playEatFreezeSound())},a.animationListener=function(e){var t=this;switch(e.name){case"Freeze":this.fooding&&(this.lit=!0,this.anmControl.body.armature().getSlots().forEach((function(e){e.name.includes("_LIT")&&e._setDisplayIndex(0)})),this.switching=!1,this.sleeping=0,this.awaken=!0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.getComponent(y).playTornadoSound()),this.getComponent(y).playFreezeSound(),m.pool().concat().forEach((function(e){e.flying||e.setFreeze(t.freezeDuration),e.setChill(t.freezeDuration),e.dealDamage(20,!1,!1,!1,null,w.physicle)})),C.pool().concat().forEach((function(e){e.dealDamage(20)}));var n=u(this.screenColor).to(1/60/this.anmControl.body.timeScale,{r:this.freezeColor2.r,g:this.freezeColor2.g,b:this.freezeColor2.b,a:this.freezeColor2.a}).to(1/4/this.anmControl.body.timeScale,{a:0}).start();this.bodyTweens.push(n);break;case"screenFlashStart":this.screenColor=new c(this.freezeColor1.r,this.freezeColor1.g,this.freezeColor1.b,0);var o=u(this.screenColor).to(.5/this.anmControl.body.timeScale,{a:this.freezeColor1.a}).start();this.bodyTweens.push(o);break;case"foodEnd":this.foodEnd();break;case"sleepStart":this.switching=!1,this.awaken=!1,this.sleeping=this.sleepDuration,this.anmControl.IdleAnim="Sleep",this.anmControl.RandomAnim=[],this.getComponent(h).play("plantCooldown");break;case"steadySound":this.getComponent(y).playSteadySound();break;case"wakeSound":this.getComponent(y).playWakeSound();break;case"splat":this.splat();break;case"splatHigh":this.splat(!0)}},a.waterable=function(){return this.sleeping<=0&&!this.switching},a.specialPlantOnSquareChange=function(e,t){var n=this;this.detector=g.createRectangleNodeCenter(t.node,3*z.SquareDisW,3*z.SquareDisH),this.tileBuffParticles.forEach((function(e){e.playAnimation("Fade",1)})),this.tileBuffParticles=[],[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(e){if(e.LaneIndex>=0&&e.LaneIndex<=4){var t=S.instantiatePooly(n.tileChillBuff);t.parent=e.node;var o=t.getComponent(p.ArmatureDisplay);o.playAnimation("Spawn",1);var i=z.getSquareWorldPosition(e.LaneIndex,n.inLnC.cIndex);t.worldPosition=new f(i.x,i.y,4),t.setSiblingIndex(0),n.tileBuffParticles.push(o)}})),this.tileBuffParticles.forEach((function(e){e.armature().getSlots().forEach((function(e){e.name.includes("_snow")&&e._setDisplayIndex(n.lit?0:-1)}))}))},a.detectInRangeEnemies=function(){var e=this,t=[];return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){var o;null!=(o=e.detector)&&o.judgeCrossRec(n.bodyRec)&&t.push(n)})),t},a.specialPlantLateUpdate=function(e){0!=this.screenColor.a&&b.screenFlashColors.push(this.screenColor)},a.specialPlantUpdate=function(e){var t=this;this.eatFreezeCooldown>0&&(this.eatFreezeCooldown-=e),this.fooding||(this.sleeping>0&&(this.getComponent(h).getState("plantCooldown").speed=this.sleepDuration/(this.sleeping+.5),this.sleeping-=e),this.sleeping<0&&!this.awaken&&(this.awaken=!0,this.anmControl.playAnimation("Wake",1),this.getComponent(y).playWakeSound(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Rand1","Rand2"],this.getComponent(h).stop(),this.anmControl.body.color=new c(255,255,255,255)),this.anmControl.body.armature().getSlots().forEach((function(e){e.name.includes("_LIT")&&e._setDisplayIndex(t.lit?0:-1)}))),this.tileBuffParticles.forEach((function(e){e.armature().getSlots().forEach((function(e){e.name.includes("_snow")&&e._setDisplayIndex(t.lit?0:-1)}))})),this.detectInRangeEnemies().forEach((function(e){e.setChill(2)}))},a.specialPlantDie=function(){this.getComponent(h).stop(),this.anmControl.body.color=new c(255,255,255,255),this.tileBuffParticles.forEach((function(e){e.playAnimation("Fade",1)}))},a.specialPlantOnMouseDown=function(){return this.sleeping<=0&&!this.switching&&!this.fooding&&(this.anmControl.playAnimation("Freeze",1),this.switching=!0,!0)},t}(d)).prototype,"eatFreezeDuration",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.5}}),_=t(A.prototype,"splatParticle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(A.prototype,"freezeDuration",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),T=t(A.prototype,"tileChillBuff",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(A.prototype,"freezeColor1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0,0)}}),W=t(A.prototype,"freezeColor2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0,0)}}),G=t(A.prototype,"sleepDuration",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),k=A))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/glacierShroomSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundsController.ts"],(function(e){var o,n,t,u,r,i,a,l,d,S,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,u=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,a=e.AudioClip,l=e.AudioSource,d=e.Component},function(e){S=e.ArrayGet},function(e){c=e.SoundFXController}],execute:function(){var s,p,f,h,y,m,b,z,g,F,w,C,k,v,D;r._RF.push({},"d69211TCh1JbqfIlor39+aB","glacierShroomSound",void 0);var X=i.ccclass,O=i.property;e("glacierShroomSound",(s=X("glacierShroomSound"),p=O([a]),f=O([a]),h=O([a]),y=O(a),m=O(a),b=O(a),s((F=o((g=function(e){function o(){for(var o,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(o=e.call.apply(e,[this].concat(r))||this).audioSource=null,t(o,"freezeSound",F,u(o)),t(o,"steadySound",w,u(o)),t(o,"eatFreezeSound",C,u(o)),o.eatFreezeSoundCoolDown=0,t(o,"tornadoSound",k,u(o)),t(o,"wakeSound",v,u(o)),t(o,"wakeCoffeeSound",D,u(o)),o}n(o,e);var r=o.prototype;return r.onLoad=function(){this.getComponent(l)||this.addComponent(l),this.audioSource=this.getComponent(l)},r.playFreezeSound=function(){this.audioSource.playOneShot(S.getRandom(this.freezeSound),c.SoundFXVolume)},r.playSteadySound=function(){this.audioSource.playOneShot(S.getRandom(this.steadySound),c.SoundFXVolume)},r.playEatFreezeSound=function(){this.eatFreezeSoundCoolDown<=0&&this.audioSource.playOneShot(S.getRandom(this.eatFreezeSound),c.SoundFXVolume)},r.playTornadoSound=function(){this.audioSource.playOneShot(this.tornadoSound,c.SoundFXVolume)},r.playWakeSound=function(){this.audioSource.playOneShot(this.wakeSound,c.SoundFXVolume),this.audioSource.playOneShot(this.wakeCoffeeSound,c.SoundFXVolume)},r.update=function(e){this.eatFreezeSoundCoolDown>0&&this.eatFreezeSoundCoolDown--},o}(d)).prototype,"freezeSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=o(g.prototype,"steadySound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=o(g.prototype,"eatFreezeSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=o(g.prototype,"tornadoSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=o(g.prototype,"wakeSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=o(g.prototype,"wakeCoffeeSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=g))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/GloomShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./gloomShroomSound.ts"],(function(e){var o,n,t,i,a,r,c,s,l,h,u,d,b,p,f,P;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.CCFloat,s=e.Prefab,l=e.Vec2,h=e.dragonBones},function(e){u=e.Plant},function(e){d=e.Rectangle},function(e){b=e.Square},function(e){p=e.zombieDamageType},function(e){f=e.NodePools},function(e){P=e.gloomShroomSound}],execute:function(){var g,m,y,L,k,w,C,D,S,R,z,B,v,j,q,E,H,T,M;a._RF.push({},"5105cpihGRCsI7JLSfvlvOf","GloomShroom",void 0);var U=r.ccclass,x=r.property;e("GloomShroomPlant",(g=U("GloomShroomPlant"),m=x(c),y=x(c),L=x(c),k=x(c),w=x(s),C=x(s),D=x(s),S=x(s),g((B=o((z=function(e){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return o=e.call.apply(e,[this].concat(a))||this,t(o,"attackDuration",B,i(o)),o.attackCD=0,t(o,"DPS",v,i(o)),o.bubbleDuration=.5,o.bubbleCountDown=0,o.detector=d.createRectangleCenter(new l(0,0),0,0),t(o,"poisonDPS",j,i(o)),o.attacking=!1,t(o,"foodDPS",q,i(o)),o.dragging=0,t(o,"shootParticleHere",E,i(o)),t(o,"shootParticleThere",H,i(o)),t(o,"foodParticleHere",T,i(o)),t(o,"foodParticleThere",M,i(o)),o}n(o,e);var a=o.prototype;return a.waterable=function(){return!this.attacking},a.specialPlantOnSquareChange=function(e,o){this.setDetector(e,o)},a.setDetector=function(e,o){this.detector=d.createRectangleNodeCenter(o.node,3*b.SquareDisW,3*b.SquareDisH)},a.specialPlantOnEnable=function(){this.attacking=!1,this.attackCD=0},a.attack=function(e){var o=this;this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){n.bodyRec.judgeCrossRec(o.detector)&&n.dealDamage(e,!0,!1,!1,null,p.physicle,!0)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){n.bodyRec.judgeCrossRec(o.detector)&&n.dealDamage(e)}))},a.specialPlantUpdateForce=function(e){var o=this;this.bubbleCountDown>0&&(this.bubbleCountDown-=e,this.fooding&&this.push(),this.detectEnemies((this.fooding?this.foodDPS:this.DPS)*e),this.darkModeOn&&this.inLnC.get3x3().forEach((function(n){n!=o.inLnC&&n.setShadowBuff(20*e,!1)}))),this.dragging>0&&(this.dragging-=e,this.drag())},a.detectEnemies=function(e){var o=this;void 0===e&&(e=0);var n=!1;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(t){n&&e<=0||t.bodyRec.judgeCrossRec(o.detector)&&(n=!0,e>0&&(t.dealDamage(e,!0,!1,!1,null,p.physicle),o.darkModeOn&&t.setPoison(o.poisonDPS,.1)))})),(!n||e>0)&&this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(t){n&&e<=0||t.bodyRec.judgeCrossRec(o.detector)&&(n=!0,e>0&&t.dealDamage(e))})),n},a.specialPlantUpdate=function(e){this.fooding||(this.attackCD>0&&(this.attackCD-=e),this.attackCD<=0&&this.detectEnemies()&&(this.attackCD=this.attackDuration,this.anmControl.playAnimation("Attack",1,.1,Math.min(1,1.7/this.attackDuration)),this.attacking=!0))},a.specialPlantFood=function(e){this.bubbleCountDown=0,this.dragging=0,this.attacking=!1,this.attackCD=0,this.anmControl.playAnimation("Food",1)},a.drag=function(){var e=this,o=d.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y+2*b.SquareDisH),3*b.SquareDisW,b.SquareDisH),n=d.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y-2*b.SquareDisH),3*b.SquareDisW,b.SquareDisH),t=d.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y+b.SquareDisH),5*b.SquareDisW,b.SquareDisH),i=d.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y-b.SquareDisH),5*b.SquareDisW,b.SquareDisH),a=d.createRectangleCenter(new l(this.inLnC.node.worldPosition.x,this.inLnC.node.worldPosition.y),5*b.SquareDisW,b.SquareDisH);this.inLane.UpperLane.UpperLane.zombiePool().forEach((function(e){!e.knockBackTween&&e.bodyRec.judgeCrossRec(o)&&e.knockBackBy(new l(0,1),!1,.4)})),this.inLane.LowerLane.LowerLane.zombiePool().forEach((function(e){!e.knockBackTween&&e.bodyRec.judgeCrossRec(n)&&e.knockBackBy(new l(0,-1),!1,.4)})),this.inLane.UpperLane.zombiePool().forEach((function(o){o.knockBackTween||!o.bodyRec.judgeCrossRec(t)||o.bodyRec.judgeCrossRec(e.detector)||o.knockBackBy(new l(o.bodyRec.prjX().y>e._worldPositionX?-1:1,0),!1,.4)})),this.inLane.zombiePool().forEach((function(o){o.knockBackTween||!o.bodyRec.judgeCrossRec(a)||o.bodyRec.judgeCrossRec(e.detector)||o.knockBackBy(new l(o.bodyRec.prjX().y>e._worldPositionX?-1:1,0),!1,.4)})),this.inLane.LowerLane.zombiePool().forEach((function(o){o.knockBackTween||!o.bodyRec.judgeCrossRec(i)||o.bodyRec.judgeCrossRec(e.detector)||o.knockBackBy(new l(o.bodyRec.prjX().y>e._worldPositionX?-1:1,0),!1,.4)}))},a.push=function(){var e=this;this.inLane.zombiePool().forEach((function(o){if(!o.knockBackTween&&o.bodyRec.judgeCrossRec(e.bodyRec)){var n=Math.round(Math.random())+Math.round(Math.random());(o.inLane.LaneIndex+n-1>4||o.inLane.LaneIndex+n-1<0)&&(n=2-n),o.knockBackBy(new l(1,n-1),!1,.4)}}))},a.animationListener=function(e){"foodEnd"==e.name?this.foodEnd():"ShootStart"==e.name?(this.getComponent(P).playShootSound(this.darkModeOn),this.bubbleCountDown=this.bubbleDuration,this.attacking=!1,this.spawnParticle(!1)):"push"==e.name?(this.bubbleCountDown=3,this.spawnParticle(!0)):"shootSound"==e.name?this.getComponent(P).playPreShootSound():"drag"==e.name?(this.dragging=1,this.getComponent(P).playPreShootSound()):"foodSound"==e.name&&this.getComponent(P).playFoodPushSound()},a.spawnParticle=function(e){var o=this;void 0===e&&(e=!1);var n=f.instantiatePooly(e?this.foodParticleHere:this.shootParticleHere),t=f.instantiatePooly(e?this.foodParticleThere:this.shootParticleThere);n.parent=this.inLane.prjLayer,n.worldPosition=this.shadeSocket.worldPosition.clone(),t.parent=this.inLane.UpperLane.prjLayer,t.worldPosition=this.shadeSocket.worldPosition.clone(),[n.getComponent(h.ArmatureDisplay),t.getComponent(h.ArmatureDisplay)].forEach((function(e){e.playAnimation("Play"+(o.darkModeOn?"Dark":""),1)}))},o}(u)).prototype,"attackDuration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),v=o(z.prototype,"DPS",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 160}}),j=o(z.prototype,"poisonDPS",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),q=o(z.prototype,"foodDPS",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1543}}),E=o(z.prototype,"shootParticleHere",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=o(z.prototype,"shootParticleThere",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=o(z.prototype,"foodParticleHere",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=o(z.prototype,"foodParticleThere",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=z))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/gloomShroomSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts"],(function(o){var t,n,r,e,i,u,a,l;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,r=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){i=o.cclegacy,u=o._decorator,a=o.AudioClip},function(o){l=o.plantSound}],execute:function(){var s,d,p,S,h,c,f,y,m,b,g;i._RF.push({},"388dbwItTdGe4nZnQQSJOCr","gloomShroomSound",void 0);var A=u.ccclass,v=u.property;o("gloomShroomSound",(s=A("gloomShroomSound"),d=v([a]),p=v([a]),S=v([a]),h=v(a),s((y=t((f=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return t=o.call.apply(o,[this].concat(i))||this,r(t,"shootSounds",y,e(t)),r(t,"shootSoundsAdd",m,e(t)),r(t,"preShootSounds",b,e(t)),r(t,"foodSound",g,e(t)),t}n(t,o);var i=t.prototype;return i.playShootSound=function(o){this.playOneShotFromArray(this.shootSounds),o&&this.playOneShotFromArray(this.shootSoundsAdd)},i.playPreShootSound=function(){this.playOneShotFromArray(this.preShootSounds)},i.playFoodPushSound=function(){this.playOneShot(this.foodSound)},t}(l)).prototype,"shootSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(f.prototype,"shootSoundsAdd",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=t(f.prototype,"preShootSounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=t(f.prototype,"foodSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f))||c));i._RF.pop()}}}));

System.register("chunks:///_virtual/GloomVine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./gloomVineSound.ts","./NodePools.ts"],(function(t){var e,o,n,a,i,r,c,s,l,u,h,d,f,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,c=t.CCFloat,s=t.Prefab,l=t.Vec2},function(t){u=t.Plant},function(t){h=t.Rectangle},function(t){d=t.Square},function(t){f=t.zombieDamageType},function(t){p=t.gloomVineSound},function(t){m=t.NodePools}],execute:function(){var P,b,g,L,D,k,y,C,S,w,z,v,R;i._RF.push({},"fa3ccoDNupO5rmnQnpQqZMp","GloomVine",void 0);var E=r.ccclass,F=r.property;t("GloomVinePlant",(P=E("GloomVinePlant"),b=F(c),g=F(c),L=F(c),D=F(s),k=F(s),P((S=e((C=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,n(e,"attackDuration",S,a(e)),e.attackCD=0,n(e,"damage",w,a(e)),e.detector=h.createRectangleCenter(new l(0,0),0,0),e.attacking=!1,n(e,"foodDPS",z,a(e)),e.foodStarted=!1,n(e,"shootParticle",v,a(e)),n(e,"foodParticle",R,a(e)),e}o(e,t);var i=e.prototype;return i.waterable=function(){return!this.attacking},i.specialPlantOnSquareChange=function(t,e){this.setDetector(t,e)},i.setDetector=function(t,e){this.detector=h.createRectangleNodeCenter(e.node,3*d.SquareDisW,3*d.SquareDisH)},i.specialPlantDie=function(){var t;null==(t=this.inLnC)||t.addBuff("darkBuff",!1)},i.specialPlantOnEnable=function(){this.attacking=!1,this.attackCD=0},i.attack=function(t){var e=this;this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(o){o.bodyRec.judgeCrossRec(e.detector)&&o.dealDamage(t,!0,!1,!1,null,f.physicle,!0)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(o){o.bodyRec.judgeCrossRec(e.detector)&&o.dealDamage(t)}))},i.detectEnemies=function(){var t=this,e=!1;this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(o){e||o.bodyRec.judgeCrossRec(t.detector)&&(e=!0)})),e||this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(o){e||o.bodyRec.judgeCrossRec(t.detector)&&(e=!0)})),e&&(this.attackCD=this.attackDuration,this.anmControl.playAnimation("Attack",1,.1,Math.min(1,2.7/this.attackDuration)),this.attacking=!0,this.getComponent(p).playShootSound())},i.specialPlantUpdateForce=function(t){var e;null==(e=this.inLnC)||e.setShadowBuff(20*t)},i.specialPlantUpdate=function(t){this.fooding?this.foodStarted&&this.attack(this.foodDPS*t):(this.attackCD>0&&(this.attackCD-=t),this.attackCD<=0&&this.detectEnemies())},i.specialPlantFood=function(t){this.foodStarted=!1,this.getComponent(p).playFoodSound(),this.attacking=!1,this.attackCD=0,this.anmControl.playAnimation("Food",1)},i.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"attack"==t.name?(this.attack(this.damage),this.attacking=!1,this.spawnParticle(!1)):"foodStart"==t.name&&(this.foodStarted=!0,this.spawnParticle(!0))},i.spawnParticle=function(t){void 0===t&&(t=!1);var e=m.instantiatePooly(t?this.foodParticle:this.shootParticle);e.parent=this.inLnC.particleLowerPoint,e.worldPosition=this.node.worldPosition},e}(u)).prototype,"attackDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.7}}),w=e(C.prototype,"damage",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),z=e(C.prototype,"foodDPS",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1543}}),v=e(C.prototype,"shootParticle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(C.prototype,"foodParticle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=C))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/gloomVineSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fumeShroomSound.ts"],(function(o){var n,e,u,t;return{setters:[function(o){n=o.inheritsLoose},function(o){e=o.cclegacy,u=o._decorator},function(o){t=o.fumeShroomSound}],execute:function(){var r;e._RF.push({},"9815e328IFB35X/TsIchTgh","gloomVineSound",void 0);var c=u.ccclass;u.property,o("gloomVineSound",c("gloomVineSound")(r=function(o){function e(){return o.apply(this,arguments)||this}return n(e,o),e}(t))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/GraveBuster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundsController.ts"],(function(t){var n,i,e,o,r,a,s,u,l,c,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.CCFloat,u=t.AudioClip,l=t.AudioSource},function(t){c=t.Plant},function(t){h=t.SoundFXController}],execute:function(){var p,m,b,d,f,S,C;r._RF.push({},"031f9TWSP1Ie4Y6Gu8MduTD","GraveBuster",void 0);var y=a.ccclass,v=a.property;t("GraveBusterPlant",(p=y("GraveBusterPlant"),m=v(s),b=v(u),p((S=n((f=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,e(n,"bustDuration",S,o(n)),e(n,"chompSound",C,o(n)),n}i(n,t);var r=n.prototype;return r.leapTo=function(t,n,i){},r.specialPlantOnEnable=function(){this.foodable=!1,this.anmControl.playAnimation("Spawn",1),this.deathAnm="",this._invincible=!1,this.getComponent(l).playOneShot(this.chompSound,h.SoundFXVolume)},r.specialPlantDie=function(){this.inLnC.tombStone&&this.inLnC.tombStone.hidden&&(this.inLnC.tombStone.hidden=!1,this.inLnC.tombStone.body.playAnimation("Spawn",1))},r.animationListener=function(t){"bust"==t.name?(this.inLnC.tombStone&&(this.inLnC.tombStone.hidden=!0),this.anmControl.playAnimation("Busting",1,0,4/this.bustDuration)):"finish"==t.name?(this.inLnC.tombStone&&this.inLnC.tombStone.die(!1),this.invincible=!0,this.smasherDetectable=!1,this.eaterDetectable=!1):"die"==t.name&&this.die()},n}(c)).prototype,"bustDuration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),C=n(f.prototype,"chompSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/GroundFire.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,e,o,r,s,a;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,o=t._decorator,r=t.dragonBones,s=t.Vec3,a=t.Component}],execute:function(){var l;e._RF.push({},"4eea59rJcFBK7blXRdNZ8tG","GroundFire",void 0);var h=o.ccclass;o.property,t("GroundFireColorEnum",function(t){return t[t.yellow=0]="yellow",t}({})),t("GroundFireSpreadStyleEnum",function(t){return t[t.split=0]="split",t[t.left=1]="left",t[t.right=2]="right",t[t.cross=3]="cross",t}({})),t("GroundFire",h("GroundFire")(l=function(t){function e(){for(var n,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(n=t.call.apply(t,[this].concat(e))||this).db=void 0,n._height=20,n.horizontal=!0,n.spawnDelay=0,n.duration=10,n.dead=!1,n.inLnC=void 0,n}n(e,t);var o=e.prototype;return o.onLoad=function(){this.db=this.getComponent(r.ArmatureDisplay),this.height=20},o.onEnable=function(){this.dead=!1,this.db.playAnimation("Spawn",1),this.spawnDelay>0&&(this.db.timeScale=0)},o.die=function(){this.dead||(this.dead=!0,this.db.playAnimation("Fade"))},o.update=function(t){var n,i;(this.spawnDelay>0&&(this.spawnDelay-=t),this.spawnDelay<=0)&&(this.db.timeScale=1,null==(n=this.inLnC)||null==(n=n.iceTile)||n.die(),this.horizontal&&8==this.inLnC.cIndex&&(null==(i=this.inLnC)||null==(i=i.inLane)||null==(i=i.iceTile)||i.die()));this.duration>0&&this.spawnDelay<=0&&(this.duration-=t),this.duration<=0&&this.die()},i(e,[{key:"height",get:function(){return this._height},set:function(t){this._height=t,this.node.worldScale=new s(.24,.24*t/20,.24)}}]),e}(a))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/GroundFiresManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./Square.ts","./Zombie.ts"],(function(n){var e,i,o,a,t,r,l,c;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy,o=n._decorator,a=n.Vec2,t=n.Component},function(n){r=n.Rectangle},function(n){l=n.Square},function(n){c=n.zombieDamageType}],execute:function(){var s,d;i._RF.push({},"8b17c4ftPhKSr6LGmdzBGzc","GroundFiresManager",void 0);var u=o.ccclass;o.property,n("GroundFiresManager",u("GroundFiresManager")(((d=function(n){function i(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))||this).jalapenoFires=[],e}e(i,n);var o=i.prototype;return o.onLoad=function(){i.component=this},o.registerJalapenoFire=function(n){-1==this.jalapenoFires.indexOf(n)&&this.jalapenoFires.push(n)},o.update=function(n){var e=this;this.jalapenoFires.concat().forEach((function(i){if(i.duration>0&&(i.duration-=n),i.groundFires.forEach((function(n){if(n.spawnDelay<=0&&!n.dead){var e,o,t,s;if(n.inLnC.inLane.zombiePool().length){var d=r.createRectangleNodeCenter(n.inLnC.node,l.SquareDisW,l.SquareDisH);n.horizontal&&0==n.inLnC.cIndex?d=r.createRectangleSide(new a(n.inLnC.node.worldPosition.x+l.SquareDisW/2,n.inLnC.node.worldPosition.y),9*-l.SquareDisW,l.SquareDisH):n.horizontal&&8==n.inLnC.cIndex&&(d=r.createRectangleSide(new a(n.inLnC.node.worldPosition.x-l.SquareDisW/2,n.inLnC.node.worldPosition.y),9*l.SquareDisW,l.SquareDisH)),n.inLnC.inLane.zombiePool().concat().forEach((function(n){-1==i.dealtZombies.indexOf(n)&&d.judgeCrossRec(n.bodyRec)&&(n.dealDamage(i.damage,i.armorProtection,!1,!1,null,c.fire),n.isAlive()&&i.dealtZombies.push(n))}))}if(null==(e=n.inLnC)||null==(e=e.iceTile)||e.die(),n.horizontal&&8==n.inLnC.cIndex)null==(s=n.inLnC)||null==(s=s.inLane)||null==(s=s.iceTile)||s.die();null!=(o=n.inLnC)&&o.tombStone&&-1==i.dealtTombs.indexOf(null==(t=n.inLnC)?void 0:t.tombStone)&&(n.inLnC.tombStone.dealDamage(i.damage),n.inLnC.tombStone.dead||i.dealtTombs.push(n.inLnC.tombStone))}})),i.dealtZombies.concat().forEach((function(n){if(!n.isAlive()){var e=i.dealtZombies.indexOf(n);i.dealtZombies.splice(e,1)}})),i.dealtTombs.concat().forEach((function(n){if(null!=n&&n.dead){var e=i.dealtTombs.indexOf(n);i.dealtZombies.splice(e,1)}})),i.duration<=0){var o=e.jalapenoFires.indexOf(i);e.jalapenoFires.splice(o,1)}}))},i}(t)).component=void 0,s=d))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/HomingThistle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./homingThistleSound.ts","./CharacterManager.ts"],(function(o){var e,t,i,n,a,l,r,s,c,d,h,u,p,y;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){a=o.cclegacy,l=o._decorator,r=o.Prefab,s=o.Vec2,c=o.TWO_PI},function(o){d=o.PeashooterPlant},function(o){h=o.homingThistleSound},function(o){u=o.ZombiePool,p=o.TombPool,y=o.LineSegment}],execute:function(){var f,m,P,g,v;a._RF.push({},"7bf93alJXlEGIcGkJdrzX2H","HomingThistle",void 0);var S=l.ccclass,b=l.property;o("HomingThistlePlant",(f=S("HomingThistle"),m=b(r),f((v=e((g=function(o){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=o.call.apply(o,[this].concat(a))||this,i(e,"peaFood",v,n(e)),e.css=[],e}t(e,o);var a=e.prototype;return a.setDetecter=function(o,e){},a.specialPlantOnEnable=function(){this.initialize(),this.css=[]},a.specialPlantFoodEnd=function(){this.busy=0},a.specialPlantFood=function(){this.busy=1/0,this.anmControl.playAnimation("FoodStart",0),this.getComponent(h).playFoodSound()},a.detectEnemy=function(){return u.pool().length>0||p.pool().length>0},a._shootPeaAnimation=function(){this.anmControl.playAnimation("Shoot",1,.1,Math.max(1.35/this.shootInterval,1)),this.getComponent(h).playSteadySound()},a.specialPlantUpdate=function(o){var e=this;this.busy>0&&(this.busy-=60*o),this.busy<=0&&!this.dead&&(this.busy=0,this.detectEnemy()&&this.startShooting());var t=null,i=null,n=u.pool().concat(),a=p.pool().concat();if(n.length>0){t=n[0];for(var l=1;l<n.length;l++)n[l].bodyRec.prjX().x<t.bodyRec.prjX().x&&(t=n[l]);this.css.concat().forEach((function(i){var n;if(i.dead){var a=e.css.indexOf(i);-1!=a&&e.css.splice(a,1)}else if(i.targetLocked=null==(n=t)?void 0:n.node,t){var l=new s(t._worldPositionX-i._worldPositionX,t._worldPositionY-i._worldPositionY),r=2.5*o*60;i.linearVelocity.cross(l)>0&&(r*=-1),i.linearVelocity.add(new s(i.linearVelocity.y,-i.linearVelocity.x).normalize().multiplyScalar(r)),i.linearVelocity=i.linearVelocity.normalize().multiplyScalar(15*e.projectileSpeed)}}))}else if(a.length>0){i=a[0];for(var r=1;r<a.length;r++)a[r].bodyRec.prjX().x<i.bodyRec.prjX().x&&(i=a[r]);this.css.concat().forEach((function(t){var n;if(t.dead){var a=e.css.indexOf(t);-1!=a&&e.css.splice(a,1)}else{if(t.targetLocked=null==(n=i)?void 0:n.node,i)if(!y.createLineLenDir(new s(t.realWorldPosition.x,t.realWorldPosition.y),1e4,t.linearVelocity).judgeCrossRec(i.bodyRec)){var l=2.5*o*60;t.linearVelocity.add(new s(t.realWorldPosition.x,-t.realWorldPosition).normalize().multiplyScalar(l)),t.linearVelocity=t.linearVelocity.normalize().multiplyScalar(15*e.projectileSpeed)}}}))}else this.css.concat().forEach((function(t){if(t.dead){var i=e.css.indexOf(t);-1!=i&&e.css.splice(i,1)}else{var n=1.5*o*60;t.linearVelocity.add(new s(t.linearVelocity.y,-t.linearVelocity.x).normalize().multiplyScalar(n)),t.linearVelocity=t.linearVelocity.normalize().multiplyScalar(15*e.projectileSpeed)}}))},a.shotInitialize=function(o){this.css.push(o)},a.animationListener=function(o){var e=this;if("Shoot"==o.name&&(this._shoot(),this.getComponent(h).playShootSound()),"foodStart"==o.name){this.anmControl.playAnimation("Fooding",1/0);var t=0;this.schedule((function(){e._shoot(!1,!1,e.peaFood,15,new s(Math.cos(t*c/e.foodPeaMaxCount),Math.sin(t*c/e.foodPeaMaxCount))),++t>=e.foodPeaMaxCount&&e.anmControl.playAnimation("FoodEnd",1)}),1/this.foodPeaMaxCount,this.foodPeaMaxCount,.01)}"foodEnd"==o.name&&this.foodEnd()},e}(d)).prototype,"peaFood",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=g))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/homingThistleSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundsController.ts"],(function(o){var n,t,e,i,u,r,a,d,l,s,c;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){u=o.cclegacy,r=o._decorator,a=o.AudioClip,d=o.AudioSource,l=o.Component},function(o){s=o.ArrayGet},function(o){c=o.SoundFXController}],execute:function(){var p,S,h,f,y,m,g,b,v;u._RF.push({},"51976WxBiNLUovFqp0ELa90","homingThistleSound",void 0);var F=r.ccclass,C=r.property;o("homingThistleSound",(p=F("homingThistleSound"),S=C([a]),h=C([a]),f=C([a]),p((g=n((m=function(o){function n(){for(var n,t=arguments.length,u=new Array(t),r=0;r<t;r++)u[r]=arguments[r];return n=o.call.apply(o,[this].concat(u))||this,e(n,"shootSound",g,i(n)),e(n,"steadySound",b,i(n)),e(n,"foodSound",v,i(n)),n.audioSource=void 0,n}t(n,o);var u=n.prototype;return u.playShootSound=function(){this.audioSource.playOneShot(s.getRandom(this.shootSound),c.SoundFXVolume)},u.playSteadySound=function(){this.audioSource.playOneShot(s.getRandom(this.steadySound),c.SoundFXVolume)},u.playFoodSound=function(){this.audioSource.playOneShot(s.getRandom(this.foodSound),c.SoundFXVolume)},u.onEnable=function(){this.getComponent(d)||this.addComponent(d),this.audioSource=this.getComponent(d)},n}(l)).prototype,"shootSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=n(m.prototype,"steadySound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=n(m.prototype,"foodSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=m))||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/Hurrikale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SoundRescourses.ts","./NodePools.ts"],(function(e){var i,t,r,n,a,l,o,u,s,c,p,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.AudioClip,u=e.CCFloat,s=e.Prefab},function(e){c=e.Plant},function(e){p=e.sounds},function(e){h=e.instantiatePooly}],execute:function(){var f,d,b,P,y,m,w,v,S,g,D,z,L;a._RF.push({},"ffcd79hUvxHrq4UyrOtMG98","Hurrikale",void 0);var k=l.ccclass,H=l.property;e("HurrikalePlant",(f=k("HurrikalePlant"),d=H(o),b=H(o),P=H(u),y=H(s),m=H(s),f((S=i((v=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,r(i,"pushSound",S,n(i)),r(i,"prePushSound",g,n(i)),r(i,"pushDuration",D,n(i)),r(i,"upperParticle",z,n(i)),r(i,"lowerParticle",L,n(i)),i}t(i,e);var a=i.prototype;return a.specialPlantOnEnable=function(){this.anmControl.playAnimation("Attack",1),p.play(this.prePushSound,1,.1),this.invincible=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.foodable=!1},a.animationListener=function(e){var i=this;if("die"==e.name)this.die(!0);else if("push"==e.name){var t;p.play(this.pushSound,.5,.1),null==(t=this.inLane)||t.setHurrikaleDuration(this.pushDuration);var r=h(this.upperParticle),n=h(this.lowerParticle);r.parent=this.inLane.prjLayer,n.parent=this.inLane.zombieLayer,n.setSiblingIndex(0),[n,r].forEach((function(e){e.worldPosition=i.node.worldPosition,e.worldScale=i.node.worldScale}))}},i}(c)).prototype,"pushSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=i(v.prototype,"prePushSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(v.prototype,"pushDuration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),z=i(v.prototype,"upperParticle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(v.prototype,"lowerParticle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=v))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/IcebergLettuce.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./levelController.ts","./SoundRescourses.ts"],(function(e){var o,t,r,n,i,a,l,c,s,u,f,h,d,p,b,C;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.AudioClip,c=e.CCFloat,s=e.Color,u=e.tween},function(e){f=e.Plant},function(e){h=e.Rectangle,d=e.ZombiePool},function(e){p=e.Square},function(e){b=e.LevelPlay},function(e){C=e.sounds}],execute:function(){var y,z,g,m,S,D,v,P,R,w,L,E,F;i._RF.push({},"c95deH5SAZNJKYtUXfY8hsa","IcebergLettuce",void 0);var j=a.ccclass,q=a.property;e("IcebergLettucePlant",(y=j("IcebergLettuce"),z=q(l),g=q(c),m=q(c),S=q(s),D=q(s),y((R=o((P=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=e.call.apply(e,[this].concat(i))||this,r(o,"foodSound",R,n(o)),r(o,"freezeDuration",w,n(o)),r(o,"chillDuration",L,n(o)),r(o,"freezeColor1",E,n(o)),r(o,"freezeColor2",F,n(o)),o.detector=void 0,o.screenColor=new s(0,0,0,0),o}t(o,e);var i=o.prototype;return i.specialPlantOnEnable=function(){this.eatDamagable=!1,this.eaterDetectable=!1},i.specialPlantFood=function(e){this.anmControl.playAnimation("Food"),C.play(this.foodSound),this.screenColor=new s(this.freezeColor1.r,this.freezeColor1.g,this.freezeColor1.b,0);var o=u(this.screenColor).to(.5/this.anmControl.body.timeScale,{a:this.freezeColor1.a}).start();this.bodyTweens.push(o)},i.freezeZombie=function(e){e.setFreeze(this.freezeDuration),e.setChill(this.chillDuration)},i.specialPlantOnSquareChange=function(e,o){this.detector=h.createRectangleNodeCenter(o.node,.5*p.SquareDisW,p.SquareDisH)},i.specialPlantLateUpdate=function(e){0!=this.screenColor.a&&b.screenFlashColors.push(this.screenColor)},i.animationListener=function(e){var o=this;if("explode"==e.name){var t,r=h.createRectangleNodeCenter(this.inLnC.node,p.SquareDisW,p.SquareDisH),n=null,i=[];null==(t=this.inLane)||t.zombiePool().forEach((function(e){!e.flying&&e.setFreeze(-1)&&e.bodyRec.judgeCrossRec(r)&&(!n||n.bodyRec.prjX().x>e.bodyRec.prjX().x)&&(e.shouldSpeedScale()*e.randomSpeed>0?n=e:i.push(e))})),n||i.forEach((function(e){(!n||n.bodyRec.prjX().x>e.bodyRec.prjX().x)&&(n=e)})),n&&n.setFreeze(this.freezeDuration)}if("foodExplode"==e.name){d.pool().concat().forEach((function(e){e.flying||o.freezeZombie(e)}));var a=u(this.screenColor).to(1/60/this.anmControl.body.timeScale,{r:this.freezeColor2.r,g:this.freezeColor2.g,b:this.freezeColor2.b,a:this.freezeColor2.a}).to(1/4/this.anmControl.body.timeScale,{a:0}).start();this.bodyTweens.push(a)}"foodEnd"==e.name&&this.foodEnd()},i.detectEnemy=function(){var e,o=this,t=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){t||e.shouldSpeedScale()*e.randomSpeed>0&&!e.flying&&e.bodyRec.judgeCrossRec(o.detector)&&(t=!0)})),t&&this.die()},i.specialPlantUpdate=function(e){this.fooding||this.detectEnemy()},o}(f)).prototype,"foodSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=o(P.prototype,"freezeDuration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),L=o(P.prototype,"chillDuration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=o(P.prototype,"freezeColor1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,0,0,0)}}),F=o(P.prototype,"freezeColor2",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,0,0,0)}}),v=P))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/Icetile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterManager.ts","./NodePools.ts","./Square.ts"],(function(t){var e,n,i,o,s,l,a,r,h,c,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.UITransform,s=t.tween,l=t.Sprite,a=t.Color,r=t.Component},function(t){h=t.Icetiles},function(t){c=t.NodePools},function(t){d=t.Square}],execute:function(){var u;n._RF.push({},"9855dVIa2dFjLIZERgm5/ph","Icetile",void 0);var p=i.ccclass;i.property,t("Icetile",p("Icetile")(u=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).master=null,e.length=0,e.dead=!1,e.lane=void 0,e.lnc=void 0,e}e(n,t);var i=n.prototype;return i.onDisable=function(){this.getComponent(o).width=0,this.length=0},i.onEnable=function(){h.registerIce(this),this.dead=!1},i.die=function(){var t=this;this.dead||(this.dead=!0,s(this.node.getComponent(l).color).to(.5,{a:0}).call((function(){t.length=0,t.getComponent(o).width=0,t.node.getComponent(l).color=new a(255,255,255,255),c.destroyPooly(t.node)})).start(),this.master&&(this.master=null),this.lnc&&(this.lnc.inLane.deleteIceTile(this),this.lnc.iceTile=null,this.lnc.readIndex(),this.lnc=null),this.lane&&(this.lane.deleteIceTile(this),this.lane.iceTile=null,this.lane=null),h.deleteIce(this))},i.update=function(t){if(!this.dead&&this.master&&this.master.isAlive()){var e=(this.lane?2:1)*d.SquareDisW;this.length=Math.min(e,Math.max(this.node.worldPosition.x-this.master.node.worldPosition.x,this.length))}this.dead||(this.getComponent(l).color=new a(255,255,255,255));var n=164.5*this.length/d.SquareDisW;this.getComponent(o).width=n},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/ImpZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts"],(function(t){var i,n,e,o,c;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,o=t.dragonBones},function(t){c=t.Zombie}],execute:function(){var s;n._RF.push({},"7c5a7mtHJ9G076mDgpxjpzb","ImpZombie",void 0);var a=e.ccclass;e.property,t("ImpZombie",a("ImpZombie")(s=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var e=n.prototype;return e.specialZombieOnEnable=function(){this.switching=!1},e.specialZombieOnLanding=function(){var t=this;this.switching=!0,this.dead||(this.body.playAnimation("Land",1),this.switching=!0,this.walking=!1,this.db.once(o.EventObject.COMPLETE,(function(){t.switching=!1,t.dead?t.judgeDeath(0):t.detectPlant(0)}),this))},e.detectPlantOn=function(){return!this.switching},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/InfoWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,t,r,i,e,c,a,f,l;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){e=n.cclegacy,c=n._decorator,a=n.RichText,f=n.JsonAsset,l=n.Component}],execute:function(){var s,u,p,h,y,b,d;e._RF.push({},"264e8wD7/5ECYfL1zW1QkK+","InfoWindow",void 0);var g=c.ccclass,v=c.property;n("InfoWindow",(s=g("InfoWindow"),u=v(a),p=v(f),s((b=o((y=function(n){function o(){for(var o,t=arguments.length,e=new Array(t),c=0;c<t;c++)e[c]=arguments[c];return o=n.call.apply(n,[this].concat(e))||this,r(o,"info",b,i(o)),r(o,"infojson",d,i(o)),o}t(o,n);var e=o.prototype;return e.readObject=function(n){var o="";return n.GameInfo.forEach((function(n){o+="\t"+n+"\n"})),o+="\n\nFaQ: \n",n.FaQ.forEach((function(n){o+="<color=#ff0000>Q: "+n.Q+"</color>",o+="\n",o+="<color=#00a700>A:\n",n.A.forEach((function(n){o+="\t    "+n+"\n"})),o+="\n",o+="</color>"})),o+="\n",o+="<color=#ff0000>"+n.AboutSetting.Title+"\n</color>",n.AboutSetting.Elements.forEach((function(n){o+=n+"\n"})),o+=n.WritenBy},e.start=function(){var n=JSON.stringify(this.infojson),o=JSON.parse(n).json,t=this.readObject(o);this.info.string=t},o}(l)).prototype,"info",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=o(y.prototype,"infojson",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));e._RF.pop()}}}));

System.register("chunks:///_virtual/inGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombies.ts"],(function(o){var n,t,e,i,r,c,a,s,u;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,i=o.Enum,r=o.director,c=o.AudioSource,a=o.Component},function(o){s=o.ZombieEnum,u=o.zombies}],execute:function(){var m,p;t._RF.push({},"9e3748CYdtChpr6tMbGa862","inGame",void 0);var d=e.ccclass;e.property;i(s);o("inGame",d("inGame")(((p=function(o){function t(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this).FrontYard=void 0,n.sceneSwitching=!0,n.speedFlag=!0,n.oldTick=r.tick,n}n(t,o);var e=t.prototype;return e.onLoad=function(){t.component=this,this.getComponent(c)||this.addComponent(c)},e.start=function(){this.sceneSwitching=!1},e.loadZombies=function(){for(var o=0;o<5;o++)for(var n=0;n<=o;n++)u.createZombie(o,Math.floor(Math.random()*s.zombieAmount))},t}(a)).component=void 0,m=p))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/Jalapeno.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./GroundFire.ts","./GroundFiresManager.ts","./SoundsController.ts"],(function(n){var o,e,r,t,i,a,u,l,s,c,d,p;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,r=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){i=n.cclegacy,a=n._decorator,u=n.AudioClip},function(n){l=n.CherryBombPlant},function(n){s=n.GroundFireColorEnum,c=n.GroundFireSpreadStyleEnum},function(n){d=n.GroundFiresManager},function(n){p=n.SoundFXController}],execute:function(){var h,m,f,F,y;i._RF.push({},"348e8m5FjRGQpOqtrn3/MP2","Jalapeno",void 0);var b=a.ccclass,g=a.property,v=n("jalapeno",function(){function n(){}return n.burnFromLnC=function(n,o,e,r,t,i,a,u,l){void 0===t&&(t=10),void 0===i&&(i=s.yellow),void 0===a&&(a=c.cross),void 0===u&&(u=9),void 0===l&&(l=9);var p=n.addLaneFire(r,t,i,a,u,l),h=new S;h.groundFires=p,h.damage=o,h.duration=r,h.armorProtection=e,d.component.registerJalapenoFire(h)},n}()),S=n("jalapenoFire",(function(){this.groundFires=[],this.recs=[],this.damage=1800,this.duration=3,this.armorProtection=!1,this.dealtZombies=[],this.dealtTombs=[]}));n("JalapenoPlant",(h=b("JalapenoPlant"),m=g(u),h((y=o((F=function(n){function o(){for(var o,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return o=n.call.apply(n,[this].concat(i))||this,r(o,"burnSound",y,t(o)),o}return e(o,n),o.prototype.animationListener=function(n){"explode"==n.name&&(this.deathAnm="Death",this.audioSource.playOneShot(this.burnSound,p.SoundFXVolume),v.burnFromLnC(this.inLnC,1800,!1,5,15,s.yellow,c.split,18,9),this.die())},o}(l)).prototype,"burnSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=F))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/KernelPult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts"],(function(t){var e,n,r,a,i,o,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator},function(t){l=t.CabbagePultPlant}],execute:function(){var u,c,s,b,p;i._RF.push({},"81c6aTRPtdNfY/ovuQuiSLQ","KernelPult",void 0);var h=o.ccclass,f=o.property;t("KernelPultPlant",(u=h("KernelPultPlant"),c=f(Number),u((p=e((b=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"butterRate",p,a(e)),e}n(e,t);var i=e.prototype;return i._lobCabbageAnimation=function(){var t=Math.random()>this.butterRate?"Lob":"Lob_Butter";this.anmControl.playAnimation(t,1,.1,Math.max(2.7/this.lobInterval,1))},i.specialAnimationListener=function(t){"Lob_Butter"==t.name&&(this.detectEnemy(!0),this._lob(this.targetLock,this.cabbageMega),this.targetLock=null)},e}(l)).prototype,"butterRate",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),s=b))||s));i._RF.pop()}}}));

System.register("chunks:///_virtual/KeyListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingWindow.ts"],(function(e){var t,n,r,o,a,s,i,c,u,l,f,p,d,h,T,L,y,w,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,i=e.Prefab,c=e.input,u=e.Input,l=e.instantiate,f=e.find,p=e.Vec3,d=e.Label,h=e.game,T=e.resources,L=e.KeyCode,y=e.Component},function(e){w=e.Setting,v=e.SettingWindow}],execute:function(){var g,_,b,S,D,F;a._RF.push({},"2d802LSjHZPFZ2AdbHZD499","KeyListener",void 0);var C=s.ccclass,H=s.property,I=e("CursorStyleEnum",function(e){return e[e.default=0]="default",e[e.soft=1]="soft",e[e.unchanged=2]="unchanged",e}({}));e("KeyListener",(g=C("KeyListener"),_=H(i),g(((F=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).canvasWidget=void 0,r(t,"fpsShower",D,o(t)),t.fpsLabel=void 0,t}n(t,e);var a=t.prototype;return a.onLoad=function(){c.on(u.EventType.KEY_DOWN,this.onKeyDown,this),c.on(u.EventType.KEY_UP,this.onKeyUp,this)},a.start=function(){var e=l(this.fpsShower);e.parent=f("Canvas"),e.worldPosition=new p(0,0,0),this.fpsLabel=e.getComponent(d);var n=w.getSettings().cursor;isNaN(n)&&(n=I.default),t.loadCursor(n)},t.loadCursor=function(e){var t="cursor";switch(e){case I.default:t="cursor";break;case I.soft:t="cursor_soft";break;default:e=I.unchanged}e==I.unchanged?h.canvas.style.cursor="":T.load(t,(function(e,t){var n=t.nativeUrl;h.canvas.style.cursor="url("+n+") , auto"})),v.cursor=e},a.update=function(e){var t="";v.showFPS&&(t="FPS: "+Math.round(1/h.deltaTime).toString()),this.fpsLabel&&(this.fpsLabel.string=t)},a.onKeyDown=function(e){switch(e.keyCode){case L.F4:v.fullScreen();break;case L.CTRL_LEFT:case L.CTRL_RIGHT:t.ctrlDown=!0;break;case L.SHIFT_LEFT:case L.SHIFT_RIGHT:t.shiftDown=!0;break;case L.ALT_LEFT:case L.ALT_RIGHT:t.altDown=!0}},a.onKeyUp=function(e){switch(e.keyCode){case L.CTRL_LEFT:case L.CTRL_RIGHT:t.ctrlDown=!1;break;case L.SHIFT_LEFT:case L.SHIFT_RIGHT:t.shiftDown=!1;break;case L.ALT_LEFT:case L.ALT_RIGHT:t.altDown=!1}},t}(y)).ctrlDown=!1,F.shiftDown=!1,F.altDown=!1,D=t((S=F).prototype,"fpsShower",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=S))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/Lane.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombies.ts","./Square.ts"],(function(t){var e,i,n,o,s,l,a,r,h,u,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,a=t.Node,r=t.find,h=t.Component},function(t){u=t.zombies,c=t.ZombieEnum},function(t){d=t.Square}],execute:function(){var p,m,f,b,L,y,P;s._RF.push({},"8064d2YiT1BVZfACEdbiboA","Lane",void 0);var g=l.ccclass,w=l.property;t("Lane",(p=g("Lane"),m=w(a),f=w(Number),p((y=e((L=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))||this).Lower=null,e.tileLayer=null,e.tileLiquidLayer=null,n(e,"Food",y,o(e)),e.floorY=0,e.midY=0,e.toLeft=null,e.toRight=null,e.zombieLayer=null,e.prjLayer=null,e.tombLayer=null,e.iceTile=void 0,e.iceTiles=[],e.UpperLane=null,e.LowerLane=null,e.hurrikaleDuration=0,e.isSea=!1,n(e,"LaneIndex",P,o(e)),e.zombies=[],e.plantUpperLayer=void 0,e.plants=[],e.tombStones=[],e.plantProjectiles=[],e.spawnPoint=void 0,e.meltCountdown=0,e}i(e,t);var s=e.prototype;return s.setHurrikaleDuration=function(t){this.hurrikaleDuration=t>this.hurrikaleDuration?t:this.hurrikaleDuration},s.hurrikaleBlowing=function(){return this.hurrikaleDuration>0},s.addZombie=function(t){-1==this.zombies.indexOf(t)&&this.zombies.push(t)},s.deleteZombie=function(t){var e=this.zombies.indexOf(t);-1!=e&&this.zombies.splice(e,1)},s.zombiePool=function(){return this.zombies.concat()},s.addPlant=function(t){-1==this.plants.indexOf(t)&&this.plants.push(t)},s.deletePlant=function(t){var e=this.plants.indexOf(t);-1!=e&&this.plants.splice(e,1)},s.plantPool=function(){return this.plants.concat()},s.addTomb=function(t){-1==this.tombStones.indexOf(t)&&this.tombStones.push(t)},s.deleteTomb=function(t){var e=this.tombStones.indexOf(t);-1!=e&&this.tombStones.splice(e,1)},s.tombPool=function(){return this.tombStones.concat()},s.addPlantPrj=function(t){-1==this.plantProjectiles.indexOf(t)&&this.plantProjectiles.push(t)},s.deletePlantPrj=function(t){var e=this.plantProjectiles.indexOf(t);-1!=e&&this.plantProjectiles.splice(e,1)},s.prjPool=function(){return this.plantProjectiles.concat()},s.addIceTile=function(t){-1==this.iceTiles.indexOf(t)&&this.iceTiles.push(t)},s.deleteIceTile=function(t){var e=this.iceTiles.indexOf(t);-1!=e&&this.iceTiles.splice(e,1)},s.clearIce=function(){this.iceTiles.concat().forEach((function(t){t.die()})),this.iceTiles=[]},s.onLoad=function(){var t,i;this.node.children.length&&(this.Lower=r("Canvas/FrontYard/tiles/"+this.node.name),this.tileLiquidLayer=r("Canvas/FrontYard/tileLiquid/"+this.node.name),this.tileLayer=r("Canvas/FrontYard/tiles/"+this.node.name),this.toLeft=this.node.getChildByName("toLeft"),this.toRight=this.node.getChildByName("toRight"),this.UpperLane=null==(t=d.getLane(this.LaneIndex-1))?void 0:t.getComponent(e),this.LowerLane=null==(i=d.getLane(this.LaneIndex+1))?void 0:i.getComponent(e),this.LaneIndex>=-1&&this.LaneIndex<=5&&(this.zombieLayer=this.node.getChildByName("zombies"),this.prjLayer=this.node.getChildByName("prj"),this.tombLayer=this.node.getChildByName("tomb")),this.plantUpperLayer=this.node.getChildByName("plantUpper"),this.spawnPoint=this.node.getChildByName("SpawnPoint"),this.floorY=this.spawnPoint?this.spawnPoint.worldPosition.y:0);this.plants=[],this.zombies=[],this.iceTiles=[],this.plantProjectiles=[],this.tombStones=[]},s.summonBobsledTeam=function(){u.createZombie(this.LaneIndex,c.modern_bobSled_team)},s.iceListener=function(t){if(this.meltCountdown>0){var e=this.meltCountdown+0;this.meltCountdown-=t,this.iceTiles.length||(this.meltCountdown=0),(e>75&&this.meltCountdown<=75||e>55&&this.meltCountdown<=55||e>35&&this.meltCountdown<=35||e>15&&this.meltCountdown<=15)&&this.iceTile&&this.iceTile.length>1.8*d.SquareDisW&&this.summonBobsledTeam()}this.meltCountdown<=0&&this.clearIce()},s.update=function(t){this.iceListener(t),this.hurrikaleDuration>0&&(this.hurrikaleDuration-=t)},e}(h)).prototype,"Food",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(L.prototype,"LaneIndex",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-2}}),b=L))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/lawn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Square.ts","./SoundsController.ts","./LnC.ts","./SoundManager.ts","./levelController.ts","./SunCount.ts","./Sunflower.ts","./SandBoxLevelSettingWindow.ts"],(function(e){var n,t,i,o,r,a,l,u,s,c,p,h,b,m,d,f,y,w,g,S,v,U,A,_,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,u=e.Enum,s=e.Prefab,c=e.AudioClip,p=e.instantiate,h=e.find,b=e.AudioSource,m=e.Vec3,d=e.Vec2,f=e.Component},function(e){y=e.ArrayGet},function(e){w=e.Square},function(e){g=e.SoundFXController},function(e){S=e.TileType},function(e){v=e.WorldMusic},function(e){U=e.LevelPlay},function(e){A=e.SunCount},function(e){_=e.sunflower},function(e){C=e.SandBoxLevelSettingWindow}],execute:function(){var L,R,T,O,z,M,P,D,E,F,N,V,q,B,W,k,x,X,I,Z,G;a._RF.push({},"d459cG8REdFa6yufUgn/5Zy","lawn",void 0);var j=l.ccclass,H=l.property;u(v);e("lawn",(L=j("lawn"),R=H(Boolean),T=H(s),O=H(s),z=H(Boolean),M=H({type:v}),P=H(String),D=H([c]),E=H([c]),F=H([c]),L((q=n((V=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).oldSquaresTypes=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],i(n,"atNight",q,o(n)),n.atNight_=!1,i(n,"lawnUpper",B,o(n)),n.lawnUpper_=null,i(n,"lawnThereUpper",W,o(n)),n.lawnThereUpper_=null,i(n,"tideOnLoad",k,o(n)),i(n,"worldMusic",x,o(n)),i(n,"worldFlagZombie",X,o(n)),i(n,"ambienceLoop",I,o(n)),i(n,"ambienceOccasional",Z,o(n)),n.busyAmbOcc=0,i(n,"ambienceRare",G,o(n)),n.busyAmbRare=0,n.busyDropsun=3,n}t(n,e);var a=n.prototype;return a.initialize=function(){var e=this;this.lawnUpper&&(this.lawnUpper_=p(this.lawnUpper),this.lawnUpper_.parent=h("Canvas/LawnCommon/LawnUpper"),this.lawnUpper_.worldPosition=this.node.worldPosition,this.lawnUpper_.worldScale=this.node.worldScale),this.lawnThereUpper&&(this.lawnThereUpper_=p(this.lawnThereUpper),this.lawnThereUpper_.parent=this.node.parent.parent.getChildByName("upper"),this.lawnThereUpper_.worldPosition=this.node.worldPosition,this.lawnThereUpper_.worldScale=this.node.worldScale),[-2,-1,0,1,2,3,4,5].forEach((function(e){[-2,-1,0,1,2,3,4,5,6,7,8,9].forEach((function(n){var t;null==(t=w.getLnC(e,n))||t.setTileType(S.floor)}))})),[-2,-1,0,1,2,3,4,5].forEach((function(e){w.getLaneComponent(e).isSea=!1})),this.specialInitialize(),[0,1,2,3,4].forEach((function(n){[0,1,2,3,4,5,6,7,8].forEach((function(t){var i,o=null==(i=w.getLnC(n,t))?void 0:i.getTileType();o&&(e.oldSquaresTypes[n][t]=o)}))}))},a.onDisable=function(){var e,n;null==(e=this.lawnUpper_)||e.destroy(),null==(n=this.lawnThereUpper_)||n.destroy(),this.lawnUpper_=null,this.lawnThereUpper_=null},a.specialInitialize=function(){},a.playAmbience=function(){var e=this.getComponent(b);e.volume=.6*g.SoundFXVolume,this.ambienceLoop.length&&(e.clip=y.getRandom(this.ambienceLoop),e.play(),e.loop=!1)},a.playAmbienceRare=function(){var e=10+Math.round(10*Math.random()),n=this.getComponent(b);this.busyAmbRare=60*e,n.playOneShot(y.getRandom(this.ambienceRare),g.SoundFXVolume/n.volume)},a.playAmbienceOccasional=function(){var e=5+Math.round(5*Math.random());this.busyAmbOcc=60*e;var n=this.getComponent(b);n.playOneShot(y.getRandom(this.ambienceOccasional),g.SoundFXVolume/n.volume)},a.onEnable=function(){this.atNight_=this.atNight,this.getComponent(b)||this.addComponent(b)},a.dropSun=function(){if(A.component.shown&&!U.component.ExcludeListSunProducers){var e=Math.round(300*Math.random()),n=Math.round(200*Math.random()),t=new m(w.getSquareWorldPosition(2,4).x-150+e,w.getSquareWorldPosition(2,4).y-150+n,0);_.produceSun(50,t,700-n,!1).forEach((function(e){e.linearVelocity=new d(0,0),e.bodyLinearVelocity=-3,e.gravity=0}))}},a.update=function(e){!U.gameStarted||U.component.gameWon||U.component.gameLost||(this.busyDropsun>0&&(this.busyDropsun-=e),this.busyDropsun<=0&&(this.busyDropsun=0,!this.atNight_&&C.skySunDrop&&(this.dropSun(),this.busyDropsun=8)));var n=this.getComponent(b);n.playing?n.volume=.6*g.SoundFXVolume:this.playAmbience(),this.busyAmbRare>0&&(this.busyAmbRare-=60*e),this.busyAmbRare<=0&&(this.busyAmbRare=0,this.ambienceRare.length&&this.playAmbienceRare()),this.busyAmbOcc>0&&(this.busyAmbOcc-=60*e),this.busyAmbOcc<=0&&(this.busyAmbOcc=0,this.ambienceOccasional.length&&this.playAmbienceOccasional())},r(n,[{key:"PlankRows",get:function(){return[]},set:function(e){}},{key:"SeaRows",get:function(){return[0,1,2,3,4]}}]),n}(f)).prototype,"atNight",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=n(V.prototype,"lawnUpper",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(V.prototype,"lawnThereUpper",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(V.prototype,"tideOnLoad",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=n(V.prototype,"worldMusic",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.Modern}}),X=n(V.prototype,"worldFlagZombie",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"tutorial_flag"}}),I=n(V.prototype,"ambienceLoop",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(V.prototype,"ambienceOccasional",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(V.prototype,"ambienceRare",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=V))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/lawnPirate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lawn.ts","./Square.ts","./LnC.ts"],(function(e){var n,t,a,i,s,c,o,r;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){a=e.cclegacy,i=e._decorator,s=e.dragonBones},function(e){c=e.lawn},function(e){o=e.Square},function(e){r=e.TileType}],execute:function(){var l;a._RF.push({},"3f6296qtA9AC6TtFNKlvPXc","lawnPirate",void 0);var L=i.ccclass;i.property,e("lawnPirate",L("lawnPirate")(l=function(e){function a(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).Lane0Deck=!1,n.Lane1Deck=!1,n.Lane2Deck=!1,n.Lane3Deck=!1,n.Lane4Deck=!1,n}return n(a,e),a.prototype.specialInitialize=function(){this.PlankRows=[0,2,4]},t(a,[{key:"PlankRows",get:function(){return[].concat(this.Lane0Deck?[0]:[],this.Lane1Deck?[1]:[],this.Lane2Deck?[2]:[],this.Lane3Deck?[3]:[],this.Lane4Deck?[4]:[])},set:function(e){this.Lane0Deck=-1!=e.indexOf(0),this.Lane1Deck=-1!=e.indexOf(1),this.Lane2Deck=-1!=e.indexOf(2),this.Lane3Deck=-1!=e.indexOf(3),this.Lane4Deck=-1!=e.indexOf(4);for(var n=[this.Lane0Deck,this.Lane1Deck,this.Lane2Deck,this.Lane3Deck,this.Lane4Deck],t=0;t<n.length;t++){if(n[t]){o.getLaneComponent(t).isSea=!1;for(var a=5;a<9;a++)o.getLnC(t,a).setTileType(r.deck)}else{o.getLaneComponent(t).isSea=!0;for(var i=5;i<9;i++)o.getLnC(t,i).setTileType(r.sea)}[-1,5].forEach((function(e){o.getLaneComponent(e).isSea=!0})),this.getComponent(s.ArmatureDisplay).armature().getSlot("DECKSHADE"+t.toString()).displayIndex=n[t]?0:-1,this.node.getChildByName("Lane"+t.toString()).getComponent(s.ArmatureDisplay).playAnimation(n[t]?"On":"Off")}o.getLnC(-1,0).setTileType(r.sea),o.getLnC(5,0).setTileType(r.sea)}},{key:"SeaRows",get:function(){return[].concat(this.Lane0Deck?[]:[0],this.Lane1Deck?[]:[1],this.Lane2Deck?[]:[2],this.Lane3Deck?[]:[3],this.Lane4Deck?[]:[4])}}]),a}(c))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/lawnSky.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./LnC.ts","./lawn.ts"],(function(n){var e,t,w,i,r,o,s,c;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,w=n._decorator,i=n.Vec2},function(n){r=n.Square},function(n){o=n.LnC,s=n.TileType},function(n){c=n.lawn}],execute:function(){var u;t._RF.push({},"7b7f5kDzBFOA7szLKIjO+gU","lawnSky",void 0);var a=w.ccclass;w.property,n("lawnSky",a("lawnSky")(u=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var w=t.prototype;return w.skyTiles=function(){return[new i(-1,0),new i(5,0),new i(0,9),new i(0,3),new i(0,4),new i(0,5),new i(0,6),new i(0,7),new i(0,8),new i(1,3),new i(1,4),new i(1,5),new i(1,6),new i(1,7),new i(1,8),new i(2,3),new i(2,4),new i(2,5),new i(2,6),new i(2,7),new i(2,8),new i(3,3),new i(3,4),new i(3,5),new i(3,6),new i(3,7),new i(3,8),new i(4,3),new i(4,4),new i(4,5),new i(4,6),new i(4,7),new i(4,8)]},w.specialInitialize=function(){this.skyTiles().forEach((function(n){r.getSquare(n.x,n.y).getComponent(o).setTileType(s.sky)}))},t}(c))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/levelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrontYard.ts","./Cards.ts","./UI.ts","./SoundRescourses.ts","./ShovelUIController.ts","./SunCount.ts","./PlantFoodCount.ts","./Zombies.ts","./Zombie.ts","./NodePools.ts","./Tombs.ts","./Square.ts","./LnC.ts","./Plants.ts","./lawnPirate.ts","./SoundsController.ts","./SoundManager.ts","./Conveyor.ts","./PowerupFingers.ts","./PlayerProperties.ts","./CharacterManager.ts","./Particles.ts","./Droppings.ts","./Prizes.ts","./levelPrize.ts","./LevelTaskCount.ts"],(function(e){var n,t,a,o,i,l,s,r,u,c,d,h,v,m,g,p,f,P,b,S,w,C,y,N,W,M,L,x,E,T,F,D,Z,k,I,G,B,j,R,z,O,A,_,H,U,V,Y,X,q,J,K,Q,$,ee,ne;return{setters:[function(e){n=e.createClass,t=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,r=e.Color,u=e.Label,c=e.ProgressBar,d=e.Sprite,h=e.JsonAsset,v=e.Node,m=e.Camera,g=e.Vec3,p=e.LabelOutline,f=e.tween,P=e.instantiate,b=e.UITransform,S=e.Vec2,w=e.Component},function(e){C=e.FrontYard},function(e){y=e.Cards},function(e){N=e.UIInGame},function(e){W=e.sounds},function(e){M=e.ShovelUIController},function(e){L=e.SunCount},function(e){x=e.PlantFoodCount},function(e){E=e.zombies,T=e.ZombieEnum},function(e){F=e.zombieDamageType,D=e.Zombie},function(e){Z=e.ArrayGet,k=e.NodePools,I=e.instantiatePooly},function(e){G=e.tombs,B=e.TombEnum},function(e){j=e.Square},function(e){R=e.LnC,z=e.LnCSpawnZombieStyleEnum},function(e){O=e.plants},function(e){A=e.lawnPirate},function(e){_=e.MusicController},function(e){H=e.MusicSortEnum},function(e){U=e.Conveyor,V=e.ConveyorPlant},function(e){Y=e.PowerupFingers},function(e){X=e.AllPlayerProperties},function(e){q=e.ZombiePool,J=e.PlantPool},function(e){K=e.particle},function(e){Q=e.droppings},function(e){$=e.prizeRes},function(e){ee=e.levelPrize},function(e){ne=e.LevelTaskCountModeEnum}],execute:function(){var te,ae,oe,ie,le,se,re,ue,ce,de,he,ve,me,ge,pe,fe,Pe,be,Se,we,Ce,ye,Ne,We,Me,Le,xe;l._RF.push({},"69a37XH3A9DBa468NxIslYS","levelController",void 0);var Ee=s.ccclass,Te=s.property,Fe=function(){this.MinNextWaveHealthPercentage=.5,this.MaxNextWaveHealthPercentage=.7,this.FlagWaveInterval=1,this.IgnoreFlagCarriers=!0,this.WaveCount=1,this.WaveSpendingPointIncrement=10,this.WaveSpendingPoints=100,this.Waves=[],this.ZombieCountdownFirstWaveSecs=10},De=function(){this.DynamicZombies=[]},Ze=function(){this.zombieName=T.modern_basic,this.amount=0},ke=function(){this.l=-1,this.c=-1,this.tombEnum=B.egypt},Ie=e("LevelPlay",function(){function e(){}return e.gameStart=function(){this.component.gameStart()},e.gameWarn=function(e,n,t,a,o,i,l,s){void 0===n&&(n=6),void 0===t&&(t=4),void 0===a&&(a=.5),void 0===o&&(o=.33),void 0===i&&(i=new r(255,0,0,0)),void 0===l&&(l=1),void 0===s&&(s=new r(0,0,0,255)),this.component.gamingWarn(e,n,t,a,o,i,l,s)},e.shakeScreen=function(e){void 0===e&&(e=.2),this.component.shakeScreen(e)},n(e,null,[{key:"gameStarted",get:function(){return!!this.component&&this.component.gameStarted},set:function(e){this.component.gameStarted=e}}]),e}());Ie.component=void 0,Ie.screenFlashColors=[],Ie.screenFlashLeftColor=new r(255,255,255,0),Ie.sandBoxModeOn=!1,Ie.letsRocked=!1,Ie.chooseCardMode=!1,Ie.levelJson=null;e("levelController",(te=Ee("levelController"),ae=Te(u),oe=Te(c),ie=Te(d),le=Te(d),se=Te(d),re=Te(u),ue=Te(h),ce=Te(v),de=Te(m),he=Te(v),ve=Te(v),me=Te(v),te((fe=t((pe=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,o(n,"inGameWarnLabel",fe,i(n)),n._warnLabelA=0,n.gameWarnTween=[],o(n,"levelProgressBar",Pe,i(n)),o(n,"levelProgressHead",be,i(n)),o(n,"waveFlag",Se,i(n)),n.waveFlags=[],o(n,"screenFlash",we,i(n)),n._comment="Tutorial",n.currentLevelObjects=[],n.graveProps=[],n.waveManagerProps=null,n.newWaves=null,n.currentWave=-1,n.currentBigWave=-1,n.conveyor=!1,n.plantMustProtectCount=0,n._plantUnderProtectCount=0,n.presetSeedBank=[],n.ExcludeListSunProducers=!1,n.ExcludePlantList=[],n.PowerUpsForceShow=!1,n.challenges=[],o(n,"levelNameLabel",Ce,i(n)),n.levelNameString=void 0,n.difficulty=6,o(n,"Level",ye,i(n)),n.rocked=!1,n.levelVictoryCountDown=1,n.waveEventProcessingAmount=0,n.waveToughness=1,n._zombiesInThisWave=[],n.nextWaveZombieHealthPercentage=.5,n.waveZombieDamageCountdown=4,n.nextWaveCountdown=0,n.isFinalWave=!1,n.gameStarted=!1,n.lastStandGameStartButtonOldPos=new g,o(n,"lastStandGameStartButton",Ne,i(n)),n.lastStandPrepareStarted=!1,n.screenShakeVec=new g,n.uiPos=new g(0,0,0),o(n,"camera",We,i(n)),o(n,"ui",Me,i(n)),o(n,"uiUpper",Le,i(n)),n.prizeSpawnWP=null,n.gameWon=!1,n.gameLost=!1,n.gameOver=!1,o(n,"zombieDisplayer",xe,i(n)),n.zombiesOnDisplayed=[],n.lastStand=!1,n.chickenThrowers=[],n}a(t,e);var l=t.prototype;return l.getLevelName=function(e){var n="",t=null==e?void 0:e.Name;if(t)switch(t){case"[EGYPT_LEVEL_NAME]":n+="Ancient Egypt - Day ";break;case"[PIRATE_LEVEL_NAME]":n+="Pirate Seas - Day ";break;case"[WEST_LEVEL_NAME]":n+="Wild West - Day ";break;default:n+=t}var a=null==e?void 0:e.LevelNumber;return isNaN(a)||null==a||(n+=a.toString()),n},l.gamingWarn=function(e,n,t,a,o,i,l,s){void 0===e&&(e="A HUGE WAVE OF ZOMBIES IS APPROACHING!"),void 0===n&&(n=5),void 0===t&&(t=4),void 0===a&&(a=.5),void 0===o&&(o=.33),void 0===i&&(i=new r(255,0,0,0)),void 0===l&&(l=1),void 0===s&&(s=new r(0,0,0,255)),this.inGameWarnLabel.string=e,this.gameWarnTween.forEach((function(e){e.stop()})),this.gameWarnTween=[],this.inGameWarnLabel.color=i,this.inGameWarnLabel.getComponent(p).color=s,this.inGameWarnLabel.node.scale=new g(t,t,t),this.gameWarnTween.push(f(this.inGameWarnLabel.node).to(o,{scale:new g(a,a,a)}).call((function(){switch(l){case 1:W.playReadyOrSet();break;case 2:case 3:W.playSandStormWarn();break;case 4:W.playFinalWave();break;default:W.playHugeWave()}})).start(),f(this).to(o/2,{warnLabelA:255}).to(o/2+n,{}).to(.33,{warnLabelA:0}).start())},l.setLevelProgressBar=function(){var e;if(!isNaN(null==(e=this.waveManagerProps)||null==(e=e.Waves)?void 0:e.length)){this.waveFlags=[],this.levelProgressBar.node.position.add3f(0,-1e3,0),this.waveFlags.unshift(this.waveFlag);for(var n=this.waveManagerProps.Waves.length/this.waveManagerProps.FlagWaveInterval,t=1;t<n;t++){var a=P(this.waveFlag.node);a.parent=this.waveFlag.node.parent,a.position=new g(2*-this.waveFlag.node.parent.position.x/n*t,this.waveFlag.node.position.y,0),this.waveFlags.unshift(a.getComponent(d))}}},l.setScreenColor=function(){var e=new r(0,0,0,0);Ie.screenFlashColors.forEach((function(n){e.r+=n.r,e.g+=n.g,e.b+=n.b,e.a+=n.a})),Ie.screenFlashLeftColor.a>0&&(e.r+=Ie.screenFlashLeftColor.r,e.g+=Ie.screenFlashLeftColor.g,e.b+=Ie.screenFlashLeftColor.b,e.a+=Ie.screenFlashLeftColor.a),Ie.screenFlashColors=[],this.screenFlash.color=e},l.initialGraveSpawn=function(){if(!(this.graveProps.length<=0)){var e=this.graveProps.concat();this.schedule((function(){var n=Z.getRandom(e);n&&(j.getSquare(n.l,n.c).getComponent(R).addTomb(n.tombEnum,!1,!1),e.splice(e.indexOf(n),1))}),1/this.graveProps.length,this.graveProps.length,.01)}},l.setWaveProperties=function(e){var n=new Fe;null!=e&&e.MinNextWaveHealthPercentage&&(n.MinNextWaveHealthPercentage=e.MinNextWaveHealthPercentage),null!=e&&e.MaxNextWaveHealthPercentage&&(n.MaxNextWaveHealthPercentage=e.MaxNextWaveHealthPercentage),0==(null==e?void 0:e.IgnoreFlagCarriers)&&(n.IgnoreFlagCarriers=!1),null!=e&&e.WaveCount&&(n.WaveCount=e.WaveCount),null!=e&&e.Waves&&(n.Waves=e.Waves),null!=e&&e.FlagWaveInterval&&(n.FlagWaveInterval=e.FlagWaveInterval),null!=e&&e.ZombieCountdownFirstWaveSecs&&(n.ZombieCountdownFirstWaveSecs=e.ZombieCountdownFirstWaveSecs),null!=e&&e.WaveSpendingPointIncrement&&(n.WaveSpendingPointIncrement=e.WaveSpendingPointIncrement),null!=e&&e.WaveSpendingPoints&&(n.WaveSpendingPoints=e.WaveSpendingPoints),this.waveManagerProps=n},l.setNewWaves=function(e){var n=new De;null!=e&&e.DynamicZombies&&(n.DynamicZombies=e.DynamicZombies),this.newWaves=n},l.setFrozenPlants=function(e){var n;null==e||null==(n=e.InitialPlantPlacements)||n.forEach((function(e){if(!isNaN(e.GridX)&&!isNaN(e.GridY)&&!(e.GridX<0||e.GridX>8||e.GridY<0||e.GridY>4)){var n=e.GridX,t=e.GridY;j.getSquare(t,n).getComponent(R).spawnPlantByPlantEnum(O.getPlantEnumByString(e.TypeName))}}))},l.setPiratePlanks=function(e){var n,t=null==(n=C.currentLawn)?void 0:n.getComponent(A);if(t){var a,o=[];null!=e&&null!=(a=e.PlankRows)&&a.length&&(o=e.PlankRows),this.scheduleOnce((function(){t.PlankRows=o}),0)}},l.setStartingGraveStones=function(e){var n,t=this,a=null==e?void 0:e.GravestoneCount,o=(null==e?void 0:e.SpawnColumnEnd)-1,i=(null==e?void 0:e.SpawnColumnStart)-1,l=null==e?void 0:e.SpawnRowEnd,s=null==e?void 0:e.SpawnRowStart;a=isNaN(a)?0:a,o=isNaN(o)?8:o,i=isNaN(i)?0:i,l=isNaN(l)?4:l,s=isNaN(s)?0:s;for(var r=(Math.abs(o-i)+1)*(Math.abs(l-s)+1),u=[];u.length<a&&u.length<r;){var c=j.getRandomSquare(s,l,i,o).getComponent(R);if(-1==u.indexOf(c)){var d=new ke;d.c=c.cIndex,d.l=c.lIndex,this.graveProps.push(d),u.push(c)}}null==(n=e.ForceSpawnData)||n.forEach((function(e){if(!isNaN(e.GridX)&&!isNaN(e.GridY)&&!(e.GridX<0||e.GridX>8||e.GridY<0||e.GridY>4)){var n=e.GridX,a=e.GridY,o=new ke;o.c=n,o.l=a,t.graveProps.push(o)}}))},l.setProtectThePlant=function(e){var n,t,a=this;isNaN(null==(n=e.Plants)?void 0:n.length)||(null==(t=e.Plants)||t.forEach((function(n){var t=O.getPlantEnumByString(n.PlantType),o=n.GridX,i=n.GridY;if(!isNaN(o)&&!isNaN(i)){var l=j.getSquare(i,o).getComponent(R);if(l.isInLawn()){var s=l.spawnPlantByPlantEnum(t,!0);s&&(s.endangered=!0),s.enabled&&a._plantUnderProtectCount++}isNaN(e.MustProtectCount)?a.plantMustProtectCount=a._plantUnderProtectCount:a.plantMustProtectCount=e.MustProtectCount}})))},l.setRailcart=function(e){var n,t;null==e||null==(n=e.Rails)||n.forEach((function(e){var n=null==e?void 0:e.Column,t=null==e?void 0:e.RowStart,a=null==e?void 0:e.RowEnd;if(!(isNaN(n)||isNaN(t)||isNaN(a))){for(var o=[],i=t;i<=a;i++){var l=1;i==t?l=0:i==a&&(l=2);var s=j.getLnC(i,n).addRail(l);o.push(s)}o.forEach((function(e){e.group=o.concat()}))}})),null==e||null==(t=e.Railcarts)||t.forEach((function(e){var n=e.Column,t=e.Row;isNaN(n)||isNaN(t)||j.getLnC(t,n).addCart()}))},l.setSunUsedLimitProps=function(e){isNaN(null==e?void 0:e.MaximumSun)||(null==e?void 0:e.MaximumSun)<0||N.uiingame.pushLevelTask(ne.SunCostLimit,e)},l.setSimultaneousPlantsProps=function(e){isNaN(null==e?void 0:e.MaximumPlants)||(null==e?void 0:e.MaximumPlants)<0||N.uiingame.pushLevelTask(ne.PlantCountLimit,e)},l.setPlantsLostProps=function(e){isNaN(null==e?void 0:e.MaximumPlantsLost)||(null==e?void 0:e.MaximumPlantsLost)<0||N.uiingame.pushLevelTask(ne.PlantLoseLimit,e)},l.setKillZombiesInTimeProps=function(e){isNaN(null==e?void 0:e.Time)||(null==e?void 0:e.Time)<0||isNaN(null==e?void 0:e.ZombiesToKill)||(null==e?void 0:e.ZombiesToKill)<0||N.uiingame.pushLevelTask(ne.ZombieKillCountDown,e)},l.setSunProducedProps=function(e){isNaN(null==e?void 0:e.TargetSun)||(null==e?void 0:e.TargetSun)<0||N.uiingame.pushLevelTask(ne.SunProduceRequest,e)},l.setMoldColonies=function(e){var n;null==e||null==(n=e.MoldedSquares)||n.forEach((function(e){isNaN(e.GridX)||isNaN(e.GridY)||j.getLnC(e.GridY,e.GridX).addMold()}))},l.setFlowerLine=function(e){for(var n=e.TargetDistance,t=Math.floor(n),a=n-t,o=[],i=0;i<5;i++){var l=j.getLnC(i,t).addFlower(a);o.push(l)}o.forEach((function(e){e.group=o}))},l.setSeedBank=function(e){var n,t,a,o,i=this;if("true"==(null==e?void 0:e.ExcludeListSunProducers)&&(this.ExcludeListSunProducers=!0),isNaN(null==e||null==(n=e.PlantExcludeList)?void 0:n.length)||0==(null==e||null==(t=e.PlantExcludeList)?void 0:t.length)||(this.ExcludePlantList=e.PlantExcludeList),isNaN(null==e||null==(a=e.PlantBlackList)?void 0:a.length)||0==(null==e||null==(o=e.PlantBlackList)?void 0:o.length)||(this.ExcludeListSunProducers=!0,this.ExcludePlantList=this.ExcludePlantList.concat(e.PlantBlackList)),"chooser"==(null==e?void 0:e.SelectionMethod))y.cardsController.maxSlotCount=8,Ie.chooseCardMode=!0,y.cardsController.createSeedbank();else if("preset"==(null==e?void 0:e.SelectionMethod)){var l;Ie.chooseCardMode=!1,null!=e&&null!=(l=e.PresetPlantList)&&l.length&&(y.cardsController.maxSlotCount=e.PresetPlantList.length,e.PresetPlantList.forEach((function(e){i.presetSeedBank.push(O.getPlantEnumByString(e.PlantType))})))}else Ie.chooseCardMode=!1,y.cardsController.maxSlotCount=0},l.setConveyor=function(e){var n;this.conveyor=!0,y.cardsController.maxSlotCount=0,x.component.rotate(!1),Ie.chooseCardMode=!1;var t=U.component;t.dropDelayConditions=e.DropDelayConditions,t.plantList=[],null==(n=e.InitialPlantList)||n.forEach((function(e){if(e.PlantType){var n=new V;n.PlantType=O.getPlantEnumByString(e.PlantType),isNaN(e.MinCount)||(n.MinCount=e.MinCount),isNaN(e.MinWeightFactor)||(n.MinWeightFactor=e.MinWeightFactor),isNaN(e.MaxCount)||(n.MaxCount=e.MaxCount),isNaN(e.MaxWeightFactor)||(n.MaxWeightFactor=e.MaxWeightFactor),isNaN(e.Weight)||(n.Weight=e.Weight),t.plantList.push(n)}})),t.speedConditions=e.SpeedConditions},l.setLastStand=function(e){this.lastStand=!0,isNaN(e.StartingSun)||L.component.setSunCount(e.StartingSun),isNaN(e.StartingPlantfood)?x.component.setPlantFoodNum(0):x.component.setPlantFoodNum(e.StartingPlantfood)},l.setChallenges=function(e){var n,t=[];null==(n=e.Challenges[0])||n.forEach((function(e){var n=e.concat(),a=n.indexOf("RTID("),o=n.indexOf("@CurrentLevel)"),i="";-1!=a&&(i=n.slice(a+5,o)),t.push(i)})),this.challenges=t},l.readLevelJson=function(){var e,n=this,t=Ie.levelJson;null==(null==(e=JSON.parse(JSON.stringify(t)))||null==(e=e.json)?void 0:e.objects)&&(t=this.Level);var a=JSON.stringify(t),o=JSON.parse(a).json;this.currentLevelObjects=o.objects,this.currentLevelObjects.forEach((function(e){if("LevelDefinition"==(null==e?void 0:e.objclass))n.setLevelDefinition(null==e?void 0:e.objdata);else if("WaveManagerProperties"==(null==e?void 0:e.objclass))n.setWaveProperties(null==e?void 0:e.objdata);else if("WaveManagerModuleProperties"==(null==e?void 0:e.objclass))n.setNewWaves(null==e?void 0:e.objdata);else if("InitialPlantProperties"==(null==e?void 0:e.objclass))n.setFrozenPlants(null==e?void 0:e.objdata);else if("SeedBankProperties"==(null==e?void 0:e.objclass))n.setSeedBank(null==e?void 0:e.objdata);else if("ConveyorSeedBankProperties"==(null==e?void 0:e.objclass))n.setConveyor(null==e?void 0:e.objdata);else if("PiratePlankProperties"==(null==e?void 0:e.objclass))n.setPiratePlanks(null==e?void 0:e.objdata);else if("GravestoneProperties"==(null==e?void 0:e.objclass))n.setStartingGraveStones(null==e?void 0:e.objdata);else if("LastStandMinigameProperties"==(null==e?void 0:e.objclass))n.setLastStand(null==e?void 0:e.objdata);else if("ProtectThePlantChallengeProperties"==(null==e?void 0:e.objclass))n.setProtectThePlant(null==e?void 0:e.objdata);else if("RailcartProperties"==(null==e?void 0:e.objclass)){var t,a;if(n.setRailcart(null==e?void 0:e.objdata),null!=e&&null!=(t=e.objdata)&&null!=(t=t.DynamicRailCarts)&&t.length)n.setRailcart(null==e||null==(a=e.objdata)?void 0:a.DynamicRailCarts[n.difficulty])}else"PowerupTutorialIntroProperties"==(null==e?void 0:e.objclass)?n.PowerUpsForceShow=!0:"ChallengeModule"==(null==e?void 0:e.aliases[0])&&"StarChallengeModuleProperties"==(null==e?void 0:e.objclass)?n.setChallenges(null==e?void 0:e.objdata):-1!=n.challenges.indexOf(e.aliases[0])&&"StarChallengeSunUsedProps"==(null==e?void 0:e.objclass)?n.setSunUsedLimitProps(null==e?void 0:e.objdata):-1!=n.challenges.indexOf(e.aliases[0])&&"StarChallengeSimultaneousPlantsProps"==(null==e?void 0:e.objclass)?n.setSimultaneousPlantsProps(null==e?void 0:e.objdata):-1!=n.challenges.indexOf(e.aliases[0])&&"StarChallengePlantsLostProps"==(null==e?void 0:e.objclass)?n.setPlantsLostProps(null==e?void 0:e.objdata):-1!=n.challenges.indexOf(e.aliases[0])&&"StarChallengeKillZombiesInTimeProps"==(null==e?void 0:e.objclass)?n.setKillZombiesInTimeProps(null==e?void 0:e.objdata):-1!=n.challenges.indexOf(e.aliases[0])&&"StarChallengeSunProducedProps"==(null==e?void 0:e.objclass)?n.setSunProducedProps(null==e?void 0:e.objdata):-1!=n.challenges.indexOf(e.aliases[0])&&"MoldColonyChallengeProps"==(null==e?void 0:e.objclass)?n.setMoldColonies(null==e?void 0:e.objdata):-1!=n.challenges.indexOf(e.aliases[0])&&"StarChallengeZombieDistanceProps"==(null==e?void 0:e.objclass)&&n.setFlowerLine(null==e?void 0:e.objdata)}))},l.setLevelDefinition=function(e){switch(this.levelNameLabel.string="",this.levelNameString=this.getLevelName(e),this.lastStand||(isNaN(e.StartingSun)?L.component.setSunCount(50):L.component.setSunCount(e.StartingSun)),null!=e&&e.SandBoxMode&&(Ie.sandBoxModeOn=e.SandBoxMode),null==e?void 0:e.MusicType){case"MiniGame_A":_.switchMusicSort(H.UltimateBattle);break;case"MiniGame_B":_.switchMusicSort(H.DemonstrateMinigame);break;default:_.switchMusicSort(H.DemonstrateMinigame)}C.changeFrontYardByString(null==e?void 0:e.StageModule)},l.spawnDynamicZombie=function(e,n){var t,a,o=this;if(null!=this&&null!=(t=this.newWaves)&&null!=(t=t.DynamicZombies)&&t.length){var i=this.newWaves.DynamicZombies[Math.min(this.newWaves.DynamicZombies.length,this.difficulty)],l=0,s=0;if(i.StartingWave&&(s=i.StartingWave),!(isNaN(s)||e<=s)){i.StartingPoints&&(l+=i.StartingPoints),i.PointIncrementPerWave&&(l+=i.PointIncrementPerWave*(e-s-1)),n&&(l*=2.5);var r=[];if(i.ZombiePool&&(r=i.ZombiePool),!((null==(a=r)?void 0:a.length)<=0)){var u=1/0,c=[];for(r.forEach((function(e){var n=E.getZombieEnumByRTID(e);c.push(n);var t=E.getZombieWavePointCost(n);t<u&&(u=t)}));l>u;){var d=E.pickZombieByWeight(c),h=E.getZombieWavePointCost(d);if(h<=l){var v=E.createZombie(null,d);v&&(this._zombiesInThisWave.push(v),this.waveToughness+=v.toughness,v.additionalZombies().forEach((function(e){o._zombiesInThisWave.push(e),o.waveToughness+=e.toughness}))),l-=h}else{var m=c.indexOf(d);-1!=m&&c.splice(m,1)}}}}}},l.setLevelVictoryCountDown=function(e){this.levelVictoryCountDown=e>this.levelVictoryCountDown?e:this.levelVictoryCountDown},l.readWave=function(e){var n=this,t=e.objdata;switch(null==e?void 0:e.objclass){case"SpawnZombiesJitteredWaveActionProps":var a=t.Zombies;null==a||a.forEach((function(e){var t=0,a="";t=isNaN(Number(e.Row))?null:Number(e.Row)-1,e.Type&&(a=e.Type);var o=E.createZombieByRTID(t,a);"prev"==e.Row&&(o.worldPositionX+=o.prevDistance()),o.countHealthToThisWave&&(n._zombiesInThisWave.push(o),n.waveToughness+=o.toughness),o.additionalZombies().forEach((function(e){n._zombiesInThisWave.push(e),n.waveToughness+=e.toughness}))}));break;case"SpawnGravestonesWaveActionProps":var o=t.GravestonePool,i=t.SpawnPositionsPool;null==o||o.forEach((function(e){var n=1;isNaN(e.Count)||(n=e.Count);for(var t=G.getTombEnumByString(e.Type),a=0;a<n&&a<(null==i?void 0:i.length);){var o=i[a],l=o.mX;isNaN(l)&&(l=Math.floor(9*Math.random()));var s=o.mY;isNaN(s)&&(s=Math.floor(5*Math.random())),a++,j.getSquare(s,l).getComponent(R).addTomb(t,!0,!1)}W.playTombRiseMagical()}));break;case"SpawnZombiesFromGroundSpawnerProps":var l=null==t?void 0:t.Zombies;if(isNaN(null==l?void 0:l.length))return;var s=(null==t?void 0:t.ColumnEnd)-1,u=(null==t?void 0:t.ColumnStart)-1,c=null==t?void 0:t.RowEnd,d=null==t?void 0:t.RowStart;s=isNaN(s)?8:s,u=isNaN(u)?0:u,c=isNaN(c)?4:c,d=isNaN(d)?0:d;var h=[];l.forEach((function(e){var n=E.getZombieEnumByRTID(null==e?void 0:e.Type),t=j.getRandomSquare(d,c,u,s).getComponent(R).spawnZombie(n,z.dirtSpawn,!0,Math.random());h=h.concat(t)})),h.forEach((function(e){e.countHealthToThisWave&&(n._zombiesInThisWave.push(e),n.waveToughness+=e.toughness)}));break;case"ModifyConveyorWaveActionProps":var v,m,g,p;if(!isNaN(null==t||null==(v=t.Add)?void 0:v.length))null==t||null==(g=t.Add)||g.forEach((function(e){var n=O.getPlantByRTID(e.Type),t=1/0,a=1,o=0,i=1,l=40;isNaN(e.MaxCount)||(t=e.MaxCount),isNaN(e.MaxWeightFactor)||(a=e.MaxWeightFactor),isNaN(e.MinCount)||(o=e.MinCount),isNaN(e.MinWeightFactor)||(i=e.MinWeightFactor),isNaN(e.Weight)||(l=e.Weight);var s=new V;s.PlantType=n,s.MaxCount=t,s.MaxWeightFactor=a,s.MinCount=o,s.MinWeightFactor=i,s.Weight=l,U.component.addCard(s)}));if(!isNaN(null==t||null==(m=t.Remove)?void 0:m.length))null==t||null==(p=t.Remove)||p.forEach((function(e){var n=O.getPlantByRTID(e.Type);U.component.removeCard(n)}));break;case"RaidingPartyZombieSpawnerProps":Ie.gameWarn("Raiding Party!",5,4,.5,.33,new r(155,93,40,0),3,new r(58,13,0,255));var f=isNaN(t.GroupSize)?5:t.GroupSize,P=isNaN(t.SwashbucklerCount)?1:t.SwashbucklerCount,b=isNaN(t.TimeBetweenGroups)?1:t.TimeBetweenGroups,S=Math.ceil(P/f);if(!(S>0))return;this.waveEventProcessingAmount++;var w=0;this.schedule((function(){n.schedule((function(){if(!n.gameWon){var e=E.createZombie(Math.floor(5*Math.random()),T.pirate_swashbuckler);n._zombiesInThisWave.push(e),n.waveToughness+=e.toughness}}),.8,f,.1),++w>=S&&(n.waveEventProcessingAmount--,n.levelVictoryCountDown=1)}),b+.8*(f-1),S,.1);break;case"StormZombieSpawnerProps":var C;Ie.gameWarn("Sandstorm!",5,4,.5,.33,new r(255,184,0,0),3,new r(117,52,0,255));var y=4,N=8,M=0,L=4,x=2,F=2;isNaN(null==t?void 0:t.ColumnEnd)||(N=t.ColumnEnd),isNaN(null==t?void 0:t.ColumnStart)||(y=t.ColumnStart),isNaN(null==t?void 0:t.RowEnd)||(L=t.RowEnd),isNaN(null==t?void 0:t.RowStart)||(M=t.RowStart),isNaN(null==t?void 0:t.GroupSize)||(x=t.GroupSize),isNaN(null==t?void 0:t.TimeBetweenGroups)||(F=t.TimeBetweenGroups);var D=[];if(isNaN(null==(C=t.Zombies)?void 0:C.length)||t.Zombies.forEach((function(e){D.push(E.getZombieEnumByRTID(e.Type))})),D.length){this.waveEventProcessingAmount++;var k=D.concat(),I=0,B=Math.ceil(D.length/x);this.schedule((function(){if(!(I>=B)){for(var e=0;e<x&&k.length>0;e++){var t=Z.getRandom(k);k.splice(k.indexOf(t),1);for(var a=[],o=M;o<=L;o++)a.push(o);var i=E.getLessZombieLane(a),l=y+Math.floor((N-y)*Math.random());j.getLnC(i,l).spawnZombie(t,z.sandStorm).forEach((function(e){n._zombiesInThisWave.push(e),n.waveToughness+=e.toughness}))}++I>=B&&(n.waveEventProcessingAmount--,n.levelVictoryCountDown=1)}}),F,B,3)}}},l.bigWave=function(){this.gamingWarn("A HUGE WAVE OF ZOMBIES IS APPROACHING!",5,4,.5,.33,new r(255,0,0,0),0)},l.judgeWaveCount=function(e){var n,a=this;this.waveToughness=.01,this._zombiesInThisWave=[],f(this.getComponent(t)).to(.8,{levelProgressPercentage:this.currentWave/(this.waveManagerProps.Waves.length-1)},{easing:"cubicInOut"}).start(),this.nextWaveCountdown=4*Math.random()+20,(this.currentWave+1)%this.waveManagerProps.FlagWaveInterval==0&&(this.nextWaveCountdown+=10),this.spawnDynamicZombie(this.currentWave+1,e),null==(n=this.waveManagerProps.Waves[this.currentWave])||n.forEach((function(e){a.currentLevelObjects.forEach((function(n){var t;null!=n&&null!=(t=n.aliases)&&t.length&&("RTID(".concat(n.aliases[0]).concat("@CurrentLevel)")==e&&(a.readWave(n),a.addPlantFood(n.objdata)))}))})),this.nextWaveZombieHealthPercentage=Math.random()*(this.waveManagerProps.MaxNextWaveHealthPercentage-this.waveManagerProps.MinNextWaveHealthPercentage)+this.waveManagerProps.MinNextWaveHealthPercentage,this.waveZombieDamageCountdown=Math.random()+4,this.currentWave++},l.nextWave=function(){var e=this;if(-1==this.currentWave){var n=this.waveManagerProps.ZombieCountdownFirstWaveSecs;n||(n=10),this.nextWaveCountdown=n,this.waveZombieDamageCountdown=n,this.currentWave=0}else if(this.currentWave>=0){this.nextWaveCountdown=1/0,this.nextWaveZombieHealthPercentage=-1/0,this.waveZombieDamageCountdown=1/0,0==this.currentWave&&(this.levelProgressBar.node.position.add3f(0,1e3,0),W.playAwooga());var t=this.currentWave+1==this.waveManagerProps.Waves.length,a=(this.currentWave+1)%this.waveManagerProps.FlagWaveInterval==0&&0!=this.currentWave||t;this.waveManagerProps.Waves[this.currentWave]&&(a?(this.bigWave(),this.scheduleOnce((function(){var n;(t&&(e.gamingWarn("FINAL WAVE",5,4,.5,.33,new r(255,0,0,0),4),e.isFinalWave=!0,e.levelVictoryCountDown=1,N.uiingame.warnLevelTask(ne.SunProduceRequest),N.uiingame.warnLevelTask(ne.ZombieKillCountDown)),e.judgeWaveCount(!0),E.createZombie(null,E.getZombieEnumByString(C.currentLawn.worldFlagZombie)),W.playAwooga(),e.waveFlags[0])&&(e.waveFlags[0].getComponent(b).setContentSize(21,74),f(null==(n=e.waveFlags[0])?void 0:n.node.getChildByName("flagFan").position).to(1,{y:14},{easing:"cubicInOut"}).start(),e.waveFlags.splice(0,1))}),5)):this.judgeWaveCount(!1))}},l.addPlantFood=function(e){var n,t=0;if(isNaN(null==e?void 0:e.AdditionalPlantfood)||(t+=e.AdditionalPlantfood),!isNaN(null==e||null==(n=e.DynamicPlantfood)?void 0:n.length)){var a=e.DynamicPlantfood[this.difficulty];t*=isNaN(a)?0:a}for(var o=this._zombiesInThisWave.concat(),i=[];o.length>0&&t>0;){var l=Z.getRandom(o);l.allowWaveAddPlantFood?(l.havePlantfood=!0,t--):i.push(l),o.splice(o.indexOf(l),1)}for(;t>0&&i.length>0;){var s=Z.getRandom(i);s.havePlantfood=!0,t--,i.splice(i.indexOf(s))}},l.gameStart=function(){this.gameStarted||(this.levelNameLabel.string=this.levelNameString,this.zombiesOnDisplayed.forEach((function(e){e.playDie(!0,null,!1,F.physicle,!1,!1,!1),k.destroyPooly(e.node)})),N.gameStart(),C.levelPlayStart(),this.gameStarted=!0,y.cardsController.gameStart(),(y.cardsController.maxSlotCount>0||this.conveyor)&&M.gameStart(),Y.gameStart(),(y.cardsController.maxSlotCount>0||this.conveyor)&&x.show(this.conveyor,x.keyOn),this.conveyor&&U.component.show())},l.moveCamera=function(){var e=this;this.uiPos=new g(-70,0,1e3),f(this.uiPos).by(1,{x:0}).call((function(){W.playCameraMove(),e.initialGraveSpawn()})).to(2,{x:500},{easing:"cubicInOut"}).call((function(){if(e.zombiesOnDisplayed.length)for(var n=0;n<3;n++)E.playGroan(Z.getRandom(e.zombiesOnDisplayed).zombieGroanSoundGroup,.3)})).by(.5,{x:0}).call((function(){e.judgeCardChooser()})).start()},l.letsRock=function(){this.rocked||y.cardsController.maxSlotCount!=y.cardsController.seedPackets.length||(this.moveCameraToNormal(),W.playLetsRock(),Ie.letsRocked=!0,this.rocked=!0,y.cardsController.pullSeedBank(!0))},l.readySetPlant=function(){this.lastStand&&(this.lastStandPrepareStarted=!1,this.lastStandGameStartButton.position.add(new g(0,1e3,0)),N.uiingame.tryChangingIndex(-1),y.cardsController.cardsUIUpperRestart());var e=Ie.component;e.gamingWarn("Ready...",3,.4,.45,.2,new r(255,0,0,255),1),e.scheduleOnce((function(){e.gamingWarn("Set...",3,.4,.45,.2,new r(255,0,0,255),1),e.scheduleOnce((function(){e.gamingWarn("PLANT!",3,.6,.6,.2,new r(255,0,0,255),3),e.scheduleOnce((function(){e.gameStart()}),1)}),.6)}),.6)},l.lastStandStart=function(){(this.lastStandGameStartButton.position=this.lastStandGameStartButtonOldPos,this.lastStandPrepareStarted)||(this.lastStandPrepareStarted=!0,y.cardsController.cardsUIUpperRestart(),Ie.component.gamingWarn("Plan your defenses!",3,.5,.5,.1,new r(255,0,0,255),1),y.cardsController.gameStart(),M.gameStart(!0),N.gameStart())},l.moveCameraToNormal=function(){var e=this;f(this.uiPos).to(2,{x:0},{easing:"cubicInOut"}).call((function(){y.cardsController.maxSlotCount>0&&(null==L||L.show()),e.conveyor||(y.cardsController.maxSlotCount>0&&(null==x||x.show()),k.destroyPooly(U.component.node)),y.cardsController.maxSlotCount>0&&(y.cardsController.laySlots(),e.presetSeedBank.forEach((function(e){y.cardsController.addCardByPlantEnum(e)})),y.cardsController.showSeedSlots()),y.cardsController.closeSeedbank(),e.lastStand?e.lastStandStart():e.readySetPlant()})).start()},l.judgeCardChooser=function(){var e=this;Ie.chooseCardMode?f(this.uiPos).to(2,{x:230},{easing:"cubicInOut"}).call((function(){e.cardChooserOn()})).start():this.moveCameraToNormal()},l.cardChooserOn=function(){y.cardsController.laySlots(),y.cardsController.laySeedBank(),null==L||L.show(),null==x||x.show()},l.shakeScreen=function(e){var n=this;void 0===e&&(e=.2),e-=.2,f(this.screenShakeVec).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:5*(2*Math.random()-1),y:5*(2*Math.random()-1)}).to(.05,{x:0,y:0}).call((function(){e>0&&n.shakeScreen(e)})).start()},l.update=function(e){var n,t=this;this.gameOver||(!this.gameStarted||this.gameOver||this.gameLost||this.gameWon||this.chickenThrowers.concat().forEach((function(n){if(n.dealChickening(e),n.chickeningLeftTime<=0){var a=t.chickenThrowers.indexOf(n);t.chickenThrowers.splice(a,1)}})),null!=(n=this.waveManagerProps)&&null!=(n=n.Waves)&&n.length&&(this.waveZombieDamageCountdown>0&&(this.waveZombieDamageCountdown-=e),this.gameStarted&&(this.nextWaveCountdown-=e,(this.nextWaveCountdown<=0||this.waveLeftHealth/this.waveToughness<=this.nextWaveZombieHealthPercentage)&&this.waveZombieDamageCountdown<=0&&this.nextWave())),Ie.screenFlashLeftColor.a>0?Ie.screenFlashLeftColor.a-=80*e:Ie.screenFlashLeftColor.a=0,this.camera.node.position=this.uiPos.clone().add(this.screenShakeVec),this.ui.position=this.uiPos,this.uiUpper.position=this.uiPos,this.setScreenColor(),this.isFinalWave&&this.waveEventProcessingAmount<=0&&!this.gameWon&&(this.levelVictoryCountDown>0&&(this.levelVictoryCountDown-=e),q.pool().concat().forEach((function(e){e.reversed||t.setLevelVictoryCountDown(e.finalWaveVictoryCountdown),t.prizeSpawnWP=e.worldPosition.clone()})),this.levelVictoryCountDown<=0&&N.uiingame.judgeLevelTasksVictory()&&this.victory(this.prizeSpawnWP)))},l.victory=function(e){if(!this.gameWon&&!this.gameLost){if(this.gameWon=!0,!e){var n=j.getLnC(2,4);e=new S(n.node.worldPosition.x,n.node.worldPosition.y)}J.pool().forEach((function(e){e.scheduleOnce((function(){e.water()}),5*Math.random()+1)})),_.switchMusicSort(H.Victory);var t=I(K.prizeSpawn());t.parent=Q.layer,t.worldPosition=new g(e.x,e.y);var a=I($.coinbag());a.parent=Q.layer;var o=a.getComponent(ee);o&&(o.worldPosition=e,null==o||o.leapToPos())}},l.onLoad=function(){Ie.component=this},l.showZombies=function(){var e=this,n=[];this.currentLevelObjects.forEach((function(t){var a,o=t.objdata;if("SpawnZombiesJitteredWaveActionProps"==t.objclass||"StormZombieSpawnerProps"==t.objclass||"SpawnZombiesFromGroundSpawnerProps"==t.objclass)null==o||null==(a=o.Zombies)||a.forEach((function(e){e.Type&&n.push(E.getZombieEnumByRTID(e.Type))}));else if("WaveManagerModuleProperties"==t.objclass){var i;if(null!=(i=t.objdata)&&null!=(i=i.DynamicZombies)&&i.length){var l,s=null==(l=t.objdata)?void 0:l.DynamicZombies[e.difficulty],r=null==s?void 0:s.ZombiePool;r&&s&&s.StartingPoints>0&&(null==r||r.forEach((function(e){n.push(E.getZombieEnumByRTID(e))})))}}}));var t=[];n.forEach((function(e){var n=!1;if(t.forEach((function(t){n||t.zombieName==e&&(t.amount++,n=!0)})),!n){var a=new Ze;a.amount=1,a.zombieName=e,t.push(a)}}));var a=0;t.forEach((function(e){a+=Math.ceil(.1*e.amount)}));var o=this.zombieDisplayer.getComponent(b).contentSize,i=this.zombieDisplayer.worldPosition.clone().add(new g(-o.width/2,o.height/2,0).multiplyScalar(this.zombieDisplayer.worldScale.x)),l=this.zombieDisplayer.worldPosition.clone().add(new g(o.width/2,-o.height/2,0).multiplyScalar(this.zombieDisplayer.worldScale.x)),s=i.y+0,r=null;t.forEach((function(n){for(var t=0;t<.1*n.amount;t++){var o=E.getZombie(n.zombieName);o.parent=e.zombieDisplayer;var u=o.getComponent(D),c=i.x+(l.x-i.x)*Math.random(),d=10*(-45*Math.random()-15)/a+s-(r?Math.max(u.zombieHeight-r.zombieHeight,0):0);d<l.y&&(d=l.y),s=d,u.displayed=!0,u.playIdle(),u.worldPosition=new S(c,d),u.additionalZombies().forEach((function(n){n.displayed=!0,n.playIdle(),e.zombiesOnDisplayed.push(n)})),e.zombiesOnDisplayed.push(u),r=u}}))},l.start=function(){isNaN(X.currentPlayer.difficulty)&&(X.currentPlayer.difficulty=3),this.isFinalWave=!1,this.gameWon=!1,this.gameLost=!1,this.gameOver=!1,this.difficulty=X.currentPlayer.difficulty+3,this.graveProps=[],this.PowerUpsForceShow=!1,this.ExcludeListSunProducers=!1,this.ExcludePlantList=[],this.lastStandGameStartButtonOldPos=this.lastStandGameStartButton.position.clone(),this.lastStandGameStartButton.position.add(new g(0,1e3,0)),this.lastStandPrepareStarted=!1,this.gameStarted=!1,this.lastStand=!1,this.zombiesOnDisplayed=[],this.conveyor=!1,Ie.chooseCardMode=!1,Ie.sandBoxModeOn=!1,this.Level&&(this.readLevelJson(),this.showZombies()),Ie.letsRocked=!Ie.chooseCardMode,this.moveCamera(),this.setLevelProgressBar()},n(t,[{key:"warnLabelA",get:function(){return this._warnLabelA},set:function(e){var n=this.inGameWarnLabel.color.clone();this.inGameWarnLabel.color=new r(n.r,n.g,n.b,e),this._warnLabelA=e}},{key:"levelProgressPercentage",get:function(){return this.levelProgressBar.progress},set:function(e){var n;this.levelProgressBar.progress=e,null==(n=this.levelProgressHead)||null==(n=n.node)||n.setPosition(this.levelProgressBar.barSprite.node.position.clone().add3f(-this.levelProgressBar.barSprite.getComponent(b).contentSize.width,0,0))}},{key:"plantUnderProtectCount",get:function(){return this._plantUnderProtectCount},set:function(e){e<this.plantMustProtectCount&&N.uiingame.loseDarken(null,"THE ZOMBIES ATE YOUR PLANT!"),this._plantUnderProtectCount=e}},{key:"waveLeftHealth",get:function(){var e=0;return this._zombiesInThisWave.forEach((function(n){n.isAlive()&&n.countHealthToThisWave&&n.health>0&&(e+=n.health)})),e}}]),t}(w)).prototype,"inGameWarnLabel",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=t(pe.prototype,"levelProgressBar",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t(pe.prototype,"levelProgressHead",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=t(pe.prototype,"waveFlag",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=t(pe.prototype,"screenFlash",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(pe.prototype,"levelNameLabel",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=t(pe.prototype,"Level",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(pe.prototype,"lastStandGameStartButton",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=t(pe.prototype,"camera",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(pe.prototype,"ui",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=t(pe.prototype,"uiUpper",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=t(pe.prototype,"zombieDisplayer",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=pe))||ge));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelNodes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,n,o,t,i,a,l,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Prefab,u=e.Component}],execute:function(){var s,c,d,p,g,f,m,N,v;i._RF.push({},"874a2FYkoZC+LHvY/x2+M4w","LevelNodes",void 0);var b=a.ccclass,h=a.property,y=e("levelNodeRes",function(){function e(){}return e.normalNode=function(){return this.res.normalNode},e.gargantuarNode=function(){return this.res.gargantuarNode},e.minigameNode=function(){return this.res.minigameNode},e}());y.res=void 0;e("LevelNodes",(s=b("LevelNodes"),c=h(l),d=h(l),p=h(l),s((m=r((f=function(e){function r(){for(var r,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,o(r,"normalNode",m,t(r)),o(r,"gargantuarNode",N,t(r)),o(r,"minigameNode",v,t(r)),r}return n(r,e),r.prototype.onLoad=function(){y.res=this},r}(u)).prototype,"normalNode",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=r(f.prototype,"gargantuarNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(f.prototype,"minigameNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/levelPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Square.ts","./SoundRescourses.ts","./CharacterManager.ts","./Mouse.ts","./UI.ts","./NodePools.ts","./Particles.ts","./ParticleSelfdestroy.ts","./SoundsController.ts","./SoundManager.ts","./Materials.ts"],(function(t){var e,i,o,n,l,r,s,a,c,u,d,h,p,f,g,w,y,S,b,v,P,z,m,C,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.AudioClip,a=t.Size,c=t.Vec2,u=t.tween,d=t.Vec3,h=t.Color},function(t){p=t.Character},function(t){f=t.Square},function(t){g=t.sounds},function(t){w=t.Rectangle},function(t){y=t.Mouse},function(t){S=t.UIInGame},function(t){b=t.destroyPooly,v=t.instantiatePooly},function(t){P=t.particle},function(t){z=t.ParticleSelfdestroy},function(t){m=t.MusicController},function(t){C=t.MusicSortEnum},function(t){L=t.materialRes}],execute:function(){var T,M,I,R,x,E,q,A,O,_,D;l._RF.push({},"5772bmaeBtG0ZS9CVEYQSIA","levelPrize",void 0);var U=r.ccclass,V=r.property;t("levelPrize",(T=U("levelPrize"),M=V(s),I=V(s),R=V(a),x=V(s),T((A=e((q=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))||this).leapTween=[],o(e,"landSound",A,n(e)),o(e,"collectSound",O,n(e)),e.collected=!1,o(e,"bodySize",_,n(e)),e.collectTween=[],e.light=void 0,o(e,"spawnSound",D,n(e)),e}i(e,t);var l=e.prototype;return l.stopLeap=function(){var t;null==(t=this.leapTween)||t.forEach((function(t){t.stop()})),this.leapTween=[]},l.leapToPos=function(t,e,i,o){var n=this;void 0===t&&(t=1),void 0===e&&(e=4),void 0===i&&(i=180),void 0===o&&(o=1.5);var l=f.getLnC(t,e);if(this.stopLeap(),l){var r=new c(l.node.worldPosition.x,l.node.worldPosition.y);this.leapTween.push(u(this).to(o,{worldPositionX:r.x,worldPositionY:r.y}).start(),u(this).to(o/2,{height:i},{easing:"quadOut"}).to(o/2,{height:0},{easing:"quadIn"}).call((function(){n.onLeapEnd(),g.play(n.landSound)})).start())}},l.onLeapEnd=function(){},l.characterOnEnable=function(){var t;(this.collected=!1,this.collectTween=[],this.leapTween=[],g.play(this.spawnSound),this.light)&&(b(null==(t=this.light)?void 0:t.node),this.light=null)},l.bodyRec=function(){return w.createRectangleNodeCenter(this.node,this.bodySize.width,this.bodySize.height)},l.collect=function(){var t=S.uiingame.node.parent.worldPosition;this.collectTween.push(u(this).to(3,{worldPositionX:t.x,worldPositionY:t.y,height:0},{easing:"quadOut"}).start(),u(this.node).by(3,{scale:new d(.3,.3,1)},{easing:"quadOut"}).call((function(){S.uiingame.victoryExit()})).start()),m.switchMusicSort(C.Leave),this.showPriceLight()},l.showPriceLight=function(){var t=v(P.prizeCollectLight());t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,t.setSiblingIndex(this.node.getSiblingIndex()),this.light=t.getComponent(z),this.light.db.playAnimation("Play",1)},l.characterUpdate=function(t){this.collected?this.db.color=new h(255,255,255,255):(this.db.color=L.rewardColor,this.bodyRec().judgeCrossLine(y.moveLine)&&(this.collected=!0,this.collect(),g.play(this.collectSound),this.stopLeap())),this.light&&(this.light.node.worldPosition=this.node.worldPosition)},e}(p)).prototype,"landSound",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(q.prototype,"collectSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(q.prototype,"bodySize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a(70,70)}}),D=e(q.prototype,"spawnSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=q))||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelTaskCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./SoundRescourses.ts"],(function(t){var e,i,o,n,a,s,r,l,u,c,h,d,m,b,p,g,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,l=t.SpriteFrame,u=t.Sprite,c=t.Label,h=t.ProgressBar,d=t.Color,m=t.Vec3,b=t.tween,p=t.Component},function(t){g=t.UIInGame},function(t){L=t.sounds}],execute:function(){var f,C,S,j,w,P,v,T,k,y,K,D,O,z,Z,F,R,q,I,M,x,W,_,A,U,B,E;s._RF.push({},"1fbadP0WfJMW6dxenrWbUfI","LevelTaskCount",void 0);var V=r.ccclass,G=r.property,H=t("LevelTaskCountModeEnum",function(t){return t[t.PlantCountLimit=0]="PlantCountLimit",t[t.PlantLoseLimit=1]="PlantLoseLimit",t[t.SunCostLimit=2]="SunCostLimit",t[t.SunProduceRequest=3]="SunProduceRequest",t[t.SunCostCountDownLimit=4]="SunCostCountDownLimit",t[t.ZombieKillCountRequest=5]="ZombieKillCountRequest",t[t.ZombieKillCountDown=6]="ZombieKillCountDown",t}({}));t("LevelTaskCount",(f=V("LevelTaskCount"),C=G(l),S=G(l),j=G(l),w=G(l),P=G(l),v=G(l),T=G(l),k=G(l),y=G(u),K=G(u),D=G(c),O=G(h),f((F=e((Z=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"plantCountLimit",F,n(e)),o(e,"plantLoseLimit",R,n(e)),o(e,"sunCostLimit",q,n(e)),o(e,"sunProduceRequest",I,n(e)),o(e,"sunCostCountDownLimit",M,n(e)),o(e,"zombieKillCount",x,n(e)),o(e,"completeIcon",W,n(e)),o(e,"failIcon",_,n(e)),o(e,"completeOrFailSlot",A,n(e)),o(e,"icon",U,n(e)),o(e,"count",B,n(e)),o(e,"progress",E,n(e)),e.mode=0,e.objdata=void 0,e.startingObjdata=void 0,e.completed=!1,e.failed=!1,e._red=0,e.warnTween=[],e}i(e,t);var s=e.prototype;return s.complete=function(){this.completed||this.failed||(this.completed=!0,this.count.color=new d(0,255,0,255),this.completeOrFailSlot.spriteFrame=this.completeIcon,L.playLevelTaskComplete())},s.fail=function(){this.failed||this.completed||(this.failed=!0,this.count.color=new d(255,0,0,255),this.completeOrFailSlot.spriteFrame=this.failIcon,L.playLevelTaskFail())},s.judgeVictory=function(){switch(this.mode){case H.PlantCountLimit:case H.PlantLoseLimit:case H.SunCostCountDownLimit:case H.SunCostLimit:break;case H.SunProduceRequest:if(!this.completed){var t=this.startingObjdata.TargetSun;return this.fail(),g.uiingame.loseDarken(null,"","Produce at least "+t.toString()+" sun"),!1}break;case H.ZombieKillCountRequest:break;case H.ZombieKillCountDown:if(!this.completed){var e=this.startingObjdata.ZombiesToKill,i=this.startingObjdata.Time;return this.fail(),g.uiingame.loseDarken(null,"","Kill "+e.toString()+" zombie"+(e>1?"s":"")+" in "+this.startingObjdata.Time.toString()+"second"+(1==i?"":"s")),!1}}return!0},s.playWarn=function(){this.completed||this.failed||(this.warnTween.forEach((function(t){t.stop()})),this.icon.node.scale=new m(1.2,1.2,1),this.red=200,this.warnTween=[b(this.icon.node).to(.5,{scale:new m(1,1,1)}).start(),b(this).to(.5,{red:0}).start()],L.playLevelTaskWarn())},s.changeObjdata=function(t,e){var i=this;if(t==this.mode&&!this.completed&&!this.failed)switch(t){case H.PlantCountLimit:this.count.string=(this.startingObjdata.MaximumPlants-e.AllPlantCount).toString()+" Left";break;case H.PlantLoseLimit:if(this.objdata.LeftPlantsToLose--,this.objdata.LeftPlantsToLose<0){this.objdata.LeftPlantsToLose=0;var o=this.startingObjdata.MaximumPlantsLost;this.fail(),g.uiingame.loseDarken(null,"","Dont't Lose more than "+o.toString()+" plant"+(o>1?"s":""))}else 0==this.objdata.LeftPlantsToLose&&this.playWarn();this.count.string=this.objdata.LeftPlantsToLose.toString()+" Left";break;case H.SunCostCountDownLimit:break;case H.SunCostLimit:this.objdata.LeftSun-=e.CostSun,this.objdata.LeftSun<0?(this.fail(),g.uiingame.loseDarken(null,"","Spend no more than "+this.startingObjdata.MaximumSun.toString()+" sun"),this.objdata.LeftSun=0):this.objdata.LeftSun<=100&&this.playWarn(),this.count.string=this.objdata.LeftSun.toString()+" Left";break;case H.SunProduceRequest:this.objdata.SunProduced+=e.SunProduceAdd,this.objdata.SunProduced>=this.startingObjdata.TargetSun&&(this.complete(),this.objdata.SunProduced=this.startingObjdata.TargetSun),this.count.string=this.objdata.SunProduced.toString()+"/"+this.startingObjdata.TargetSun.toString();break;case H.ZombieKillCountRequest:break;case H.ZombieKillCountDown:this.scheduleOnce((function(){i.completed||(i.objdata.KilledZombiesCount--,i.progress.progress=i.objdata.KilledZombiesCount/i.startingObjdata.ZombiesToKill)}),this.startingObjdata.Time),this.objdata.KilledZombiesCount++;var n=this.objdata.KilledZombiesCount/this.startingObjdata.ZombiesToKill;n>=1&&this.complete(),this.progress.progress=n}},s.switchMode=function(t,e){switch(t){case H.PlantCountLimit:this.icon.spriteFrame=this.plantCountLimit,this.count.node.active=!0,this.progress.node.active=!1,this.count.string=e.MaximumPlants.toString()+" Left",this.objdata={};break;case H.PlantLoseLimit:this.icon.spriteFrame=this.plantLoseLimit,this.count.node.active=!0,this.progress.node.active=!1,this.objdata={LeftPlantsToLose:e.MaximumPlantsLost},this.count.string=this.objdata.LeftPlantsToLose.toString()+" Left";break;case H.SunCostCountDownLimit:this.icon.spriteFrame=this.sunCostCountDownLimit,this.count.node.active=!0,this.progress.node.active=!1;break;case H.SunCostLimit:this.icon.spriteFrame=this.sunCostLimit,this.count.node.active=!0,this.progress.node.active=!1,this.count.string=e.MaximumSun.toString()+" Left",this.objdata={LeftSun:e.MaximumSun};break;case H.SunProduceRequest:this.icon.spriteFrame=this.sunProduceRequest,this.count.node.active=!0,this.progress.node.active=!1,this.objdata={SunProduced:0},this.count.string=this.objdata.SunProduced.toString()+"/"+e.TargetSun.toString();break;case H.ZombieKillCountRequest:this.icon.spriteFrame=this.zombieKillCount,this.count.node.active=!0,this.progress.node.active=!1;break;case H.ZombieKillCountDown:this.icon.spriteFrame=this.zombieKillCount,this.count.node.active=!1,this.progress.node.active=!0,this.objdata={KilledZombiesCount:0},this.progress.progress=0}this.mode=t,this.startingObjdata=e},a(e,[{key:"red",get:function(){return this._red},set:function(t){this.icon.color=new d(255,255-t,255-t,255),this.count.color=new d(255,255-t,255-t,255),this._red=t}}]),e}(p)).prototype,"plantCountLimit",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(Z.prototype,"plantLoseLimit",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(Z.prototype,"sunCostLimit",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(Z.prototype,"sunProduceRequest",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(Z.prototype,"sunCostCountDownLimit",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(Z.prototype,"zombieKillCount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(Z.prototype,"completeIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(Z.prototype,"failIcon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(Z.prototype,"completeOrFailSlot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(Z.prototype,"icon",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(Z.prototype,"count",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(Z.prototype,"progress",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Z))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/lightningCloud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./Zombie.ts","./CharacterManager.ts","./NodePools.ts","./SoundsController.ts"],(function(t){var o,e,i,n,a,r,l,s,u,h,d,c,g,f,m;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.AudioClip,s=t.AudioSource,u=t.dragonBones,h=t.tween},function(t){d=t.Character},function(t){c=t.zombieDamageType},function(t){g=t.ZombiePool},function(t){f=t.ArrayGet},function(t){m=t.SoundFXController}],execute:function(){var p,v,b,y,L,w,S,C,T,k,A;a._RF.push({},"ca725n3XwpDrbvOa/hbYx8P","lightningCloud",void 0);var D=r.ccclass,I=r.property;t("lightningCloud",(p=D("lightningCloud"),v=I(Number),b=I(Number),y=I([l]),L=I([l]),p((C=o((S=function(t){function o(){for(var o,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this).audioSource=void 0,o.targetLock=void 0,o.moveCooldown=1/0,o.tweening=null,o.fading=!1,i(o,"damage",C,n(o)),i(o,"liveDuration",T,n(o)),o.leftTime=15,i(o,"thunderSound",k,n(o)),i(o,"fadeSound",A,n(o)),o}e(o,t);var a=o.prototype;return a.characterOnLoad=function(){this.getComponent(s)||this.addComponent(s),this.audioSource=this.getComponent(s),this.db.on(u.EventObject.FRAME_EVENT,this.animationListener,this)},a.hideLightnings=function(t){var o=this.db.armature();["LIGHTNING0","LIGHTNING1","LIGHTNING2"].forEach((function(e){var i;null==(i=o.getSlot(e))||i._setDisplayIndex(t)}))},a.animationListener=function(t){"move"==t.name&&(this.moveCooldown=0,this.db.playAnimation("Idle")),"die"==t.name&&(this.db.playAnimation("Idle"),this.node.destroy())},a.characterOnEnable=function(){this.db.armature().getSlots().forEach((function(t){t.displayIndex=0})),this.fading=!1,this.targetLock=null,this.moveCooldown=1/0,this.leftTime=this.liveDuration,this.db.playAnimation("Spawn")},a.moveToTarget=function(t){var o=this,e=t.worldPosition.clone();this.moveCooldown=1/0;this.tweening=h(this).to(.5,{worldPositionX:e.x,worldPositionY:e.y}).call((function(){o.targetLock||o.playThunderSound(),o.targetLock=t,o.moveCooldown=1,o.hideLightnings(0)})).start()},a.characterOnDisable=function(){var t;null==(t=this.tweening)||t.stop()},a.fade=function(){var t;this.playFadeSound(),null==(t=this.tweening)||t.stop(),this.fading=!0,this.db.playAnimation("Fade"),this.hideLightnings(0)},a.characterOnLaneChange=function(t,o){this.node.setParent(o.prjLayer,!0)},a.characterUpdate=function(t){if(!this.fading){if(this.moveCooldown>0&&(this.moveCooldown-=t),this.targetLock&&(this.targetLock.dealDamage(this.damage*t*60,!0,!1,!1,null,c.electricity),this.targetLock.isAlive()||(this.targetLock=null,this.tweening.stop(),this.moveCooldown=0),this.targetLock&&this.moveCooldown<=0&&this.moveToTarget(this.targetLock)),(!this.targetLock||!this.targetLock.isAlive())&&(this.targetLock=null,this.hideLightnings(-1),this.moveCooldown<=0&&g.pool().length)){var o=f.getRandom(g.pool());o&&this.moveToTarget(o)}this.leftTime-=t,this.leftTime<=0&&this.fade()}},a.playThunderSound=function(){this.audioSource.playOneShot(f.getRandom(this.thunderSound),m.SoundFXVolume)},a.playFadeSound=function(){this.audioSource.playOneShot(f.getRandom(this.fadeSound),m.SoundFXVolume)},o}(d)).prototype,"damage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),T=o(S.prototype,"liveDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),k=o(S.prototype,"thunderSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=o(S.prototype,"fadeSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=S))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/LightningReed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Zombie.ts","./lightningReedSound.ts","./NodePools.ts","./CharacterManager.ts","./Square.ts","./Tomb.ts","./Character.ts"],(function(e){var n,t,i,o,a,r,l,s,c,u,p,d,h,g,m,b,y,f,P,L,w;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Prefab,s=e.Node,c=e.instantiate,u=e.Vec3,p=e.Vec2,d=e.dragonBones},function(e){h=e.Plant},function(e){g=e.Zombie,m=e.zombieDamageType},function(e){b=e.lightningReedSound},function(e){y=e.NodePools},function(e){f=e.Rectangle},function(e){P=e.Square},function(e){L=e.Tomb},function(e){w=e.Character}],execute:function(){var v,C,D,x,S,z,R,A,k,j,N,q,E,F,M,I,T,U,B;a._RF.push({},"ccf60n8TrRPVbF6qWd8WsSa","LightningReed",void 0);var H=r.ccclass,W=r.property;e("LightningReedPlant",(v=H("LightningReed"),C=W(Number),D=W(Number),x=W(Number),S=W(Number),z=W(l),R=W(l),A=W(l),k=W(s),v((q=n((N=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,i(n,"directDamage",q,o(n)),i(n,"splashDamage",E,o(n)),i(n,"attackInterval",F,o(n)),i(n,"splashAmount",M,o(n)),i(n,"lightningCloud",I,o(n)),n.detector=void 0,i(n,"hitParticle",T,o(n)),i(n,"linkParticle",U,o(n)),i(n,"particleSpawnPoint",B,o(n)),n.busy=0,n}t(n,e);var a=n.prototype;return a.specialPlantOnEnable=function(){},a.animationListener=function(e){"foodEnd"==e.name&&this.foodEnd()},a.playAttack=function(){var e=this;if(this.inLane){var n=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),t=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool());if(n.length<=0&&t.length<=0)return;var i=null,o=1/0;if(n.forEach((function(n){var t=n.bodyRec,a=t.prjX().x;n.isAlive()&&t.judgeCrossRec(e.detector)&&a<o&&(i=n.node,o=a)})),t.forEach((function(n){var t=n.bodyRec,a=t.prjX().x;!n.dead&&t.judgeCrossRec(e.detector)&&a<o&&(i=n.node,o=a)})),i){var a,r;this.anmControl.playAnimation("Attack"),this.getComponent(b).playAttackSound(),this.busy=this.attackInterval-.05+.1*Math.random();var l=this.spawnParticle(this.particleSpawnPoint.worldPosition,i);null==(a=i)||null==(a=a.getComponent(g))||a.dealDamage(this.directDamage,!0,!1,!1,null,m.electricity),null==(r=i)||null==(r=r.getComponent(L))||r.dealDamage(this.directDamage);for(var s=[i],c=function(){var e=null,n=s[u].getComponent(g),t=s[u].getComponent(L);n&&(e=n),t&&(e=t);var i=f.createRectangleCenter(new p(e.node.worldPosition.x,e.inLane.midY),3*P.SquareDisW,3*P.SquareDisH),o=[].concat(e.inLane.zombiePool(),e.inLane.UpperLane.zombiePool(),e.inLane.LowerLane.zombiePool(),e.inLane.tombPool(),e.inLane.UpperLane.tombPool(),e.inLane.LowerLane.tombPool()),a=null,r=1/0;if(o.forEach((function(e){var n=e.bodyRec,t=n.prjX().x;-1==s.indexOf(e.node)&&n.judgeCrossRec(i)&&t<r&&(a=e.node,r=t)})),!a)return 1;s.push(a)},u=0;u<this.splashAmount&&!c();u++);for(var d=1;d<s.length;d++){var h,y,w=this.spawnParticle(l,s[d]);null==(h=s[d])||null==(h=h.getComponent(g))||h.dealDamage(this.splashDamage,!0,!1,!1,null,m.electricity),null==(y=s[d])||null==(y=y.getComponent(L))||y.dealDamage(this.splashDamage),l=w}}}},a.specialPlantFood=function(e){this.anmControl.playAnimation("Food");var n=c(this.lightningCloud);n.parent=this.inLane.prjLayer,n.getComponent(w).worldPosition=this.worldPosition,this.busy=1/0,this.getComponent(b).playFoodSound()},a.specialPlantFoodEnd=function(){this.busy=0,this.getComponent(b).playFoodEndSound()},a.setDetector=function(e){this.detector=f.createRectangleNodeSide(e.node,(9-e.cIndex)*P.SquareDisW,3*P.SquareDisH)},a.specialPlantOnSquareChange=function(e,n){this.setDetector(n)},a.spawnParticle=function(e,n){var t=30,i=n.getComponent(g);i?t=i.zombieHeight/2:i=n.getComponent(L);var o=new u(n.worldPosition.x,n.worldPosition.y+t,1),a=y.instantiatePooly(this.linkParticle);a.parent=i.inLane.prjLayer,a.worldPosition=e,a.angle=Math.atan2(o.y-e.y,o.x-e.x)/Math.PI*180;for(var r=a.getChildByName("tail").worldPosition.clone(),l=new p(r.x-e.x,r.x-e.x),s=new p(o.x-r.x,o.y-r.y),c=0;l.y*s.y+l.x*s.x>0&&c<10;){var h=y.instantiatePooly(this.linkParticle);h.parent=a.parent,h.worldPosition=r,h.angle=a.angle,h.getComponent(d.ArmatureDisplay).playAnimation("Play"+(Math.round(Math.random())+1).toString()),r=h.getChildByName("tail").worldPosition.clone(),s=new p(o.x-r.x,o.y-r.y),l=new p(r.x-e.x,r.y-e.y),c++}var m=y.instantiatePooly(this.hitParticle);return m.parent=i.inLane.prjLayer,m.worldPosition=o,o},a.specialPlantUpdate=function(e){this.busy>0&&(this.busy-=e),this.busy<=0&&(this.busy=0,this.playAttack())},n}(h)).prototype,"directDamage",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),E=n(N.prototype,"splashDamage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),F=n(N.prototype,"attackInterval",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=n(N.prototype,"splashAmount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),I=n(N.prototype,"lightningCloud",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(N.prototype,"hitParticle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(N.prototype,"linkParticle",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(N.prototype,"particleSpawnPoint",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=N))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/lightningReedSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./plantSound.ts","./SoundRescourses.ts"],(function(n){var o,t,e,i,r,u,a,d,l,c;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,a=n.AudioClip},function(n){d=n.ArrayGet},function(n){l=n.plantSound},function(n){c=n.sounds}],execute:function(){var s,p,f,S,y,g,h,b,R;r._RF.push({},"00e56yITedGxJnwBU+f6ol2","lightningReedSound",void 0);var m=u.ccclass,v=u.property;n("lightningReedSound",(s=m("lightningReedSound"),p=v([a]),f=v([a]),S=v([a]),s((h=o((g=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return o=n.call.apply(n,[this].concat(r))||this,e(o,"attackSound",h,i(o)),e(o,"foodSound",b,i(o)),e(o,"foodEndSound",R,i(o)),o}t(o,n);var r=o.prototype;return r.playAttackSound=function(){c.play(d.getRandom(this.attackSound),1,.2)},r.playFoodSound=function(){this.playOneShot(d.getRandom(this.foodSound))},r.playFoodEndSound=function(){this.playOneShot(d.getRandom(this.foodEndSound))},o}(l)).prototype,"attackSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=o(g.prototype,"foodSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=o(g.prototype,"foodEndSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/LilyPad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./LnC.ts","./Plants.ts"],(function(n){var t,i,a,e,l,o,s,d,r,h;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,a=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){l=n.cclegacy,o=n._decorator,s=n.Node},function(n){d=n.Plant},function(n){r=n.TileType},function(n){h=n.PlantEnum}],execute:function(){var u,c,p,P,m;l._RF.push({},"1b9c3GHtI9PObuuX4YmxksO","LilyPad",void 0);var f=o.ccclass,L=o.property;n("LilyPadPlant",(u=f("LilyPad"),c=L(s),u((m=t((P=function(n){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=n.call.apply(n,[this].concat(l))||this,a(t,"plantPoint",m,e(t)),t.planted=!1,t.oldIdle="",t.oldRand=[],t.animationWatered=!1,t}i(t,n);var l=t.prototype;return l.specialPlantDie=function(){this.inLnC.returnPlantPoint()},l.specialPlantFood=function(n){n&&[this.inLnC,this.inLnC.upper,this.inLnC.lefter,this.inLnC.righter,this.inLnC.lower].forEach((function(n){var t,i;(n.isInLawn()&&n.lilyPadable()&&(null==n||n.spawnPlantByPlantEnum(h.LilyPad)),n.haveLilyPad&&null!=n&&null!=(t=n.lilyPad)&&t.isValid)&&(null==n||null==(i=n.lilyPad)||null==(i=i.getComponent(d))||i.food(!1))})),this.foodEnd()},l.addPlant=function(){!this.planted&&this.inLnC.haveP()&&(this.planted=!0,this.foodable=!1)},l.unPlant=function(){this.planted&&!this.inLnC.haveP()&&(this.planted=!1,this.foodable=!0)},l.animationListener=function(n){"FoodEnd"==n.name&&this.foodEnd()},l.specialPlantOnEnable=function(){this.planted=!1,this.animationWatered=!1,this.oldRand=this.anmControl.RandomAnim,this.oldIdle=this.anmControl.IdleAnim},l.changeAnimation=function(n){n!=r.water||this.animationWatered?n!=r.water&&this.animationWatered&&(this.animationWatered=!1,this.anmControl.IdleAnim=this.oldIdle,this.anmControl.RandomAnim=this.oldRand,this.anmControl.playRandom()):(this.animationWatered=!0,this.anmControl.IdleAnim="Idle_Water",this.anmControl.RandomAnim=["Rand1_Water","Rand2_Water","Rand3_Water","Rand4_Water","Rand5_Water"],this.anmControl.playRandom())},l.specialPlantUpdate=function(n){!this.dead&&this.inLnC&&this.inLnC.setPPWdPos(this.plantPoint.worldPosition);var t=this.inLnC.getTileType();this.changeAnimation(t),!this.planted&&this.inLnC.haveP()?this.addPlant():this.planted&&!this.inLnC.haveP()&&this.unPlant(),this.eaterDetectable=!this.planted&&t==r.water},t}(d)).prototype,"plantPoint",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=P))||p));l._RF.pop()}}}));

System.register("chunks:///_virtual/LnC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./UI.ts","./NodePools.ts","./AnimationController.ts","./CharacterManager.ts","./Particles.ts","./Plant.ts","./Lane.ts","./SoundRescourses.ts","./Zombie.ts","./levelController.ts","./PlantFoodCount.ts","./Tombs.ts","./Tomb.ts","./Plants.ts","./Sunflower.ts","./GroundFire.ts","./SandBoxLevelSettingWindow.ts","./Zombies.ts","./SandBoxZombieCards.ts","./Cards.ts","./CardFeatureTotal.ts","./PowerupFingers.ts","./LevelTaskCount.ts","./moldSquare.ts","./Tiles.ts","./flowerLine.ts","./railway.ts","./FrontYard.ts","./cart.ts","./Mouse.ts"],(function(t){var i,e,n,o,a,l,s,r,d,h,u,c,p,f,P,v,m,y,w,g,L,S,T,I,C,x,b,q,k,D,E,F,B,A,U,O,G,M,_,N,R,z,j,H,J,W,Y,Z,V,X,K,Q;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,o=t._decorator,a=t.Vec3,l=t.find,s=t.dragonBones,r=t.Vec2,d=t.instantiate,h=t.math,u=t.EventMouse,c=t.Node,p=t.Component},function(t){f=t.Square},function(t){P=t.UIInGame},function(t){v=t.NodePools,m=t.instantiatePooly},function(t){y=t.AnimationController},function(t){w=t.Rectangle,g=t.PlantPool},function(t){L=t.groundFireParticles,S=t.tileLiquids,T=t.particle},function(t){I=t.Plant,C=t.PlantType},function(t){x=t.Lane},function(t){b=t.sounds},function(t){q=t.zombieDamageType},function(t){k=t.LevelPlay},function(t){D=t.PlantFoodCount},function(t){E=t.tombs},function(t){F=t.Tomb},function(t){B=t.plants},function(t){A=t.sunflower},function(t){U=t.GroundFireColorEnum,O=t.GroundFire,G=t.GroundFireSpreadStyleEnum},function(t){M=t.SandBoxLevelSettingWindow},function(t){_=t.zombies},function(t){N=t.SandBoxZombieCards},function(t){R=t.Cards},function(t){z=t.CardFeatureTotal},function(t){j=t.PowerupFingers},function(t){H=t.LevelTaskCountModeEnum},function(t){J=t.moldSquare},function(t){W=t.tiles},function(t){Y=t.flowerLine},function(t){Z=t.railway},function(t){V=t.FrontYard,X=t.yardType},function(t){K=t.cart},function(t){Q=t.Mouse}],execute:function(){var $;n._RF.push({},"d770bq07m9CtYSeiXYu7H9t","LnC",void 0);var tt=o.ccclass,it=(o.property,t("LnCSpawnZombieStyleEnum",function(t){return t[t.directPut=0]="directPut",t[t.fromLane=1]="fromLane",t[t.dirtSpawn=2]="dirtSpawn",t[t.sandStorm=3]="sandStorm",t[t.snowStorm=4]="snowStorm",t[t.amount=5]="amount",t}({}))),et=t("TileType",function(t){return t[t.floor=0]="floor",t[t.sky=1]="sky",t[t.water=2]="water",t[t.sea=3]="sea",t[t.deck=4]="deck",t}({})),nt=t("TileLiquidEnum",function(t){return t[t.none=0]="none",t[t.saplingJuice=1]="saplingJuice",t[t.butterJuice=2]="butterJuice",t[t.cranJellyJuice=3]="cranJellyJuice",t[t.softLava=4]="softLava",t[t.deadlyLava=5]="deadlyLava",t}({}));t("LnC",tt("LnC")($=function(t){function n(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).iceTile=null,i.cIndex=-2,i.lIndex=-2,i.squareLower=void 0,i.RowParent=void 0,i.UIInGame=null,i.rec=w.createRectangleCenter(new r(0,0),0,0),i.oldTileLiquid=void 0,i.currentTileLiquid=nt.none,i.tileLiquidCountdown=0,i.tileType=et.floor,i.index=0,i.indexPoint=0,i.ghostPoint=null,i.plantPoint=null,i.orgPlantPoint=null,i.particleLowerPoint=null,i.potPoint=null,i.potPointUpper=null,i.vinePoint=null,i.vineBackPoint=null,i.buffParticlePoint=null,i.havePeaBuff=!1,i.peaBuffParticle=null,i.darkBuffParticle=null,i._shadowCD=0,i.plantInSquare=[],i.vineInSquare=[],i.haveGrave=void 0,i.haveLilyPad=void 0,i.haveFloawerPot=void 0,i.crackedTile=null,i.crackedTileSparkle=null,i._crackleCountdown=0,i.SquaresTotal=void 0,i.delayMouseDownPlantsOnCart=[],i.lefter=void 0,i.righter=void 0,i.upper=void 0,i.lower=void 0,i.inLane=null,i.floawerPot=void 0,i.lilyPad=void 0,i.ppOldPos=void 0,i.tombStone=void 0,i.selectionDB=void 0,i.mold=null,i.rail=void 0,i}i(n,t);var o=n.prototype;return o.addGroundFire=function(t,i,e,n){if(void 0===i&&(i=20),void 0===e&&(e=U.yellow),void 0===n&&(n=0),this.isInLawn()){var o=v.instantiatePooly(L.getParticleByGFEnum(e)),l=o.getComponent(O);return l.spawnDelay=n,o.parent=this.inLane.prjLayer,o.worldPosition=this.node.worldPosition.clone().add(new a(0,-f.SquareDisH/2,0)),l.height=i,l.duration=t,l.inLnC=this,l}},o.addLaneFire=function(t,i,e,n,o,a,l){var s=this;void 0===i&&(i=20),void 0===e&&(e=U.yellow),void 0===n&&(n=G.split),void 0===o&&(o=9),void 0===a&&(a=9),void 0===l&&(l=!1);var r=[],d=[],h=this.addGroundFire(t,i,e);h&&d.push(h);for(var u=0;u<a;u++){if(n!=G.right){for(var c,p=this,f=0;f<u;f++){var P;p=null==(P=p)?void 0:P.lefter}null!=(c=p)&&c.isInLawn()&&(l||p.tileType!=et.sky&&p.tileType!=et.sea)&&r.push(p)}if(n!=G.left){for(var v,m=this,y=0;y<u;y++){var w;m=null==(w=m)?void 0:w.righter}null!=(v=m)&&v.isInLawn()&&(l||m.tileType!=et.sky&&m.tileType!=et.sea)&&r.push(m)}if(n==G.cross){for(var g,L,S=this,T=0;T<u;T++){var I;S=null==(I=S)?void 0:I.upper}null!=(g=S)&&g.isInLawn()&&(l||S.tileType!=et.sky&&S.tileType!=et.sea)&&r.push(S);for(var C=this,x=0;x<u;x++){var b;C=null==(b=C)?void 0:b.lower}null!=(L=C)&&L.isInLawn()&&(l||C.tileType!=et.sky&&C.tileType!=et.sea)&&r.push(C)}}return r.forEach((function(n){if(n!=s){var a=Math.max(Math.abs(n.cIndex-s.cIndex),Math.abs(n.lIndex-s.lIndex))/o,l=n.lIndex==s.lIndex,r=n.addGroundFire(t,i,e,a);r.horizontal=l,d.push(r)}})),d},o.onLoad=function(){var t;switch(this.UIInGame=l("Canvas/UIInGame").getComponent(P),this.node.name){case"SquaresThere":this.lIndex=-1;break;case"SquaresHere":this.lIndex=5;break;case"SquaresLeft":this.cIndex=-1;break;case"SquaresRight":this.cIndex=9}this.selectionDB=null==(t=this.node)||null==(t=t.getChildByName("Select"))?void 0:t.getComponent(s.ArmatureDisplay),this.plantInSquare=[],this.rail=null,this.vineInSquare=[],this.haveGrave=!1,this.haveLilyPad=!1,this.haveFloawerPot=!1,this.mold=null,this.havePeaBuff=!1,this.peaBuffParticle=null,this.shadowCD=0,this.darkBuffParticle=null,this.tombStone=null,this.indexPoint=0,this.ghostPoint=this.node.getChildByName("PlantPoint")},o.addTileLiquid=function(t,i){if(this.isInLawn()&&(this.tileType==et.deck||this.tileType==et.floor)){if(t>this.currentTileLiquid){var e;if(null==(e=this.oldTileLiquid)||e.playAnimation("Fade"),t==nt.butterJuice){var n=v.instantiatePooly(S.butterJuice());n.parent=this.inLane.tileLiquidLayer,n.worldPosition=this.node.worldPosition,this.oldTileLiquid=n.getComponent(s.ArmatureDisplay),this.oldTileLiquid.playAnimation("Spawn",1),this.tileLiquidCountdown=i}else if(t==nt.cranJellyJuice){var o=v.instantiatePooly(S.cranJellyJuice());o.parent=this.inLane.tileLiquidLayer,o.worldPosition=this.node.worldPosition,this.oldTileLiquid=o.getComponent(s.ArmatureDisplay),this.oldTileLiquid.playAnimation("Spawn",1),this.tileLiquidCountdown=i}else if(t==nt.softLava){var a=v.instantiatePooly(S.softLava());a.parent=this.inLane.tileLiquidLayer,a.worldPosition=this.node.worldPosition,this.oldTileLiquid=a.getComponent(s.ArmatureDisplay),this.oldTileLiquid.playAnimation("Spawn",1),this.tileLiquidCountdown=i}this.currentTileLiquid=t}else t==this.currentTileLiquid&&(this.tileLiquidCountdown=this.tileLiquidCountdown>i?this.tileLiquidCountdown:i);this.readIndex()}},o.getAllPlants=function(t){void 0===t&&(t=!0);return t?this.vineInSquare.concat(this.plantInSquare,this.floawerPot&&this.haveFloawerPot?[this.floawerPot.getComponent(I)]:[],this.haveLilyPad&&this.lilyPad?[this.lilyPad.getComponent(I)]:[]):(this.haveLilyPad&&this.lilyPad?[this.lilyPad.getComponent(I)]:[]).concat(this.floawerPot&&this.haveFloawerPot?[this.floawerPot.getComponent(I)]:[],this.plantInSquare,this.vineInSquare)},o.setTileType=function(t){var i=this;if(this.tileType!=t){var e,n,o=this.tileType;if(this.tileType=t,this.getAllPlants().forEach((function(e){e.onTileTypeChange(i,o,t,i.plantable(!1,e.ID),i.vineable(!1),i.floawerPotable(!1),i.flyable(!1))})),t!=et.deck&&t!=et.floor)this.iceTile&&this.iceTile.die(),9==this.cIndex&&[0,1,2,3,4].forEach((function(t){var i;null==(i=f.getLane(t).getComponent(x).iceTile)||i.die()})),null==(n=this.oldTileLiquid)||n.playAnimation("Fade"),this.oldTileLiquid=null,this.currentTileLiquid=nt.none,this.tileLiquidCountdown=0;this.tombStone&&!this.tombable(!1)&&(null==(e=this.tombStone)||e.die()),this.readIndex()}},o.getTileType=function(){return this.tileType},o.explodeSqudow1x1=function(t){var i,e,n=this,o=w.createRectangleNodeCenter(this.node,2*f.SquareDisW,f.SquareDisH);k.shakeScreen(),null==(i=this.inLane)||i.zombiePool().forEach((function(i){!i.flying&&i.bodyRec.judgeCrossRec(o)&&i.dealDamage(t,!1,!1,!1,new r(i.node.worldPosition.x-n.node.worldPosition.x,i.zombieHeight).normalize().multiplyScalar(35),q.potatoMine)})),null==(e=this.tombStone)||e.dealDamage(t),b.playSpudow();var a=v.instantiatePooly(T.spudow());a.parent=this.inLane.prjLayer,a.worldPosition=this.plantPoint.worldPosition},o.explodeCherry3x3=function(t,i){var e,n=this;void 0===i&&(i=!1);var o=w.createRectangleNodeCenter(this.node,3*f.SquareDisW,3*f.SquareDisH);k.shakeScreen(),null==(e=this.inLane)||e.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(i){i.bodyRec.judgeCrossRec(o)&&i.dealDamage(t,!1,!1,!1,new r(i.node.worldPosition.x-n.node.worldPosition.x,i.zombieHeight).normalize().multiplyScalar(35),q.fire)})),this.get3x3().forEach((function(i){var e;null==(e=i.tombStone)||e.dealDamage(t)})),b.playExplosion();var a=v.instantiatePooly(T.explosion(i));if(a.parent=this.inLane.prjLayer,a.worldPosition=this.plantPoint.worldPosition,this.tileType==et.floor||this.tileType==et.deck||this.tileType==et.water){var l=v.instantiatePooly(T.explosionRear());l.parent=this.inLane.tileLiquidLayer,l.worldPosition=this.node.worldPosition}},o.explodeSpudow3x3=function(t){var i,e=this,n=w.createRectangleNodeCenter(this.node,3*f.SquareDisW,3*f.SquareDisH);k.shakeScreen(),null==(i=this.inLane)||i.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(i){!i.flying&&i.bodyRec.judgeCrossRec(n)&&i.dealDamage(t,!1,!1,!1,new r(i.node.worldPosition.x-e.node.worldPosition.x,i.zombieHeight).normalize().multiplyScalar(35),q.potatoMine)})),this.get3x3().forEach((function(i){var e;null==(e=i.tombStone)||e.dealDamage(t)})),b.playSpudow(),b.playExplosion();var o=v.instantiatePooly(T.spudowPrimal());o.parent=this.inLane.prjLayer,o.worldPosition=this.plantPoint.worldPosition},o.update=function(t){var i=this;if(this.crackleCountdown>0&&(this.tileType==et.floor||this.tileType==et.deck||this.tileType==et.water?this.crackleCountdown-=t:this.crackleCountdown=0),this.tileLiquidCountdown>0){var e=this.tileLiquidCountdown+0;this.tileLiquidCountdown-=t;var n,o=this.tileLiquidCountdown+0;if(this.currentTileLiquid==nt.butterJuice){var a=null;this.inLane.zombiePool().forEach((function(t){t.shouldSpeedScale()*t.randomSpeed>0&&!t.flying&&t.bodyRec.judgeCrossRec(i.rec)&&(!a||a.bodyRec.prjX().x>t.bodyRec.prjX().x)&&(a=t)})),a&&(a.setButter(8,!0),this.tileLiquidCountdown=0)}else if(this.currentTileLiquid==nt.softLava){var l,s;this.inLane.zombiePool().forEach((function(e){i.rec.judgeCrossRec(e.bodyRec)&&e.dealDamage(100*t,!0,!1,!1,null,q.fire)})),b.playLavaIdle(),null==(l=this.tombStone)||l.dealDamage(100*t),null==(s=this.iceTile)||s.die()}else if(this.currentTileLiquid==nt.cranJellyJuice){var r;if(Math.ceil(2*o)==Math.floor(2*e))this.inLane.zombiePool().forEach((function(t){!t.flying&&i.rec.judgeCrossRec(t.bodyRec)&&t.dealDamage(10,!0,!1,!1,null,q.physicle)})),null==(r=this.tombStone)||r.dealDamage(10)}if(this.tileLiquidCountdown<=0)this.currentTileLiquid=nt.none,null==(n=this.oldTileLiquid)||n.playAnimation("Fade"),this.oldTileLiquid=null,this.readIndex()}this.shadowCD>0&&(this.shadowCD-=t)},o.addBuff=function(t,i){if(void 0===i&&(i=!0),!(!this.buffParticlePoint||this.lIndex>4||this.lIndex<0||this.cIndex<0||this.cIndex>8))switch(t){case"peaBuff":if(i&&!this.havePeaBuff){this.havePeaBuff=!0;var e=v.instantiatePooly(T.peaBuff());this.peaBuffParticle=e.getComponent(s.ArmatureDisplay),this.peaBuffParticle.playAnimation("Idle"),e.parent=this.particleLowerPoint,e.worldPosition=this.node.worldPosition,e.setSiblingIndex(0)}else!i&&this.havePeaBuff&&(this.havePeaBuff=!1,this.peaBuffParticle.playAnimation("Die"),this.peaBuffParticle=null)}},o.setShadowBuff=function(t,i){void 0===i&&(i=!0);var e=this._shadowCD;this.shadowCD=t>this._shadowCD?t:this._shadowCD,i&&e<=0&&this._shadowCD>0&&b.playTileShadowSpawn()},o.haveP=function(){return this.plantInSquare.length>0||this.vineInSquare.length>0},o.playPlantSpawnParticle=function(){if(this.tileType==et.floor||this.tileType==et.deck){var t=v.instantiatePooly(T.plantDirts());t.parent=this.inLane.node,t.worldPosition=this.plantPoint.worldPosition,t.getComponent(s.ArmatureDisplay).playAnimation("Plant",1)}this.tileType==et.water?b.playPlantOnWater():b.playPlantOnFloor()},o.spawnPlantByPlantEnum=function(t,i,e,n){var o;void 0===i&&(i=!1),void 0===e&&(e=!1),void 0===n&&(n=!1);var a=this.replantable(t);if(a||!i||this.putPlantAvailable(B.getPlantFeature(t).TYPE,e)){if(!(null!=(o=this.UIInGame)&&o.getLevelTaskStartingObject(H.PlantCountLimit)&&!a&&this.UIInGame.getLevelTaskStartingObject(H.PlantCountLimit).MaximumPlants<=g.getPlantAmount())){var l;if(a)return a.replant(),null==(l=this.UIInGame)||l.calculateLevelTask(H.PlantCountLimit,{AllPlantCount:g.getPlantAmount()}),n&&this.playPlantSpawnParticle(),a;var s,h=d(B.getPlantsInCard(t).plantPLANT),u=B.getPlantFeature(t),c=C.plant,p=!1;this.plantPoint;-1!=u.TYPE.indexOf("vine")?c=C.vine:-1!=u.TYPE.indexOf("floawerPot")?c=C.pot:-1!=u.TYPE.indexOf("lilypad")&&(c=C.lilyPad),-1!=u.TYPE.indexOf("fly")&&(p=!0);var f=h.getComponent(I);return f.ID=t,f.flyingPlant=p,f.TYPE=u.TYPE,f.SUNCOST=u.SUNCOST,f.toughness=u.TOUGHNESS,f.allowStack=-1!=u.TYPE.indexOf("allowOverlap"),c==C.pot?(h.parent=this.potPoint,this.haveFloawerPot=!0,this.floawerPot=h,this.floawerPot.getComponent(y).addPotFront(this.potPointUpper),f.plantType=C.pot):c==C.lilyPad?(h.parent=this.potPoint,this.haveLilyPad=!0,this.lilyPad=h,f.plantType=C.lilyPad):c==C.vine?(h.parent=this.vinePoint,h.setPosition(0,0),h.getComponent(y).addVineBack(this.vineBackPoint),this.pushVine(f),h.getComponent(I).plantType=C.vine):(h.parent=this.plantPoint,h.setPosition(0,0),h.getComponent(y).addPlantUpper(this.inLane.plantUpperLayer),this.pushPlant(f),h.getComponent(I).plantType=C.plant),f.worldPosition=new r(f.node.parent.worldPosition.x,f.node.parent.worldPosition.y),this.selection(),f.plantInLnC=this,null==(s=this.UIInGame)||s.calculateLevelTask(H.PlantCountLimit,{AllPlantCount:g.getPlantAmount()}),f&&n&&this.playPlantSpawnParticle(),f}P.uiingame.warnLevelTask(H.PlantCountLimit)}},o.readIndex=function(){this.lIndex>=0&&this.lIndex<=4&&this.cIndex>=0&&this.cIndex<=8&&(this.selection(),this.plantGhost())},o.plantGhost=function(){var t,i,e,n,o,a;if(null==(t=this.ghostPoint)||t.destroyAllChildren(),this.indexPoint)if(null!=(null==(i=this.UIInGame)?void 0:i.currentPlantName)&&(null==(e=this.UIInGame)?void 0:e.index)<=8&&(null==(n=this.UIInGame)?void 0:n.index)>-1&&this.putPlantAvailable()&&this.index){var l,r=d(B.getPlantsInCard(null==(l=this.UIInGame)?void 0:l.currentPlantName).plantDIS);if(!r)return;r.parent=this.ghostPoint,r.worldPosition=this.plantPoint.worldPosition,h.Color.set(r.getChildByName("Body").getComponent(s.ArmatureDisplay).color,255,255,255,150),r.getComponent(y).timeScale=0}else if(1!=f.lncSelectionMode&&null!=(o=this.UIInGame)&&o.currentSniperPlant&&-4==(null==(a=this.UIInGame)?void 0:a.index)){var u,c=d(null==(u=this.UIInGame)||null==(u=u.currentSniperPlant)?void 0:u.locator);if(!c)return;c.parent=this.ghostPoint,c.worldPosition=this.node.worldPosition,h.Color.set(c.getComponent(s.ArmatureDisplay).color,255,255,255,150),c.getComponent(s.ArmatureDisplay).timeScale=0}},o.onMouseEnter=function(t){this.indexPoint=1,this.plantGhost(),this.SquaresTotal.readIndex()},o.onMouseLeave=function(t){this.indexPoint=0,this.plantGhost(),this.SquaresTotal.readIndex(),this.delayMouseDownPlantsOnCart=[]},o.plantMouseReact=function(t,i){void 0===i&&(i=this.getAllPlants(!1));var e=!1,n=!1,o=i;return o.forEach((function(i){t.getButton()==u.BUTTON_MIDDLE&&i.foodable&&!i.fooding&&k.gameStarted?D.plantFoodNum>0||M.freePF?(i.food(),n=!0):D.plantfoodWarn():i.onMouseDown(t)&&(e=!0)})),o.length>0&&k.sandBoxModeOn&&t.getButton()==u.BUTTON_RIGHT&&k.gameStarted&&R.cardsController.seedPackets.forEach((function(t,i){t.getComponent(z).cardGrouper(o[o.length-1].ID+i)})),n&&D.component.plantFoodDec(),e},o.onMouseUp=function(t){t.preventSwallow=!0,this.delayMouseDownPlantsOnCart.forEach((function(i){i.onMouseDown(t)})),this.delayMouseDownPlantsOnCart=[],Q.followingCart=null},o.onMouseDown=function(t,i){var e;t.preventSwallow=!0;var n,o=null==(e=this.rail)?void 0:e.haveCartInLnC(this);if(-1==P.index&&o&&t.getButton()==u.BUTTON_LEFT)this.delayMouseDownPlantsOnCart=this.getAllPlants(!1),Q.followingCart=o;else if(i&&-1==P.index&&this.plantMouseReact(t))return;-4==P.index&&t.getButton()==u.BUTTON_LEFT&&k.gameStarted&&(null==(n=P.uiingame.currentSniperPlant)||n.trigger(this));-5==P.index&&4==j.component.index&&t.getButton()==u.BUTTON_LEFT&&k.gameStarted&&this.explodeCherry3x3(1800,!1),9==P.index&&t.getButton()==u.BUTTON_LEFT&&k.gameStarted&&this.spawnZombie(N.component.currentID,M.zombieSpawnStyle,!1),this.index&&(t.getButton()==u.BUTTON_LEFT&&(P.index<=8&&this.UIInGame.index>-1?this.spawnPlant():-2==P.index?this.removePlant():-3==P.index&&this.plantfood()),(P.index<=8&&P.index>-1||-2==P.index)&&(this.index=0,this.UIInGame.onMouseDown(t))),this.SquaresTotal.readIndex()},o.onMouseScroll=function(t){var i,e=this,n=t.getScrollY();if(null!=(i=this.rail)&&i.carts){for(var o=[],a=function(t){e.rail.carts.forEach((function(i){i.inLnC.lIndex==t&&o.push(i)}))},l=0;l<5;l++)a(l);n>0?o.forEach((function(t){t.moveUp()})):n<0&&o.reverse().forEach((function(t){t.moveDown()}))}},o.putPlantAvailable=function(t,i,e){var n,o,a;void 0===t&&(t=null==(a=this.UIInGame)?void 0:a.plantInHandType);if(void 0===i&&(i=!0),void 0===e&&(e=P.uiingame.currentPlantName),this.mold)return!1;if(P.index>=0&&P.index<=8&&null!=(n=this.UIInGame)&&n.getLevelTaskStartingObject(H.PlantCountLimit)&&this.UIInGame.getLevelTaskStartingObject(H.PlantCountLimit).MaximumPlants<=g.getPlantAmount())return P.uiingame.warnLevelTask(H.PlantCountLimit),!1;if(null==(o=t)||!o.length)return!1;var l=!1;return-1!=t.indexOf("allowOverlap")&&(l=!0),!(!this.plantable(i&&!l,e)||-1==t.indexOf("plant"))||(!(!this.vineable(i&&!l)||-1==t.indexOf("vine"))||(!(!this.floawerPotable(i&&!l)||-1==t.indexOf("floawerPot"))||(!(!this.lilyPadable(i&&!l)||-1==t.indexOf("lilypad"))||(!(!this.spikeweedable(i&&!l)||-1==t.indexOf("spikeweed"))||(!(!this.potatomineable(i&&!l)||-1==t.indexOf("potatomine"))||(!(!this.gravebusterable(i&&!l)||-1==t.indexOf("gravebuster"))||!(!this.flyable(i&&!l)||-1==t.indexOf("fly"))))))))},o.plantable=function(t,i){var e;void 0===t&&(t=!0),void 0===i&&(i=P.uiingame.currentPlantName);var n=!0;return this.plantInSquare.forEach((function(t){n&&(t.allowStack&&i!=t.ID||(n=!1))})),!(t&&!n||this.rail&&null==(null==(e=this.rail)?void 0:e.haveCartInLnC(this))||this.tombStone||this.tileType==et.water&&!this.haveLilyPad&&!this.haveFloawerPot||this.tileType==et.sky&&!this.haveFloawerPot||this.crackedTile||this.iceTile||this.currentTileLiquid==nt.softLava||this.currentTileLiquid==nt.deadlyLava||this.tileType==et.sea)},o.vineable=function(t){var i;return void 0===t&&(t=!0),!(t&&this.vineInSquare.length>0||this.rail&&null==(null==(i=this.rail)?void 0:i.haveCartInLnC(this))||this.tombStone||this.tileType==et.water&&!this.haveLilyPad&&!this.haveFloawerPot||this.tileType==et.sky&&!this.haveFloawerPot||this.crackedTile||this.currentTileLiquid==nt.softLava||this.currentTileLiquid==nt.deadlyLava||this.iceTile||this.tileType==et.sea)},o.floawerPotable=function(t){return void 0===t&&(t=!0),!(t&&this.vineInSquare.length>0||t&&this.plantInSquare.length>0||t&&this.haveLilyPad||t&&this.haveFloawerPot||this.rail||this.tombStone||this.crackedTile||this.currentTileLiquid==nt.softLava||this.currentTileLiquid==nt.deadlyLava||this.tileType==et.sea||this.iceTile)},o.flyable=function(t){var i;void 0===t&&(t=!0);var e=!0;return this.plantInSquare.forEach((function(t){e&&(t.allowStack||(e=!1))})),!(t&&!e||this.rail&&null==(null==(i=this.rail)?void 0:i.haveCartInLnC(this))||this.tombStone||this.crackedTile||this.currentTileLiquid==nt.softLava||this.currentTileLiquid==nt.deadlyLava||this.tileType==et.sea||this.iceTile)},o.lilyPadable=function(t){var i;return void 0===t&&(t=!0),!(t&&this.haveLilyPad||t&&this.haveFloawerPot||this.rail&&null==(null==(i=this.rail)?void 0:i.haveCartInLnC(this))||this.tombStone||this.crackedTile||this.currentTileLiquid==nt.softLava||this.currentTileLiquid==nt.deadlyLava||this.tileType==et.sea||this.tileType==et.sky||this.iceTile)},o.spikeweedable=function(t){return void 0===t&&(t=!0),this.plantable(t)&&!this.haveLilyPad&&!this.haveFloawerPot},o.potatomineable=function(t){return void 0===t&&(t=!0),this.plantable(t)&&!this.haveLilyPad&&(this.tileType!=et.deck||this.haveFloawerPot)},o.gravebusterable=function(t){var i;return null!=this.tombStone&&(null==(i=this.tombStone)?void 0:i.bustable)&&this.getAllPlants().length<=0},o.replantable=function(t){for(var i=this.getAllPlants(!0),e=0;e<i.length;e++)if(i[e].ID==t&&i[e].replantable())return i[e];return null},o.spawnZombie=function(t,i,e,n){void 0===i&&(i=it.fromLane),void 0===e&&(e=!0),void 0===n&&(n=.5);var o=_.createZombie(this.inLane.LaneIndex,t);if(i==it.directPut||i==it.dirtSpawn)b.playDirtRise(!1,e),o.worldPosition=new r(this.node.worldPosition.x+f.SquareDisW*(n-.5),o.shadeWorldPosition.y);else if(i==it.sandStorm||i==it.snowStorm){var a=0;i==it.snowStorm&&(a=1),o.playSandStorm(this.node.worldPosition.x+f.SquareDisW*(n-.5),a)}var l=o.additionalZombies();return i!=it.directPut&&i!=it.dirtSpawn||o.onPutDirectly(this),i==it.dirtSpawn&&o.playDirtSpawn(0),[o].concat(l)},o._sLefter=function(){return this.isInLawn()?f.getSquare(this.lIndex,this.cIndex-1).getComponent(n):f.getSquare(-2,-2).getComponent(n)},o._sRighter=function(){return this.isInLawn()?f.getSquare(this.lIndex,this.cIndex+1).getComponent(n):f.getSquare(-2,-2).getComponent(n)},o._sUpper=function(){return this.isInLawn()?f.getSquare(this.lIndex-1,this.cIndex).getComponent(n):f.getSquare(-2,-2).getComponent(n)},o._sLower=function(){return this.isInLawn()?f.getSquare(this.lIndex+1,this.cIndex).getComponent(n):f.getSquare(-2,-2).getComponent(n)},o.setPPWdPos=function(t){var i;null==(i=this.orgPlantPoint)||i.setWorldPosition(t)},o.returnPlantPoint=function(){this.haveFloawerPot||(this.getAllPlants().forEach((function(t){t.height=0})),this.orgPlantPoint.worldPosition=this.ppOldPos)},o.get3x3=function(){var t,i,e,n,o=[];return[null==this||null==(t=this.upper)?void 0:t.lefter,null==this?void 0:this.upper,null==this||null==(i=this.upper)?void 0:i.righter,null==this?void 0:this.lefter,this,null==this?void 0:this.righter,null==this||null==(e=this.lower)?void 0:e.lefter,null==this?void 0:this.lower,null==this||null==(n=this.lower)?void 0:n.righter].forEach((function(t){t&&o.push(t)})),o},o.plantHeat=function(){var t=!1;if(this.get3x3().forEach((function(i){i.iceTile&&(t=!0,i.iceTile.die())})),8==this.cIndex&&[this.inLane,this.inLane.UpperLane,this.inLane.LowerLane].forEach((function(i){i.iceTile&&(t=!0,i.iceTile.die())})),t){var i=v.instantiatePooly(T.plantHeat());i.parent=l("Canvas/LawnCommon/Shade"),i.worldPosition=this.node.worldPosition}return t},o.isInLawn=function(){return this.lIndex>=0&&this.cIndex>=0&&this.lIndex<=4&&this.cIndex<=8},o.tombable=function(t){return void 0===t&&(t=!0),!(this.getAllPlants().length>0||this.tombStone&&t||this.rail||this.tileType!=et.deck&&this.tileType!=et.water&&this.tileType!=et.floor)},o.addTomb=function(t,i,e){if(void 0===i&&(i=!0),void 0===e&&(e=!1),this.tombable()&&this.isInLawn()){var n=v.instantiatePooly(E.getTomb(t));n.parent=this.inLane.tombLayer;var o=n.getComponent(F);if(o.worldPosition=new r(this.plantPoint.worldPosition.x,this.plantPoint.worldPosition.y),o.setInLnC(this),o.playSpawnParticle(),e&&b.playTombRiseHeavy(),i){var a=v.instantiatePooly(T.graveSpawn());a.parent=this.inLane.tombLayer,a.worldPosition=n.worldPosition}this.readIndex()}},o.pushPlant=function(t){-1==this.plantInSquare.indexOf(t)&&this.plantInSquare.push(t)},o.pushVine=function(t){-1==this.vineInSquare.indexOf(t)&&this.vineInSquare.push(t)},o.spawnPlant=function(){(this.putPlantAvailable()||this.replantable(this.UIInGame.currentPlantName))&&(this.spawnPlantByPlantEnum(this.UIInGame.currentPlantName,!1,!0,!0),this.UIInGame.spawnPlantCost(),this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),this.selection())},o.removePlant=function(){var t=this,i=0,e=!1;if(this.vineInSquare.length)this.vineInSquare.concat().forEach((function(n){if(n.shovelable()){k.component.lastStandPrepareStarted&&(i+=n.suncost),e=!0;var o=t.vineInSquare.indexOf(n);-1!=o&&t.vineInSquare.splice(o,1),n.die(!1),n.node.destroy()}}));else if(this.plantInSquare.length){var n=!0;this.plantInSquare.concat().forEach((function(t){n&&(t.allowStack||(n=!1))})),this.plantInSquare.concat().forEach((function(o){if(o.allowStack==n&&o.shovelable()){k.component.lastStandPrepareStarted&&(i+=o.suncost),e=!0;var a=t.plantInSquare.indexOf(o);-1!=a&&t.plantInSquare.splice(a,1),o.die(!1),o.node.destroy()}}))}else if(this.haveFloawerPot){var o,a=this.floawerPot.getComponent(I);if(a.shovelable())k.component.lastStandPrepareStarted&&(i+=a.suncost),this.returnPlantPoint(),this.haveFloawerPot=!1,e=!0,null==a||a.die(!1),null==(o=this.floawerPot)||o.destroy(),this.floawerPot=null}else{if(!this.haveLilyPad)return;var l,r=this.lilyPad.getComponent(I);r.shovelable()&&(k.component.lastStandPrepareStarted&&(i+=r.suncost),this.returnPlantPoint(),this.haveLilyPad=!1,e=!0,null==r||r.die(!1),null==(l=this.lilyPad)||l.destroy(),this.lilyPad=null)}if(e){if(i>0)A.produceSun(i,this.plantPoint.worldPosition,0,!1).forEach((function(t){t.collect()}));if(this.tileType==et.floor||this.tileType==et.deck){var d=v.instantiatePooly(T.plantDirts());d.parent=this.inLane.node,d.worldPosition=this.plantPoint.worldPosition,d.getComponent(s.ArmatureDisplay).playAnimation("Remove",1)}this.haveFloawerPot&&this.floawerPot,this.tileType==et.water?b.playShovelDigWater():b.playShovelDig(),this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),this.selection()}},o.foodable=function(){var t=!1;return this.getAllPlants().forEach((function(i){t||i.foodable&&!i.fooding&&(t=!0)})),t},o.plantfood=function(){var t=!1;this.getAllPlants(!1).forEach((function(i){i.foodable&&!i.fooding&&(D.plantFoodNum>0||M.freePF?(i.food(),t=!0):D.plantfoodWarn())})),t&&(this.UIInGame.index=-1,this.UIInGame.tryChangingIndex(-1),D.component.plantFoodDec())},o.start=function(){var t=this;this.node.getChildByName("Select").getComponent(s.ArmatureDisplay).playAnimation("Nope"),this.node.on(c.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(c.EventType.MOUSE_LEAVE,this.onMouseLeave,this),this.node.on(c.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(c.EventType.MOUSE_DOWN,(function(i){t.onMouseDown(i,!0)}),this),this.node.on(c.EventType.MOUSE_WHEEL,this.onMouseScroll,this),this.ppOldPos=this.orgPlantPoint?this.orgPlantPoint.worldPosition.clone():new a(0,0,0),f.moveCrossing(-1,-1)},o.standardize=function(){this.lefter=this._sLefter(),this.righter=this._sRighter(),this.upper=this._sUpper(),this.lower=this._sLower()},o.selection=function(){var t,i,e;if(this.index=0,((this.putPlantAvailable()||this.replantable(P.uiingame.currentPlantName))&&P.index>=0&&P.index<=8||this.getAllPlants().length>0&&1==(null==(t=this.SquaresTotal)?void 0:t.indexShovel)||this.foodable()&&1==(null==(i=this.SquaresTotal)?void 0:i.indexPF)||9==P.index||-4==P.index&&1==this.indexPoint)&&(this.index=1),0==this.index)null==(e=this.selectionDB)||e.playAnimation("Nope");else if(1==this.index&&0==this.indexPoint){var n;null==(n=this.selectionDB)||n.playAnimation(0==f.lncSelectionMode?"Slow":"Nope")}else if(1==this.index&&1==this.indexPoint){var o;null==(o=this.selectionDB)||o.playAnimation(0==f.lncSelectionMode?"Fast":"Nope")}},o.addMold=function(){if(!this.mold){var t=m(W.mold());t.parent=this.plantPoint,this.mold=t.getComponent(J),this.mold.worldPosition=new r(this.node.worldPosition.x,this.node.worldPosition.y)}},o.addFlower=function(t){void 0===t&&(t=0);var i=m(W.flower());i.parent=this.inLane.node,i.setSiblingIndex(0);var e=i.getComponent(Y);return e.worldPosition=new r(this.node.worldPosition.x+(t-.5)*f.SquareDisW,this.node.worldPosition.y),e},o.addRail=function(t){if(!this.rail){var i="Mid";0==t?i="Up":2==t&&(i="Down");var e="";switch(V.currentLawnYardType){case X.egypt:e="Egypt";break;case X.pirate:e="Pirate";break;case X.cowboy:e="Cowboy";break;case X.future:e="Future";break;default:e="Frontyard"}var n=m(W.rail());return n.parent=V.railLayer,n.worldPosition=this.node.worldPosition,this.rail=n.getComponent(Z),this.rail.db.playAnimation(i+e),this.rail.pos=t,this.rail}},o.addCart=function(){var t;if(null==(t=this.rail)||!t.haveCartInLnC(this)){var i="";switch(V.currentLawnYardType){case X.egypt:i="Egypt";break;case X.pirate:i="Pirate";break;case X.cowboy:i="Cowboy";break;case X.future:i="Future";break;default:i="Frontyard"}var e=m(W.cart());e.parent=V.cartLayer,e.worldPosition=this.node.worldPosition;var n=e.getComponent(K);return n.inLnC=this,n.db.playAnimation(i,1),this.rail&&this.rail.group.forEach((function(t){t.carts.push(n)})),n}},e(n,[{key:"shadowCD",get:function(){return this._shadowCD},set:function(t){if(t>0&&this._shadowCD<=0){var i=v.instantiatePooly(T.darkBuff());this.darkBuffParticle=i.getComponent(s.ArmatureDisplay),i.parent=this.inLane.node,i.worldPosition=this.node.worldPosition,i.setSiblingIndex(0),this.darkBuffParticle.playAnimation("Start")}else if(t<=0&&this._shadowCD>0){var e;null==(e=this.darkBuffParticle)||e.armature().animation.fadeIn("End",.2,1),this.darkBuffParticle=null}this._shadowCD=t}},{key:"crackleCountdown",get:function(){return this._crackleCountdown},set:function(t){var i,e;if(t>0&&this._crackleCountdown<=0&&(this.tileType==et.floor||this.tileType==et.deck||this.tileType==et.water)){if(!this.crackedTile){var n=v.instantiatePooly(S.brokenTile());n.parent=l("Canvas/FrontYard/tiles"),n.worldPosition=this.node.worldPosition,this.crackedTile=n.getComponent(s.ArmatureDisplay)}if(!this.crackedTileSparkle){var o=v.instantiatePooly(S.brokenTileSparkles());o.parent=this.inLane.prjLayer,o.worldPosition=this.node.worldPosition,this.crackedTileSparkle=o.getComponent(s.ArmatureDisplay)}this.crackedTile.playAnimation("Spawn"),this.readIndex()}(null==(i=this.crackedTile)||i.armature().getSlot("BG")._setDisplayIndex(t>90?1:0),t<=0)&&(null==(e=this.crackedTile)||e.playAnimation("Fade"),this.crackedTile=null,this.readIndex(),v.destroyPooly(this.crackedTileSparkle.node),this.crackedTileSparkle=null);this._crackleCountdown=t}}]),n}(p))||$);n._RF.pop()}}}));

System.register("chunks:///_virtual/LnCLower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./CharacterManager.ts","./Square.ts"],(function(e){var t,n,o,i,r,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.Component},function(e){r=e.LnC},function(e){a=e.Rectangle},function(e){s=e.Square}],execute:function(){var c;n._RF.push({},"c96e7eFeARCFaBPaweP0RNp","LnCLower",void 0);var l=o.ccclass;o.property,e("LnCLower",l("LnCLower")(c=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).SquareUpper=void 0,t}return t(n,e),n.prototype.standardize=function(e){this.SquareUpper=e;var t=e.getComponent(r);t.squareLower=this,this.node.setWorldPosition(this.SquareUpper.getWorldPosition()),t.particleLowerPoint=this.node.getChildByName("ParticleLowerPoint"),t.plantPoint=this.node.getChildByName("PlantPoint"),t.orgPlantPoint=this.node.getChildByName("OrgPlantPoint"),t.potPoint=this.node.getChildByName("PotPoint"),t.potPointUpper=this.node.getChildByName("PotPointUpper"),t.vinePoint=this.node.getChildByName("VinePointUpper"),t.vineBackPoint=this.node.getChildByName("VinePointLower"),t.buffParticlePoint=this.node.getChildByName("BuffParticle"),t.rec=a.createRectangleNodeCenter(t.node,s.SquareDisW,s.SquareDisH),t.standardize()},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LostRelicHunterZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PirateSwashbucklerZombie.ts"],(function(e){var t,o,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator},function(e){i=e.PirateSwashbucklerZombie}],execute:function(){var n;o._RF.push({},"44625+LKvpJKo5BPxWwJAe9","LostRelicHunterZombie",void 0);var c=r.ccclass;r.property,e("LostRelicHunterZombie",c("LostRelicHunterZombie")(n=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.resetWillLandColume=function(){this.willLandColumn=Math.floor(3*Math.random())+3},o}(i))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/MagnifyingGrass.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./SunCount.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./SandBoxLevelSettingWindow.ts","./magnifyingGrassSound.ts","./Zombie.ts","./Plants.ts","./ParticleSelfdestroy.ts","./CharacterManager.ts","./Tomb.ts"],(function(o){var t,n,i,a,e,r,s,d,l,f,h,P,u,p,c,g,b,y,m,w,S,T,C,D,v,A,_,E,F,L,R;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,a=o.assertThisInitialized},function(o){e=o.cclegacy,r=o._decorator,s=o.Enum,d=o.CCInteger,l=o.Prefab,f=o.Node,h=o.CCFloat,P=o.Vec3,u=o.Vec2,p=o.tween,c=o.HALF_PI,g=o.instantiate},function(o){b=o.Plant},function(o){y=o.SunCount},function(o){m=o.instantiatePooly},function(o){w=o.peaShooter},function(o){S=o.CharacterType},function(o){T=o.SandBoxLevelSettingWindow},function(o){C=o.magnifyingGrassSound},function(o){D=o.Zombie,v=o.zombieDamageType},function(o){A=o.PlantEnum},function(o){_=o.ParticleSelfdestroy},function(o){E=o.ZombiePool,F=o.TombPool,L=o.PlantPool},function(o){R=o.Tomb}],execute:function(){var x,I,z,j,Y,M,O,G,X,k,Z,q,B,H,W,N,V,K,U,J,Q,$,oo,to,no;e._RF.push({},"ccf001ZKmdPHZ+CDO3Le8dl","MagnifyingGrass",void 0);var io=r.ccclass,ao=r.property;s([A]);o("MagnifyingGrassPlant",(x=io("MagnifyingGrassPlant"),I=ao(d),z=ao({type:[A]}),j=ao(l),Y=ao(f),M=ao(h),O=ao(h),G=ao(h),X=ao(l),k=ao(l),Z=ao(l),q=ao(l),x((W=t((H=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return t=o.call.apply(o,[this].concat(e))||this,i(t,"attackSunCost",W,a(t)),i(t,"sunProducerList",N,a(t)),i(t,"prj",V,a(t)),i(t,"peaSpawnPoint",K,a(t)),t.foodingSoundCD=.5,i(t,"foodDuration",U,a(t)),t._foodEndCD=3,i(t,"foodExtendDurationPerPlant",J,a(t)),t._foodExtendCD=.15,i(t,"foodDPS",Q,a(t)),t.foodTarget=null,t.pfIdleTargetDX=400,t.pfIdleTargetDY=200,t.shooting=!1,i(t,"foodFromParPrefab",$,a(t)),t.foodFromPar=void 0,i(t,"foodToParPrefab",oo,a(t)),t.foodToPar=void 0,i(t,"foodAbsorbParPrefab",to,a(t)),t.foodAbsorbPar=[],i(t,"foodRayParPrefab",no,a(t)),t.foodRayPar=void 0,t}n(t,o);var e=t.prototype;return e.specialPlantUpdateForce=function(o){var t=this;if(this.fooding){var n,i;if(this.foodTarget&&!this.foodTarget.isAlive()&&(this.foodTarget=null),this.foodTarget||(this.foodTarget=E.leftest(),this.foodTarget||(this.foodTarget=F.leftest())),this.foodTarget)null==(n=this.foodTarget.getComponent(D))||n.dealDamage(this.foodDPS*o,!0,!1,!0,null,v.ray),null==(i=this.foodTarget.getComponent(R))||i.dealDamage(this.foodDPS*o),this.foodToPar&&(this.foodToPar.node.parent=this.foodTarget.inLane.prjLayer,this.foodToPar.node.worldPosition=new P(this.foodTarget._worldPositionX,this.foodTarget._worldPositionY+this.peaSpawnPoint.worldPosition.y-this.body.worldPosition.y,10));if(this.foodFromPar&&(this.foodFromPar.node.worldPosition=this.peaSpawnPoint.worldPosition),this.foodRayPar&&(this.foodRayPar.character=this.foodTarget),this.foodRayPar&&this.correctRay(this.foodRayPar),this.foodTarget&&!this.foodToPar){var a=m(this.foodToParPrefab);a.parent=this.foodTarget.inLane.prjLayer,a.worldPosition=new P(this.foodTarget._worldPositionX,this.foodTarget._worldPositionY+this.foodTarget.height+this.peaSpawnPoint.worldPosition.y-this.body.worldPosition.y,10),this.foodToPar=a.getComponent(_),this.foodToPar.db.playAnimation("Idle")}else!this.foodTarget&&this.foodToPar&&(this.foodToPar.db.playAnimation("Die"),this.foodToPar=null);this.foodingSoundCD>0&&(this.foodingSoundCD-=o),this.foodingSoundCD<=0&&(this.foodingSoundCD=.5,this.getComponent(C).playFoodingSound()),this.foodAbsorbPar.length>0?(this.foodAbsorbPar.forEach((function(o){t.correctRay(o)})),this._foodExtendCD>0&&(this._foodExtendCD-=o),this._foodExtendCD<=0&&(this._foodExtendCD=this.foodExtendDurationPerPlant,this.foodAbsorbPar[0].psd.db.playAnimation("End"),this.foodAbsorbPar.shift())):this._foodEndCD>0&&(this._foodEndCD-=o,this._foodEndCD<=0&&this.foodEnd())}},e._shoot=function(o){void 0===o&&(o=this.prj);var t=m(this.prj);t.parent=this.inLane.prjLayer;w.shootOnePea(t,new P(this.peaSpawnPoint.worldPosition.x,this._worldPositionY,10),this.peaSpawnPoint.worldPosition.y-this._worldPositionY,this.inLane.prjLayer,new u(15,0),S.zombie)},e.specialPlantOnEnable=function(){this.shooting=!1,this.foodToPar=null,this.foodTarget=null,this.foodRayPar=null;var o=this.pfIdleTargetDY,t=this,n=p(t).to(2,{pfIdleTargetDY:-o},{easing:"quadInOut"}),i=p(t).to(2,{pfIdleTargetDY:o},{easing:"quadInOut"});n.then(i).clone(t).repeatForever().start()},e.waterable=function(){return!this.shooting},e.animationOnComplete=function(){this.shooting=!1},e.animationListener=function(o){"Shoot"==o.name?(this._shoot(),this.shooting=!1,this.getComponent(C).playShootSound()):"foodStart"==o.name&&this.foodStart()},e.foodStart=function(){this.anmControl.playAnimation("Fooding",1/0)},e.specialPlantFood=function(o){var t=this;this.anmControl.playAnimation("FoodStart",1),this.getComponent(C).playFoodStartSound();var n=m(this.foodFromParPrefab);n.parent=this.body.parent,n.worldPosition=this.peaSpawnPoint.worldPosition,this.foodFromPar=n.getComponent(_),this.foodFromPar.db.playAnimation("Start"),this.foodAbsorbPar=[],L.pool().forEach((function(o){if(-1!=t.sunProducerList.indexOf(o.ID)){var n=m(t.foodAbsorbParPrefab);n.parent=t.inLane.prjLayer;var i=n.getComponent(_);i.db.playAnimation("Idle",1/0);var a={character:o,psd:i};t.correctRay(a),t.foodAbsorbPar.push(a)}})),this.foodAbsorbPar.length>0&&(this._foodExtendCD=this.foodExtendDurationPerPlant),this._foodEndCD=this.foodDuration;var i=m(this.foodRayParPrefab);i.parent=this.inLane.prjLayer;var a=i.getComponent(_);a.db.playAnimation("Start"),this.foodRayPar={character:null,psd:a}},e.correctRay=function(o){var t=o.psd,n=this.peaSpawnPoint.worldPosition;t.node.worldPosition=this.peaSpawnPoint.worldPosition;var i=o.character,a=(new P,(i?new P(i._worldPositionX,i._worldPositionY+i.height+this.peaSpawnPoint.worldPosition.y-this.body.worldPosition.y,0):new P(this._worldPositionX+this.pfIdleTargetDX,this._worldPositionY+this.pfIdleTargetDY,10)).clone().add(n.clone().negative())),e=new u(a.x,a.y);t.node.worldScale=new P(e.length()/500,.5,1),t.node.angle=90/c*Math.atan2(e.y,e.x)},e.specialPlantFoodEnd=function(){this.getComponent(C).playFoodEndSound(),this.anmControl.playAnimation("FoodEnd",1),this.foodFromPar.db.playAnimation("End"),this.foodFromPar=null,this.foodTarget=null,this.foodToPar&&(this.foodToPar.db.playAnimation("Die"),this.foodToPar=null),this.foodRayPar&&(this.foodRayPar.psd.db.playAnimation("End"),this.foodRayPar=null)},e.shootAnimation=function(){var o=g(y.component.icon.node);o.parent=this.inLane.node,o.setSiblingIndex(0),o.worldPosition=y.component.icon.node.worldPosition,o.worldScale=y.component.icon.node.worldScale.clone(),p(o).to(.2,{worldPosition:this.peaSpawnPoint.worldPosition,worldScale:new P(.2,.2,.2)},{easing:"quadOut"}).call((function(){o.destroy()})).start(),this.shooting=!0,this.anmControl.playAnimation("Shoot"+Math.floor(2*Math.random()).toString(),1,0,1),y.component.SunDec(this.attackSunCost)},e.specialPlantOnMouseDown=function(){if(this.fooding||this.shooting)return!1;var o=y.component.SunCount>=this.attackSunCost||T.freePlant;return o?this.shootAnimation():this.shooting||o||y.component.playWarn(),o},t}(b)).prototype,"attackSunCost",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),N=t(H.prototype,"sunProducerList",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(H.prototype,"prj",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(H.prototype,"peaSpawnPoint",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(H.prototype,"foodDuration",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),J=t(H.prototype,"foodExtendDurationPerPlant",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),Q=t(H.prototype,"foodDPS",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),$=t(H.prototype,"foodFromParPrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oo=t(H.prototype,"foodToParPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=t(H.prototype,"foodAbsorbParPrefab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=t(H.prototype,"foodRayParPrefab",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=H))||B));e._RF.pop()}}}));

System.register("chunks:///_virtual/magnifyingGrassSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts","./SoundsController.ts"],(function(o){var n,t,i,r,e,u,a,s,d;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){e=o.cclegacy,u=o._decorator,a=o.AudioClip},function(o){s=o.plantSound},function(o){d=o.SoundFXController}],execute:function(){var l,c,p,S,f,y,h,g,b,m,F,v,z;e._RF.push({},"88b16PbaK1LorUA83jvGtRG","magnifyingGrassSound",void 0);var A=u.ccclass,w=u.property;o("magnifyingGrassSound",(l=A("magnifyingGrassSound"),c=w([a]),p=w([a]),S=w(a),f=w([a]),y=w([a]),l((b=n((g=function(o){function n(){for(var n,t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];return n=o.call.apply(o,[this].concat(e))||this,i(n,"shootSounds",b,r(n)),i(n,"foodStartSounds",m,r(n)),i(n,"foodLoopSound",F,r(n)),i(n,"foodEndSounds",v,r(n)),i(n,"foodingSounds",z,r(n)),n}t(n,o);var e=n.prototype;return e.playShootSound=function(){this.playOneShotFromArray(this.shootSounds)},e.playFoodStartSound=function(){this.playOneShotFromArray(this.foodStartSounds),this.audioSource.volume=d.SoundFXVolume,this.audioSource.loop=!0,this.audioSource.clip=this.foodLoopSound,this.audioSource.play()},e.playFoodEndSound=function(){this.playOneShotFromArray(this.foodEndSounds),this.audioSource.stop()},e.playFoodingSound=function(){this.playOneShotFromArray(this.foodingSounds)},n}(s)).prototype,"shootSounds",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=n(g.prototype,"foodStartSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=n(g.prototype,"foodLoopSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(g.prototype,"foodEndSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(g.prototype,"foodingSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g))||h));e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./ElectronAPI.ts","./NodePools.ts","./_1.ts","./lawnPirate.ts","./lawnSky.ts","./lawn.ts","./stageEffect.ts","./Armors.ts","./LevelNodes.ts","./Plants.ts","./Scenes.ts","./Tiles.ts","./Tombs.ts","./Trophies.ts","./Zombies.ts","./ScrollViewWithoutTouchevent.ts","./CardUIUpper.ts","./Cards.ts","./CharacterManager.ts","./Conveyor.ts","./Droppings.ts","./FrontYard.ts","./KeyListener.ts","./LevelTaskCount.ts","./Materials.ts","./Particles.ts","./Pause.ts","./PlantFoodCount.ts","./PowerupFingers.ts","./ProjectileManager.ts","./SandBoxZombieCards.ts","./SeedChooser.ts","./Shovel.ts","./ShovelUIController.ts","./SoundManager.ts","./SoundRescourses.ts","./Square.ts","./SunCount.ts","./UI.ts","./inGame.ts","./levelController.ts","./InfoWindow.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./mainScene.ts","./preSplashScene.ts","./splashScene.ts","./testScene.ts","./Character.ts","./Mouse.ts","./ParticleSelfdestroy.ts","./PlayerProperties.ts","./Lane.ts","./LnC.ts","./LnCLower.ts","./Tide.ts","./GroundFire.ts","./GroundFiresManager.ts","./AnimationController.ts","./CardFeatureTotal.ts","./Plant.ts","./SniperPlant.ts","./BananaLauncher.ts","./MissileToe.ts","./bananaLauncherSound.ts","./Bloomerang.ts","./bloomerangSound.ts","./Blover.ts","./Hurrikale.ts","./BonkChoy.ts","./bonkChoySound.ts","./Buttercup.ts","./buttercupSound.ts","./CabbagePult.ts","./KernelPult.ts","./MelonPult.ts","./cabbagePultSound.ts","./Cactus.ts","./cactusSound.ts","./cardSelectAlmanac.ts","./CherryBomb.ts","./CranJelly.ts","./DoomShroom.ts","./Jalapeno.ts","./PowerLily.ts","./ChiliBean.ts","./chilibeanSound.ts","./Chomper.ts","./chomperSound.ts","./CoconutCannon.ts","./coconutCannonSound.ts","./Dragonbruit.ts","./DragonbruitBaby.ts","./dragonBruitSound.ts","./FloawerPot.ts","./LilyPad.ts","./FumeShroom.ts","./GloomShroom.ts","./GloomVine.ts","./fumeShroomSound.ts","./gloomShroomSound.ts","./gloomVineSound.ts","./GlacierShroom.ts","./glacierShroomSound.ts","./GraveBuster.ts","./HomingThistle.ts","./homingThistleSound.ts","./IcebergLettuce.ts","./Stallia.ts","./stalliaSound.ts","./LightningReed.ts","./lightningCloud.ts","./lightningReedSound.ts","./MagnifyingGrass.ts","./magnifyingGrassSound.ts","./MeteorFlower.ts","./meteorFlowerSound.ts","./ElectricPeashooter.ts","./FirePeashooter.ts","./GatlingPea.ts","./PeaPod.ts","./PeaVine.ts","./Peashooter.ts","./PrimalPeashooter.ts","./PuffShroom.ts","./Repeater.ts","./Rotobaga.ts","./ShootingStarfruit.ts","./SnowPea.ts","./SplitPea.ts","./StarFruit.ts","./ThreePeater.ts","./electricPeashooterSound.ts","./firePeashooterSound.ts","./peaShooterSound.ts","./puffShroomSound.ts","./rotobagaSound.ts","./starFruitSound.ts","./plantSound.ts","./PotatoMine.ts","./PotatoMinePrimal.ts","./ScaredyShroom.ts","./scaredyShroomSound.ts","./SnapDragon.ts","./SnapDragonFoodPar.ts","./snapDragonSound.ts","./Spikerock.ts","./Spikeweed.ts","./spikeweedSound.ts","./SpringBean.ts","./springbeanSound.ts","./Squash.ts","./squashSound.ts","./Moonflower.ts","./SunShroom.ts","./Sunflower.ts","./moonflowerSound.ts","./sunShroomSound.ts","./sunflowerSound.ts","./Torchwood.ts","./torchWoodSound.ts","./UmbrellaLeaf.ts","./umbrellaLeafSound.ts","./Vamporcini.ts","./vamporciniSound.ts","./PrimalWallNut.ts","./Pumpkin.ts","./TallNut.ts","./WallNut.ts","./wallnutSound.ts","./Prizes.ts","./coinbag.ts","./levelPrize.ts","./boomerang.ts","./cactusThorn.ts","./coconutHeavy.ts","./coin.ts","./commonShot.ts","./cranjellyProjectile.ts","./dropping.ts","./electricPea.ts","./electricPeaMega.ts","./electricPeaPointer.ts","./gem.ts","./plantFood.ts","./sun.ts","./tombBone.ts","./zombieDrop.ts","./shadeFloor.ts","./SoundsController.ts","./flowerLine.ts","./moldSquare.ts","./Tile.ts","./cart.ts","./endangeredTile.ts","./railway.ts","./Tomb.ts","./ButtonWithSounds.ts","./CoinCollecterInGame.ts","./CoinCount.ts","./CurrencyCount.ts","./GemCount.ts","./MouseBlocker.ts","./WorldMap.ts","./WorldMapChooser.ts","./WorldMaps.ts","./worldMapScene.ts","./Armor.ts","./BodyGrouper.ts","./CardFeatureTotalZombie.ts","./CowboyBasicZombie.ts","./CowboyBullZombie.ts","./CowboyChickenFarmerZombie.ts","./CowboyChickenZombie.ts","./CowboyImpZombie.ts","./CowboyPianoZombie.ts","./CowboyPonchoZombie.ts","./CowboyProspectorZombie.ts","./EgyptCamelZombie.ts","./EgyptExplorerZombie.ts","./EgyptPharaohZombie.ts","./EgyptRaZombie.ts","./EgyptSandStormParticle.ts","./EgyptTombRaiserZombie.ts","./FutureJetpackZombie.ts","./CowboyGargantuarZombie.ts","./EgyptGargantuarZombie.ts","./GargantuarZombie.ts","./PirateGargantuarZombie.ts","./ImpZombie.ts","./LostRelicHunterZombie.ts","./ModernAllstarZombie.ts","./ModernBalloonZombie.ts","./ModernBobsledTeamZombie.ts","./ModernCatapultZombie.ts","./Icetile.ts","./SleighCartZombie.ts","./PirateBarrelPusherZombie.ts","./PirateBarrelZombie.ts","./PirateCaptainParrotZombie.ts","./PirateCaptainZombie.ts","./PirateImpCannonZombie.ts","./ChickenZombieAshParticle.ts","./PirateSeagullZombie.ts","./SeagullZombieAshParticle.ts","./PirateSwashbucklerZombie.ts","./Zombie.ts","./ZombieAshParticle.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/mainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./ElectronAPI.ts","./PlayerProperties.ts","./NodePools.ts","./Materials.ts"],(function(e){var n,t,o,i,r,s,a,l,u,c,h,f,p,d,S,w,g,m,y,b,C,E,v,P,z,A;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Sprite,l=e.SpriteFrame,u=e.Node,c=e.AudioClip,h=e.Color,f=e.director,p=e.Vec3,d=e.input,S=e.Input,w=e.KeyCode,g=e.AudioSource,m=e.Material,y=e.tween,b=e.Component},function(e){C=e.SoundFXController,E=e.MusicController},function(e){v=e.default},function(e){P=e.AllPlayerProperties},function(e){z=e.ArrayGet},function(e){A=e.materialRes}],execute:function(){var M,W,G,B,T,F,O,R,_,k,D,L,N,H,I,V,K,U;r._RF.push({},"bfe05tLwJtHQLHmMPORIuuE","mainScene",void 0);var X=s.ccclass,q=s.property;e("mainScene",(M=X("mainScene"),W=q(a),G=q([l]),B=q(u),T=q(u),F=q(a),O=q(a),R=q(c),M(((U=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,o(n,"BG",D,i(n)),o(n,"randomSplash",L,i(n)),o(n,"infoWindow",N,i(n)),o(n,"settingWindow",H,i(n)),o(n,"sceneSlash",I,i(n)),n.sceneColor=new h,n.infoShown=!1,n.settingsShown=!1,o(n,"infoButton",V,i(n)),n.audioSource=void 0,o(n,"gotoGameSound",K,i(n)),n}t(n,e);var r=n.prototype;return r.goToGame=function(){this.infoShown||this.settingsShown||f.loadScene("worldMapScene")},r.quit=function(){v.quit()},r.info=function(){this.settingsShown||(this.infoShown?(this.infoWindow.position=new p(-1e4,0),this.infoShown=!1):(this.infoWindow.position=new p(0,0),this.infoShown=!0))},r.setting=function(){this.infoShown||(this.settingsShown?(this.settingWindow.position=new p(-1e4,0),this.settingsShown=!1):(this.settingWindow.position=new p(0,0),this.settingsShown=!0))},r.onLoad=function(){var e=this;d.on(S.EventType.KEY_DOWN,(function(n){n.keyCode==w.SPACE&&(e.goToGame(),e.audioSource.playOneShot(e.gotoGameSound,C.SoundFXVolume))}),this),P.getPlayer(0),this.audioSource=this.getComponent(g)},r.update=function(e){this.sceneSlash.color=this.sceneColor,this.audioSource.volume=E.MusicVolume;var n=this.infoButton.customMaterial,t=n.passes[0].getHandle("addColor");n.passes[0].setUniform(t,A.zombiePF)},r.start=function(){var e=this,t=new m;t.initialize({effectAsset:A.addColorEffect,defines:{USE_TEXTURE:!0}}),this.infoButton.customMaterial=t,this.sceneSlash.color=new h(0,0,0,255),y(this.sceneColor).to(1,{a:0,r:0,g:0,b:0}).start(),this.randomSplash.length&&(this.BG.spriteFrame=z.getRandom(this.randomSplash)),n.gameOpened||(this.audioSource.play(),this.audioSource.volume=E.MusicVolume,n.gameOpened=!0),d.on(S.EventType.KEY_DOWN,(function(n){n.keyCode!=w.ESCAPE&&n.keyCode!=w.ENTER&&n.keyCode!=w.SPACE||(e.infoShown&&e.info(),e.settingsShown&&e.setting())}),this),this.infoShown=!0,this.info(),this.settingsShown=!0,this.setting()},n}(b)).gameOpened=!1,D=n((k=U).prototype,"BG",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(k.prototype,"randomSplash",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=n(k.prototype,"infoWindow",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(k.prototype,"settingWindow",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=n(k.prototype,"sceneSlash",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(k.prototype,"infoButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(k.prototype,"gotoGameSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=k))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/Materials.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,r,i,t,n,a,l,s,b,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Color,s=e.EffectAsset,b=e.tween,c=e.Component}],execute:function(){var u,f,m,z,p,C,P,d,w,h,F;n._RF.push({},"85114aqrvBMhKvCC7c7xFoe","Materials",void 0);var g=a.ccclass,v=a.property,y=e("materialRes",(function(){}));y.addColorEffect=null,y.zombiePoisonColor=new l(255,255,255,255),y.zombiePerfumeColor=new l(255,255,255,255),y.zombiePF=new l(255,255,255,255),y.rewardColor=new l(255,255,255,255);e("MaterialsRes",(u=g("Materials"),f=v(s),m=v(l),z=v(l),p=v(l),u((d=o((P=function(e){function o(){for(var o,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return o=e.call.apply(e,[this].concat(n))||this,i(o,"addColorEffect",d,t(o)),i(o,"zombiePoison",w,t(o)),i(o,"zombiePerfume",h,t(o)),i(o,"zombiePF",F,t(o)),o.zombieCPF=new l(0,0,0,255),o.rewardColor=new l(122,122,122,255),o}r(o,e);var n=o.prototype;return n.update=function(e){y.zombiePF=this.zombieCPF,y.rewardColor=this.rewardColor},n.start=function(){var e=this,o=b(e.zombieCPF).to(.7,{r:this.zombiePF.r,g:this.zombiePF.g,b:this.zombiePF.b}),r=b(e.zombieCPF).to(.7,{r:0,g:0,b:0});o.then(r).clone(e.zombieCPF).repeatForever().start();var i=b(e.rewardColor).to(.7,{r:255,g:255,b:255}),t=b(e.rewardColor).to(.7,{r:122,g:122,b:122});i.then(t).clone(e.rewardColor).repeatForever().start()},n.onLoad=function(){y.zombiePF=this.zombieCPF,y.zombiePoisonColor=this.zombiePoison,y.zombiePerfumeColor=this.zombiePerfume,y.addColorEffect=this.addColorEffect},o}(c)).prototype,"addColorEffect",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=o(P.prototype,"zombiePoison",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),h=o(P.prototype,"zombiePerfume",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),F=o(P.prototype,"zombiePF",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(255,255,255,255)}}),C=P))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/MelonPult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CabbagePult.ts","./cabbagePultSound.ts","./CharacterManager.ts","./Square.ts","./LnC.ts"],(function(o){var e,t,n,a,i,r,l,s;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator},function(o){a=o.CabbagePultPlant},function(o){i=o.cabbagePultSound},function(o){r=o.ZombiePool},function(o){l=o.Square},function(o){s=o.LnC}],execute:function(){var u;t._RF.push({},"1447fuRnBRGC7NKWgISnb2t","MelonPult",void 0);var d=n.ccclass;n.property,o("MelonPultPlant",d("MelonPultPlant")(u=function(o){function t(){return o.apply(this,arguments)||this}e(t,o);var n=t.prototype;return n.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.busy=1/0},n.animationListener=function(o){var e=this;if("Lob"==o.name)this.detectEnemy(!0),this._lob(this.targetLock),this.targetLock=null,this.node.getComponent(i).playLobSound();else if("foodLob0"==o.name){this.node.getComponent(i).playFoodSound();var t=l.getSquareWorldPosition(0,6,0,1).x,n=0;for(r.pool().forEach((function(o){o.node.worldPosition.x>t&&(n++,e._lob(o.node,e.cabbageMega,!0,45))}));n<=4;)this._lobToNode(l.getRandomSquare().getComponent(s).plantPoint,this.cabbageMega,!0,45),n++}else if("foodLob1"==o.name){var a=l.getSquareWorldPosition(0,4,0,1).x,u=l.getSquareWorldPosition(0,6,0,1).x,d=0;for(r.pool().forEach((function(o){o.node.worldPosition.x>a&&o.node.worldPosition.x<u&&(d++,e._lob(o.node,e.cabbageMega,!0,45))}));d<=4;)this._lobToNode(l.getRandomSquare(),this.cabbageMega,!0,45),d++}else if("foodLob2"==o.name){var c=l.getSquareWorldPosition(0,2,0,1).x,b=l.getSquareWorldPosition(0,4,0,1).x,g=0;for(r.pool().forEach((function(o){o.node.worldPosition.x>c&&o.node.worldPosition.x<b&&(g++,e._lob(o.node,e.cabbageMega,!0,45))}));g<=4;)this._lobToNode(l.getRandomSquare(),this.cabbageMega,!0,45),g++}else if("foodLob3"==o.name){var f=l.getSquareWorldPosition(0,2,0,1).x,h=0;for(r.pool().forEach((function(o){o.node.worldPosition.x<f&&(h++,e._lob(o.node,e.cabbageMega,!0,45))}));h<=4;)this._lobToNode(l.getRandomSquare(),this.cabbageMega,!0,45),h++}else"foodEnd"==o.name&&(this.busy=0,this.foodEnd())},t}(a))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/MeteorFlower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./commonShot.ts","./ProjectileManager.ts","./CharacterManager.ts","./Square.ts","./NodePools.ts","./meteorFlowerSound.ts","./LnC.ts"],(function(t){var n,e,i,o,r,a,s,h,l,u,c,m,d,f,g,p,w,y,b,v,A;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab,h=t.Vec2},function(t){l=t.Plant},function(t){u=t.CharacterType},function(t){c=t.commonShot},function(t){m=t.projectile},function(t){d=t.ZombiePool,f=t.TombPool},function(t){g=t.Square},function(t){p=t.NodePools,w=t.ArrayGet},function(t){y=t.meteorFlowerSound},function(t){b=t.TileLiquidEnum,v=t.TileType,A=t.LnC}],execute:function(){var P,C,L,S,R,k,T,M,E,F,I;r._RF.push({},"7d88eKrwBBEh6hUP4FKrg8v","MeteorFlower",void 0);var D=a.ccclass,_=a.property,x=t("meteorFlower",function(){function t(){}return t.throwOneMeteorOnPos=function(t,n,e,i,o,r,a){var s=e.clone().normalize().negative().multiplyScalar(r),l=r*i/e.length();t.parent=o;var u=t.getComponent(c);return u.worldPosition=new h(n.x+e.x,n.y+e.y),u.height=i,u.gravity=0,u.linearVelocity=s,u.bodyLinearVelocity=-l,m.registerProjectile(t,a),u},t.throwOneMeteorOnNode=function(t,n,e,i,o,r,a){return this.throwOneMeteorOnPos(t,n.worldPosition,e,i,o,r,a)},t}());t("MeteorFlowerPlant",(P=D("MeteorFlowerPlant"),C=_(s),L=_(Number),S=_(Number),R=_(Number),P((M=n((T=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"meteor",M,o(n)),i(n,"secondMeteorRandomRate",E,o(n)),n.awaken=!0,n.recovering=!0,i(n,"restDuration",F,o(n)),n.resting=0,i(n,"maxThrowAmount",I,o(n)),n.thrownAmount=0,n.busy=0,n.ignited=!1,n}e(n,t);var r=n.prototype;return r._throw=function(t){var n=p.instantiatePooly(this.meteor);x.throwOneMeteorOnPos(n,t.worldPosition,new h(10*-g.SquareDisW,0),700,this.inLane.prjLayer,20,u.default).setTileLiquid(b.softLava,10)},r.specialPlantFood=function(t){var n=this;this.resting=1/0,this.ignited=!1,this.anmControl.playAnimation("Food",1),this.getComponent(y).playIgniteSound(),this.schedule((function(){d.inLawnPool().length>0?n._throw(w.getRandom(d.inLawnPool()).inLnC.plantPoint):n._throw(g.getRandomSquare())}),.3,5,.1),this.busy=1/0},r.specialPlantFoodEnd=function(){this.getComponent(y).playRestSound(),this.anmControl.playAnimation("SummonEnd",1),this.setAnimation(1),this.busy=1/0,this.awaken=!1,this.resting=this.restDuration,this.rest()},r.detectEnemy=function(){var t=null;(this.thrownAmount<=0||Math.random()<this.secondMeteorRandomRate)&&(d.pool().length>0?d.pool().forEach((function(n){if(n.inLnC){var e,i=null==(e=n.inLnC)?void 0:e.getTileType();!n.isInLawn()||i!=v.floor&&i!=v.deck||t&&!(t.cIndex>n.inLnC.cIndex)||(t=n.inLnC)}})):f.pool().length>0&&f.pool().forEach((function(n){if(n.inLnC){var e,i=null==(e=n.inLnC)?void 0:e.getTileType();i!=v.floor&&i!=v.deck||t&&!(t.cIndex>n.inLnC.cIndex)||(t=n.inLnC)}}))),(t||this.thrownAmount>0)&&(this.thrownAmount>0&&(t||(t=g.getRandomSquare().getComponent(A))),this._throw(t.node),this.thrownAmount++,this.busy=.5,this.thrownAmount>=this.maxThrowAmount&&this.rest())},r.rest=function(){this.busy=1/0,this.ignited=!1,this.getComponent(y).playRestSound(),this.anmControl.playAnimation("SummonEnd",1),this.setAnimation(1)},r.igniteStart=function(){this.resting=1/0,this.awaken=!1,this.anmControl.playAnimation("SummonStart",1)},r.ignite=function(){this.getComponent(y).playIgniteSound(),this.ignited=!0,this.busy=0,this.setAnimation(2)},r.recover=function(){this.awaken=!0,this.recovering=!1},r.setAnimation=function(t){var n=this.anmControl;switch(t){case 1:n.IdleAnim="Idle_Black",n.RandomAnim=[],this.deathAnm="Death_Black";break;case 2:n.IdleAnim="Summonning",n.RandomAnim=[],this.deathAnm="Death_Black";break;default:n.IdleAnim="Idle",n.RandomAnim=["Rand1","Rand2"],this.deathAnm="Death"}},r.waterable=function(){return this.awaken&&this.resting<=0&&!this.ignited&&!this.recovering},r.animationListener=function(t){"summon"==t.name&&this.ignite(),"rest"==t.name&&(this.resting=this.restDuration),"recover"==t.name&&this.recover(),"foodEnd"==t.name&&this.foodEnd()},r.specialPlantOnEnable=function(){this.thrownAmount=0,this.busy=1/0,this.ignited=!1,this.resting=0,this.awaken=!0,this.recovering=!1,this.setAnimation(0),this.anmControl.playRandom()},r.specialPlantUpdate=function(t){if(this.foodable=d.inLawnPool().length>0,!this.dead&&!this.fooding&&(this.ignited&&(this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,this.detectEnemy())),this.resting>0&&(this.resting-=t),this.resting<=0&&!this.awaken&&!this.recovering&&(this.thrownAmount=0,this.recovering=!0,this.anmControl.playAnimation("Recover"),this.setAnimation(0)),this.awaken)){var n=!1;d.inLawnPool().forEach((function(t){var e;if(!n){var i=null==t||null==(e=t.inLnC)?void 0:e.getTileType();i!=v.floor&&i!=v.deck||(n=!0)}})),n&&this.igniteStart()}},n}(l)).prototype,"meteor",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(T.prototype,"secondMeteorRandomRate",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),F=n(T.prototype,"restDuration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),I=n(T.prototype,"maxThrowAmount",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),k=T))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/meteorFlowerSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundsController.ts"],(function(o){var e,t,n,r,i,u,a,l,c,s,d;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){i=o.cclegacy,u=o._decorator,a=o.AudioClip,l=o.AudioSource,c=o.Component},function(o){s=o.ArrayGet},function(o){d=o.SoundFXController}],execute:function(){var p,S,f,h,m,y,g;i._RF.push({},"8ce6aXuT9lBr7ExD5pEi0uv","meteorFlowerSound",void 0);var v=u.ccclass,F=u.property;o("meteorFlowerSound",(p=v("meteorFlowerSound"),S=F([a]),f=F([a]),p((y=e((m=function(o){function e(){for(var e,t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return(e=o.call.apply(o,[this].concat(i))||this).audioSource=void 0,n(e,"igniteSound",y,r(e)),n(e,"restSound",g,r(e)),e}t(e,o);var i=e.prototype;return i.onLoad=function(){this.getComponent(l)||this.addComponent(l),this.audioSource=this.getComponent(l)},i.playIgniteSound=function(){this.audioSource.playOneShot(s.getRandom(this.igniteSound),d.SoundFXVolume)},i.playRestSound=function(){this.audioSource.playOneShot(s.getRandom(this.restSound),d.SoundFXVolume)},e}(c)).prototype,"igniteSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=e(m.prototype,"restSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=m))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/MissileToe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BananaLauncher.ts"],(function(e){var n,t,o,r,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.KeyCode},function(e){i=e.BananaLauncherPlant}],execute:function(){var s;t._RF.push({},"b0bd1cgazZJ+7i3Yreqlun5","MissileToe",void 0);var a=o.ccclass;o.property,e("MissileToePlant",a("MissileToePlant")(s=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.LocateStartKeyCode=function(){return r.KEY_N},t}(i))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/ModernAllstarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./SoundsController.ts"],(function(n){var e,t,i,o,r,a,u,c,l,s,h,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,u=n.CCFloat,c=n.AudioClip,l=n.dragonBones},function(n){s=n.Zombie},function(n){h=n.ArrayGet},function(n){p=n.SoundFXController}],execute:function(){var d,S,b,f,g,m,y,R,k,A,v;r._RF.push({},"97617AVQ+JHOI5Rmbpth5JT","ModernAllstarZombie",void 0);var P=a.ccclass,w=a.property;n("AllstarZombie",(d=P("AllstarZombie"),S=w(u),b=w([c]),f=w([c]),g=w([c]),d((R=e((y=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,i(e,"runningSpeedScale",R,o(e)),e.running=!0,i(e,"stepSound",k,o(e)),i(e,"kickSound",A,o(e)),i(e,"punchSound",v,o(e)),e}t(e,n);var r=e.prototype;return r.playSpecialZombieDeath=function(){this.running&&(this.running=!1,this.randomSpeed/=this.runningSpeedScale)},r.specialAnimationListener=function(n){"step"==n.name?this.audioSource.playOneShot(h.getRandom(this.stepSound),.3*p.SoundFXVolume):"Kick"==n.name?this.audioSource.playOneShot(h.getRandom(this.kickSound),p.SoundFXVolume):"Punch"==n.name&&(this._punch(),this.audioSource.playOneShot(h.getRandom(this.punchSound),p.SoundFXVolume))},r._punch=function(){var n=this,e=null;this.inLane.plantPool().concat().forEach((function(t){t.eaterDetectable&&(!e||t.bodyRec.prjX().y>e.bodyRec.prjX().y)&&t.bodyRec.judgeCrossRec(n.plantDetectorRec)&&(e=t)})),e&&e.smash(this)},r.ignorePlants=function(){return this.switching},r.detectPlant=function(n){var e=this;if(!(n<=0||this.switching))if(this.running){var t=!1;this.inLane.plantPool().forEach((function(n){t||n.eaterDetectable&&n.bodyRec.judgeCrossRec(e.plantDetectorRec)&&(t=!0)})),t&&(this.running=!1,this.switching=!0,this.body.playAnimation("Punch",1),this.setSpeed(0,!1),this.db.once(l.EventObject.COMPLETE,(function(){e.switching=!1,e.dead||e.playWalk()}),this),this.body.WalkAnm="Walk",this.randomSpeed/=this.runningSpeedScale)}else this.defaultDetectPlant(n)},r.specialZombieOnEnable=function(){this.body.WalkAnm="Run",this.walking=!1,this.running=!0,this.playWalk(),this.randomSpeed*=this.runningSpeedScale},e}(s)).prototype,"runningSpeedScale",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),k=e(y.prototype,"stepSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(y.prototype,"kickSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(y.prototype,"punchSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=y))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/ModernBalloonZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./SoundsController.ts","./CharacterManager.ts","./LnC.ts","./Plant.ts"],(function(t){var e,n,i,o,l,a,s,h,d,r,c,u,b,y,p,m,f,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,s=t.Prefab,h=t.AudioClip,d=t.Vec2,r=t.AudioSource,c=t.dragonBones},function(t){u=t.zombieDamageType,b=t.Zombie},function(t){y=t.ArrayGet},function(t){p=t.SoundFXController},function(t){m=t.Rectangle},function(t){f=t.TileType},function(t){A=t.PlantType}],execute:function(){var g,S,P,k,D,v,O,w,E,R,H,W,Z;l._RF.push({},"9def9SOGMtIJa/OMEnPblEO","ModernBalloonZombie",void 0);var z=a.ccclass,x=a.property;t("ModernBalloonZombie",(g=z("ModernBalloonZombie"),S=x(s),P=x(Number),k=x(h),D=x([h]),v=x([h]),g((E=e((w=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,i(e,"balloonZombieAshParticle",E,o(e)),i(e,"balloonToughness",R,o(e)),e.balloonHealth=270,i(e,"explodeSound",H,o(e)),e.detectPlantOff=!1,i(e,"bounceSound",W,o(e)),i(e,"steadySound",Z,o(e)),e.rosen=!1,e.oldIdleAnm="",e.oldEatAnm="",e.oldDeathAnm="",e.oldWalkAnm="",e}n(e,t);var l=e.prototype;return l.extraHealth=function(){return this.balloonHealth},l.destroyBalloon=function(){this.balloonHealth>0&&(this.explode(),this.balloonHealth=0)},l.haveBalloon=function(){return this.balloonHealth>0},l.detectPlant=function(t){this.balloonHealth>0?this.haveBalloonDetectPlant(t):this.defaultDetectPlant(t)},l.haveBalloonDetectPlant=function(t){var e;if(0!=t&&this.detectPlantOn()){var n=this.plantDetectorRec,i=null;this.ignorePlants()||this.inLane.plantPool().forEach((function(t){t.eaterDetectable&&!t.short_&&n.judgeCrossRec(t.bodyRec)&&(i&&t.plantType!=A.vine&&t.plantType!=A.plant&&t.plantType!=A.lilyPad&&t.plantType!=A.pot||(!i||i&&!i.tall_)&&(i=t))})),null!=(e=i)&&e.tall_?this.rosen?this.unrise():(i.eat(this.dps*t,this),this.playEat(t)):i?this.rosen||this.rise():this.rosen?this.unrise():this.playWalk()}},l.dealDamage=function(t,e,n,i,o,l,a){void 0===t&&(t=0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===o&&(o=null),void 0===l&&(l=0),void 0===a&&(a=!0);var s=0,h=this.totalHealth();return l==u.fire&&(this.freeze=0,this.chill=0),this.balloonHealth>0&&e&&(t&&(this.hurting=10),this.balloonHealth-=t,this.balloonHealth<=0&&(s=-this.balloonHealth,!this.dead&&!this.fallingInSky&&h>t&&this.explode())),(this.balloonHealth<=0||!e)&&this.dealNormalDamage(t+s,e,n,i,o,l,a),this.health},l.specialSetBodyRec=function(){var t=null;t=this.balloonHealth>0?m.createRectangleCenter(new d(this.shadeSocket.worldPosition.x-10,this.node.worldPosition.y+this.bodyRecOffset.y),90,this.bodyRecSize.height):m.createRectangleCenter(new d(this.shadeSocket.worldPosition.x+this.bodyRecOffset.x,this.node.worldPosition.y+this.bodyRecOffset.y),this.bodyRecSize.width,this.bodyRecSize.height),this.bodyRec=t},l.specialOnLeapEnd=function(t){this.detectPlantOff=!1},l.detectPlantOn=function(){return!this.detectPlantOff&&!this.switching},l.specialZombieOnLanding=function(){this.zombieAshParticle_=this.zombieAshParticle,this.body.IdleAnm="Idle",this.body.EatAnm="Eat",this.body.WalkAnm="Walk",this.body.DeathAnm="Death"},l.specialZombieOnDisable=function(){this.zombieAshParticle_=this.balloonZombieAshParticle,this.body.DeathAnm=this.oldDeathAnm,this.body.EatAnm=this.oldEatAnm,this.body.IdleAnm=this.oldIdleAnm,this.body.WalkAnm=this.oldWalkAnm},l.specialAnimationListener=function(t){"walk"==t.name?(this.switching=!1,this.detectPlant(0)):"steady"==t.name?this.getComponent(r).playOneShot(y.getRandom(this.steadySound),p.SoundFXVolume):"bounce"==t.name&&this.getComponent(r).playOneShot(y.getRandom(this.bounceSound),p.SoundFXVolume)},l.rise=function(){this.rosen||(this.switching=!0,this.rosen=!0,this.walking=!1,this.body.playAnimation("Rise",1),this.body.WalkAnm="Walk_Fly_High")},l.unrise=function(){this.rosen&&(this.switching=!0,this.walking=!1,this.body.playAnimation("Unrise",1),this.body.WalkAnm="Walk_Fly",this.rosen=!1)},l.specialZombieOnEnable=function(){this.randomSpeed*=2,this.detectPlantOff=!1,this.balloonHealth=this.balloonToughness,this.zombieAshParticle_=this.balloonZombieAshParticle,this.rosen=!1,this.body.WalkAnm="Walk_Fly",this.walking=!1,this.playWalk()},l.specialZombieOnLoad=function(){this.oldDeathAnm=this.body.DeathAnm,this.oldEatAnm=this.body.EatAnm,this.oldIdleAnm=this.body.IdleAnm,this.oldWalkAnm=this.body.WalkAnm},l.playSpecialZombieDeath=function(){var t;"Death"==this.body.DeathAnm&&(null==(t=this.inLnC)?void 0:t.getTileType())==f.sky&&this.playFall()},l.playSpecialZombieDie=function(t){"Death_Fly"==this.body.DeathAnm&&this.judgeDeath(),this.currentFlyZombie&&this.playExplodeSound()},l.explode=function(){var t=this;this.balloonHealth=0,this.playExplodeSound(),this.detectPlantOff=!0,this.body.playAnimation("Land",1),this.setSpeed(0,!1),this.body.IdleAnm="Idle",this.body.DeathAnm="Death",this.body.EatAnm="Eat",this.body.WalkAnm="Walk",this.randomSpeed/=2,this.switching=!0,this.db.once(c.EventObject.COMPLETE,(function(e){t.dead||t.fallingInSky||(t.playWalk(),t.detectPlantOff=!1,t.switching=!1)}),this)},l.playExplodeSound=function(){this.explodeSound.length&&this.getComponent(r).playOneShot(y.getRandom(this.explodeSound),p.SoundFXVolume)},e}(b)).prototype,"balloonZombieAshParticle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(w.prototype,"balloonToughness",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 270}}),H=e(w.prototype,"explodeSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(w.prototype,"bounceSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(w.prototype,"steadySound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=w))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/ModernBobsledTeamZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Zombies.ts","./LnC.ts"],(function(e){var i,n,t,a,o,s,r,l,h,c,p,u,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Node,l=e.Vec2},function(e){h=e.zombieDamageType,c=e.Zombie},function(e){p=e.zombies,u=e.ZombieEnum},function(e){d=e.TileType}],execute:function(){var m,f,b,y,g;o._RF.push({},"2e6f3D4iVJG7pvFJrCFh9W6","ModernBobsledTeamZombie",void 0);var v=s.ccclass,T=s.property;e("BobsledZombieTeamZombie",(m=v("BobsledZombieTeamZombie"),f=T([r]),m((g=i((y=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,t(i,"spawnPoints",g,a(i)),i.innerToughness=190,i.innerHealth=190,i.spedUp=!1,i.haveInner=!0,i}n(i,e);var o=i.prototype;return o.dealDamage=function(e,i,n,t,a,o,s){if(void 0===e&&(e=0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===t&&(t=!0),void 0===a&&(a=null),void 0===o&&(o=h.physicle),void 0===s&&(s=!0),this.health<this.toughness/2){var r=this.body.body.armature();["front","mid","back","knifeL_here","wingR"].forEach((function(e){r.getSlot(e).displayIndex=1}))}return i||(this.innerHealth-=e,this.innerHealth<=0&&(this.playDie(!0),this.judgeDeath(),this.spawnTeam().forEach((function(e){e.dealDamage(e.toughness+100,!1,n,t,a,o,s)})))),this.dealNormalDamage(e,i,n,t,a,o,s)},o.ignorePlants=function(){return!0},o.specialZombieOnSquareChange=function(e,i){9==i.cIndex||this.spedUp||(this.randomSpeed*=2,this.spedUp=!0,this.body.playAnimation("Jump",1),this.body.WalkAnm="Walk"),i.iceTile||9==i.cIndex||i.getTileType()!=d.sea&&i.getTileType()!=d.sky&&this.playDie(!1,null,!0,h.physicle,!1,!1,!1)},o.spawnTeam=function(){var e=this;if(!this.haveInner)return[];this.haveInner=!1;var i=[];return this.spawnPoints.forEach((function(n){var t=p.getZombie(u.modern_bobSled);t.parent=e.inLane.zombieLayer;var a=t.getComponent(c);a.worldPosition=new l(n.worldPosition.x,e.inLane.floorY),a.copyBuff(e),i.push(a)})),i},o.playSpecialZombieDeath=function(){this.body.WalkAnm="WalkPush"},o.specialZombieOnEnable=function(){this.spedUp=!1,this.haveInner=!0;var e=this.body.body.armature();this.body.WalkAnm="WalkPush",this.walking=!1,this.playWalk(),this.innerHealth=this.innerToughness,["front","mid","back","knifeL_here","wingR"].forEach((function(i){e.getSlot(i).displayIndex=0}))},o.specialAnimationListener=function(e){var i=this;"spawnTeam"==e.name&&this.spawnTeam().forEach((function(e){e.dealDamage(e.toughness-i.innerHealth,!1,!1,!1,null,h.physicle,!1)}))},o.playSpecialZombieDie=function(e){this.judgeDeath()},i}(c)).prototype,"spawnPoints",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=y))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/ModernCatapultZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./CabbagePult.ts","./NodePools.ts","./Character.ts","./Square.ts"],(function(t){var e,o,i,a,n,l,s,r,u,b,d,c,h,p,y,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,s=t.Prefab,r=t.Node,u=t.AudioClip,b=t.Vec3},function(t){d=t.zombieDamageType,c=t.Zombie},function(t){h=t.cabbagePult},function(t){p=t.NodePools,y=t.ArrayGet},function(t){f=t.CharacterType},function(t){g=t.Square}],execute:function(){var m,P,v,S,w,x,C,L,I,k,j,R,D;n._RF.push({},"0ffd72fmV9B2LOjgYeSzq6+","ModernCatapultZombie",void 0);var z=l.ccclass,Z=l.property;t("CatapultZombie",(m=z("CatapultZombie"),P=Z(s),v=Z(r),S=Z([u]),w=Z(Number),x=Z(Number),m((I=e((L=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))||this).busy=240,i(e,"basketballPrj",I,a(e)),i(e,"baskeballSpawnPoint",k,a(e)),i(e,"lobSound",j,a(e)),i(e,"lobInterval",R,a(e)),i(e,"maxBallCount",D,a(e)),e.ballCount=20,e}o(e,t);var n=e.prototype;return n.playSpecialZombieDie=function(t){this.judgeDeath()},n.specialZombieOnEnable=function(){var t=this.body.body.armature();["shield","body","busket","busket_there","front","side","engine0"].forEach((function(e){t.getSlot(e).displayIndex=0})),this.busy=0,this.ballCount=this.maxBallCount,this.judgeBallCount()},n.detectPlant=function(t){var e=this;this.inLane&&this.inLane.plantPool().forEach((function(t){t.smasherDetectable&&e.bodyRec.judgeCrossRec(t.bodyRec)&&t.smash(e)}))},n.judgeBallCount=function(){var t=this.body.body.armature();switch(["ball1","ball2","ball3","ball4","ball5","ballReady"].forEach((function(e){t.getSlot(e).displayIndex=0})),this.ballCount){case 0:t.getSlot("ball5").displayIndex=t.getSlot("ballReady").displayIndex=-1;case 1:t.getSlot("ball4").displayIndex=-1;case 2:t.getSlot("ball2").displayIndex=-1;case 3:t.getSlot("ball3").displayIndex=-1;case 4:t.getSlot("ball1").displayIndex=-1}},n.specialAnimationListener=function(t){if("Lob"==t.name&&!this.dead){this.ballCount--,this.judgeBallCount();var e=null,o=this.inLane.plantPool();o.length&&o.forEach((function(t){e&&!(e.worldPosition.x>t.node.worldPosition.x)||t.short_||(e=t.node)})),(!e||e.worldPosition.x>this.node.worldPosition.x)&&(e=this.inLane.toLeft);var i=p.instantiatePooly(this.basketballPrj);e&&h.lobOneCabbageOnNode(i,new b(this.baskeballSpawnPoint.worldPosition.x,this.node.worldPosition.y,0),this.baskeballSpawnPoint.worldPosition.y-this.node.worldPosition.y,this.inLane.prjLayer,e,2,f.plant,!1),this.lobSound.length&&this.audioSource.playOneShot(y.getRandom(this.lobSound))}"toIdle"==t.name&&this.playIdle()},n.dealDamage=function(t,e,o,i,a,n,l){if(void 0===t&&(t=0),void 0===e&&(e=!0),void 0===o&&(o=!0),void 0===i&&(i=!0),void 0===a&&(a=null),void 0===n&&(n=d.physicle),void 0===l&&(l=!0),this.health<this.toughness/2){var s=this.body.body.armature();["shield","body","busket","busket_there","front","side","engine0"].forEach((function(t){s.getSlot(t).displayIndex=1}))}return this.dealNormalDamage(t,e,o,i,a,n,l)},n.playLob=function(){this.playIdle();var t=.03*Math.round(5*Math.random())*(this.lobInterval/4);this.busy=this.lobInterval+t,this.body.playAnimation("Lob",1)},n.detectLobPlant=function(){var t=this;if(this.inLane)if(this.node.worldPosition.x>g.getSquareWorldPosition(0,7).x)this.playWalk();else{var e=!1;this.inLane.plantPool().forEach((function(o){e||o.eaterDetectable&&!o.short_&&o.node.worldPosition.x<t.node.worldPosition.x&&!o.bodyRec.judgeCrossRec(t.bodyRec)&&(e=!0)})),e&&this.ballCount?this.playLob():this.playWalk()}},n.specialZombieUpdate=function(t){this.busy>0&&(this.busy-=t),this.busy<=0&&(this.busy=0,this.isAlive()&&this.detectLobPlant())},e}(c)).prototype,"basketballPrj",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(L.prototype,"baskeballSpawnPoint",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(L.prototype,"lobSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(L.prototype,"lobInterval",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),D=e(L.prototype,"maxBallCount",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),C=L))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/moldSquare.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./LnC.ts","./SoundRescourses.ts","./levelController.ts"],(function(e){var t,n,r,i,l,o,a,c,u,d,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.AudioClip},function(e){c=e.Character},function(e){u=e.TileType},function(e){d=e.sounds},function(e){s=e.LevelPlay}],execute:function(){var p,h,y,f,I;l._RF.push({},"1a2acZ+Dp5KYJ/BKSYxUCPZ","moldSquare",void 0);var m=o.ccclass,b=o.property;e("moldSquare",(p=m("moldSquare"),h=b(a),p((I=t((f=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))||this).currentIdleMode=0,t.IdleAnm="Idle",r(t,"celebrateSound",I,i(t)),t}n(t,e);var l=t.prototype;return l.characterOnTileTypeChange=function(e,t){t==u.sky||t==u.water||t==u.sea?this.IdleAnm="Idle_Floating":this.IdleAnm="Idle",this.playIdle()},l.characterOnEnable=function(){this.currentIdleMode=0},l.playIdle=function(){0!=this.currentIdleMode&&(this.db.playAnimation(this.IdleAnm,1/0),this.currentIdleMode=0)},l.playHide=function(){1!=this.currentIdleMode&&(this.db.playAnimation("Hide",1),this.currentIdleMode=1)},l.playCelecbrate=function(){var e;2!=this.currentIdleMode&&(this.db.playAnimation("Victory",1),this.currentIdleMode=2),d.play(this.celebrateSound,1,null==(e=this.celebrateSound)?void 0:e.getDuration())},l.update=function(e){s.component.gameWon&&this.playCelecbrate()},t}(c)).prototype,"celebrateSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/Moonflower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Sunflower.ts","./moonflowerSound.ts","./levelController.ts"],(function(n){var o,t,i,e,l,r,u,a,s,d,c,h;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){l=n.cclegacy,r=n._decorator,u=n.Node,a=n.dragonBones},function(n){s=n.Plant},function(n){d=n.sunflower},function(n){c=n.moonflowerSound},function(n){h=n.LevelPlay}],execute:function(){var p,f,y,m,P;l._RF.push({},"a5837CPhDZPG509d3lamA2k","Moonflower",void 0);var g=r.ccclass,v=r.property;n("MoonflowerPlant",(p=g("MoonflowerPlant"),f=v(u),p((P=o((m=function(n){function o(){for(var o,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return(o=n.call.apply(n,[this].concat(l))||this).sunValue=50,i(o,"sunSpawnpoint",P,e(o)),o.producing=!1,o.busy=0,o}t(o,n);var l=o.prototype;return l.playProduceAnimation=function(){this.getComponent(c).playSaySound(),this.producing=!0,this.busy=23.5+1.5*Math.random(),this.anmControl.playAnimation("Produce",1,.1)},l.judgeDarkPlantMode=function(){var n,o,t,i,e,l,r,u,a=0;if([null==(n=this.inLnC)||null==(n=n.upper)?void 0:n.lefter,null==(o=this.inLnC)?void 0:o.upper,null==(t=this.inLnC)||null==(t=t.upper)?void 0:t.righter,null==(i=this.inLnC)?void 0:i.lefter,this.inLnC,null==(e=this.inLnC)?void 0:e.righter,null==(l=this.inLnC)||null==(l=l.lower)?void 0:l.lefter,null==(r=this.inLnC)?void 0:r.lower,null==(u=this.inLnC)||null==(u=u.lower)?void 0:u.righter].forEach((function(n){a>=4||null==n||n.getAllPlants().forEach((function(n){a>=4||null!=n&&n.haveDarkMode&&a++}))})),this.sunValue=25*a,a>=4&&!this.darkModeOn){var s,d=null==(s=this.anmControl.body)?void 0:s.armature();d&&(this.darkModeOn=!0,null==d||d.getSlots().forEach((function(n){n.name.includes("_DARK")&&(n.displayIndex=1)})))}if(a<4&&this.darkModeOn){var c,h=null==(c=this.anmControl.body)?void 0:c.armature();h&&(this.darkModeOn=!1,null==h||h.getSlots().forEach((function(n){n.name.includes("_DARK")&&(n.displayIndex=0)})))}},l.specialPlantFood=function(){this.producing=!1,this.busy=1/0,this.getComponent(c).playFoodSound(),this.anmControl.playAnimation("Food",1),this.anmControl.body.once(a.EventObject.COMPLETE,this.foodEnd,this)},l.waterable=function(){return!this.producing},l.specialPlantFoodEnd=function(){this.producing=!1,this.busy=23.5+1.5*Math.random(),this.anmControl.playRandom()},l.specialPlantOnDisable=function(){},l._produce=function(){this.producing=!1,d.produceSun(this.sunValue,this.node.worldPosition,this.sunSpawnpoint.getWorldPosition().y-this.node.getWorldPosition().y)},l.animationListener=function(n){"Produce"==n.name?this._produce():"foodEnd"==n.name?this.foodEnd():"produceSound"==n.name&&this.getComponent(c).playProduceSound()},l.specialPlantOnEnable=function(){this.producing=!1,this.busy=5+5*Math.random()},l.specialPlantUpdateForce=function(n){var o;null==(o=this.inLnC)||o.get3x3().forEach((function(o){null==o||o.setShadowBuff(20*n)}))},l.specialPlantUpdate=function(n){h.component.ExcludeListSunProducers||(this.busy>0&&(this.busy-=n),this.busy<=0&&this.playProduceAnimation())},o}(s)).prototype,"sunSpawnpoint",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/moonflowerSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundsController.ts"],(function(o){var n,e,t,r,u,i,a,l,d,c,p;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){u=o.cclegacy,i=o._decorator,a=o.AudioClip,l=o.AudioSource,d=o.Component},function(o){c=o.ArrayGet},function(o){p=o.SoundFXController}],execute:function(){var s,f,S,y,h,m,g,b,C;u._RF.push({},"3e93cdhhfhOfaxc/8vWXBRg","moonflowerSound",void 0);var v=i.ccclass,w=i.property;o("moonflowerSound",(s=v("moonflowerSound"),f=w([a]),S=w([a]),y=w([a]),s((g=n((m=function(o){function n(){for(var n,e=arguments.length,u=new Array(e),i=0;i<e;i++)u[i]=arguments[i];return n=o.call.apply(o,[this].concat(u))||this,t(n,"foodSound",g,r(n)),t(n,"produceSound",b,r(n)),t(n,"saySound",C,r(n)),n}e(n,o);var u=n.prototype;return u.onEnable=function(){this.getComponent(l)||this.addComponent(l)},u.playFoodSound=function(){this.getComponent(l).playOneShot(c.getRandom(this.foodSound),p.SoundFXVolume)},u.playProduceSound=function(){this.getComponent(l).playOneShot(c.getRandom(this.produceSound),p.SoundFXVolume)},u.playSaySound=function(){this.getComponent(l).playOneShot(c.getRandom(this.saySound),p.SoundFXVolume)},n}(d)).prototype,"foodSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=n(m.prototype,"produceSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(m.prototype,"saySound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=m))||h));u._RF.pop()}}}));

System.register("chunks:///_virtual/Mouse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./CharacterManager.ts"],(function(e){var n,o,t,i,s,r,u,c,l,a,p,h,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,u=e.Node,c=e.Vec2,l=e.Vec3,a=e.EventMouse,p=e.Component},function(e){h=e.LevelPlay},function(e){f=e.LineSegment}],execute:function(){var d,v,M,y,T,L;s._RF.push({},"d46dfCpSdtH1LPKAG1TjdAv","Mouse",void 0);var g=r.ccclass,w=r.property;e("Mouse",(d=g("Mouse"),v=w({type:u}),d(((L=function(e){function n(){for(var n,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=e.call.apply(e,[this].concat(s))||this,t(n,"mouse",T,i(n)),n}o(n,e);var s=n.prototype;return s.onLoad=function(){this.node.on(u.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(u.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(u.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(u.EventType.MOUSE_UP,(function(e){n.followingCart=null}),this)},s.onMouseMove=function(e){var o=e.getUILocationX(),t=e.getUILocationY(),i=this.mouse.worldPosition.clone(),s=new l(o,t,0).add(h.component.uiPos),r=new c(s.x-i.x,s.y-i.y);n.moveLine=f.createLineLenDir(new c(i.x,i.y),r.length(),r),this.mouse.worldPosition=s,n.position=new c(s.x,s.y)},s.onMouseDown=function(e){e.getButton()==a.BUTTON_LEFT||(e.getButton(),a.BUTTON_RIGHT)},s.onMouseUp=function(e){e.getButton()==a.BUTTON_LEFT||(e.getButton(),a.BUTTON_RIGHT)},s.update=function(e){},n}(p)).moveLine=f.createLineLenDir(new c,0),L.position=new c,L.mouseInL=-2,L.followingCart=null,T=n((y=L).prototype,"mouse",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=y))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/MouseBlocker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,s,n,i;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,s=o._decorator,n=o.Node,i=o.Component}],execute:function(){var h;t._RF.push({},"6759f/q5pdJKKx/AsJy9qhk","MouseBlocker",void 0);var c=s.ccclass;s.property,o("MouseBlocker",c("MouseBlocker")(h=function(o){function t(){return o.apply(this,arguments)||this}e(t,o);var s=t.prototype;return s.blockMouse=function(){},s.onLoad=function(){this.node.on(n.EventType.MOUSE_DOWN,this.blockMouse,this),this.node.on(n.EventType.MOUSE_UP,this.blockMouse,this),this.node.on(n.EventType.MOUSE_MOVE,this.blockMouse,this),this.node.on(n.EventType.MOUSE_LEAVE,this.blockMouse,this),this.node.on(n.EventType.MOUSE_ENTER,this.blockMouse,this),this.node.on(n.EventType.MOUSE_WHEEL,this.blockMouse,this),this.node.on(n.EventType.TOUCH_START,this.blockMouse,this),this.node.on(n.EventType.TOUCH_END,this.blockMouse,this),this.node.on(n.EventType.TOUCH_MOVE,this.blockMouse,this),this.node.on(n.EventType.TOUCH_CANCEL,this.blockMouse,this)},t}(i))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/NodePools.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,e,t,r;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy,t=n.NodePool,r=n.instantiate}],execute:function(){n({destroyNodeArrayPooly:function(n){a.destroyNodeArrayPooly(n)},destroyPooly:function(n){a.destroyPooly(n)},instantiatePooly:function(n){return a.instantiatePooly(n)}}),e._RF.push({},"31320HlOCRDn6eRO4jkrUAQ","NodePools",void 0);n("ArrayGet",function(){function n(){}return n.getRandom=function(n){return n[Math.floor(Math.random()*n.length)]},n}());var i=n("NodePoolExtend",function(n){function e(){for(var o,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(o=n.call.apply(n,[this].concat(t))||this).name="",o}return o(e,n),e}(t)),a=n("NodePools",function(){function n(){}return n.Instance=function(){return n.instance||(n.instance=new n),n.instance},n.clonePooly=function(o){for(var e=null,t=n.nodePools,i=0;i<t.length;i++)if(t[i].size()>0&&t[i].name==o.name&&(e=t[i].get()))return e;return e=r(o)},n.instantiatePooly=function(o){for(var e=null,t=n.nodePools,i=0;i<t.length;i++)if(t[i].size()>0&&t[i].name==o.name&&(e=t[i].get()))return e;return e=r(o)},n.destroyPooly=function(o){if(null!=o&&0!=(null==o?void 0:o.isValid)){for(var e=n.nodePools,t=0;t<e.length;t++)if(e[t].name==o.name)return e[t].put(o),void(e[t].size()>100&&e[t].clear());for(var r=0;r<e.length;r++)if(0==e[r].size())return e[r].name=o.name,void e[r].put(o);var a=new i;a.name=o.name,a.put(o),e.push(a)}},n.destroyNodeArrayPooly=function(n){var o=this;n.concat().forEach((function(n){o.destroyPooly(n)}))},n.clearAll=function(){this.nodePools.forEach((function(n){n.clear()})),this.nodePools=[]},n}());a.instance=void 0,a.nodePools=[],e._RF.pop()}}}));

System.register("chunks:///_virtual/Particles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FrontYard.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts"],(function(e){var t,r,i,n,l,a,o,u,p,c,s,f,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Prefab,u=e.Vec3,p=e.Component},function(e){c=e.FrontYard},function(e){s=e.NodePools},function(e){f=e.Square},function(e){b=e.sounds}],execute:function(){var w,m,h,g,z,S,y,d,R,P,v,L,x,B,W,k,F,J,C,E,T,D,j,I,q,H,N,_,A,Y,G,M,V,Z,K,O,Q,U,X,$,ee,te,re,ie,ne,le,ae,oe,ue,pe,ce,se,fe,be,we,me,he,ge,ze,Se,ye,de,Re,Pe,ve,Le,xe,Be,We,ke,Fe;l._RF.push({},"231e0c3RANLja/9snTaiZpJ","Particles",void 0);var Je=a.ccclass,Ce=a.property,Ee=e("particle",function(){function e(){}return e.foodLight=function(){return this.particleRes.foodLight},e.peaBuff=function(){return this.particleRes.peaBuff},e.darkBuff=function(){return this.particleRes.darkBuff},e.prjPeaBuff=function(){return this.particleRes.prjPeaBuff},e.deadPlant=function(){return this.particleRes.deadPlant},e.plantHeat=function(){return this.particleRes.plantHeat},e.plantBurnt=function(){return this.particleRes.plantBurnt},e.zombieWaterWave=function(){return this.particleRes.zombieWaterWave},e.plantWaterWave=function(){return this.particleRes.plantWaterWave},e.zombieIceTrap=function(){return this.particleRes.zombieIceTrap},e.seaSplash=function(){return this.particleRes.seaSplash},e.spawnSeaSplash=function(e,t){var r;b.playSeaSplash();var i=s.instantiatePooly(this.seaSplash());i.parent=null==(r=c.currentLawn)||null==(r=r.node)?void 0:r.getChildByName("Lane"+e.toString());var n=t.y-20,l=f.getSquareWorldPosition(0,5).x,a=f.getSquareWorldPosition(0,8,.25).x,o=t.x;o=(o=o<l?l:o)>a?a:o,i.worldPosition=new u(o,n,0)},e.waterSplash=function(){return this.particleRes.waterSplash},e.spawnWaterSplash=function(e,t){b.playWaterSplash();var r=s.instantiatePooly(this.waterSplash());r.parent=f.getLaneComponent(e).node,r.scale=new u(.3,.3,.3),r.setSiblingIndex(0),r.worldPosition=new u(t.x,t.y)},e.spudow=function(){return this.particleRes.spudowExplosion},e.spudowPrimal=function(){return this.particleRes.spudowExplosionPrimal},e.explosion=function(e){return void 0===e&&(e=!0),e?this.particleRes.cherryExplosion:this.particleRes.explosion},e.explosionRear=function(){return this.particleRes.explosionRear},e.plantDirts=function(){return this.particleRes.plantDirts},e.graveSpawn=function(){return this.particleRes.graveSpawn},e.dirtSpawn=function(){return this.particleRes.dirtSpawn},e.PFLightning=function(){return this.particleRes.PFLightning},e.sandStorm=function(){return this.particleRes.SandStorm},e.snowStorm=function(){return this.particleRes.SnowStorm},e.zombieFart=function(){return this.particleRes.zombieFart},e.zombieChiliBeanStun=function(){return this.particleRes.zombieChiliBeanStun},e.zombiePerfumeSlow=function(){return this.particleRes.zombiePerfumeSlow},e.prizeSpawn=function(){return this.particleRes.prizeSpawn},e.prizeCollectLight=function(){return this.particleRes.prizeCollectLight},e}());Ee.particleRes=void 0;e("tileLiquids",function(){function e(){}return e.cranJellyJuice=function(){return Ee.particleRes.cranJellyJuice},e.butterJuice=function(){return Ee.particleRes.butterJuice},e.softLava=function(){return Ee.particleRes.softLava},e.brokenTile=function(){return Ee.particleRes.crackle},e.brokenTileSparkles=function(){return Ee.particleRes.crackleSparkles},e}()),e("groundFireParticles",function(){function e(){}return e.getParticleByGFEnum=function(e){return Ee.particleRes.yellowFire},e}()),e("Particles",(w=Je("Particles"),m=Ce(o),h=Ce(o),g=Ce(o),z=Ce(o),S=Ce(o),y=Ce(o),d=Ce(o),R=Ce(o),P=Ce(o),v=Ce(o),L=Ce(o),x=Ce(o),B=Ce(o),W=Ce(o),k=Ce(o),F=Ce(o),J=Ce(o),C=Ce(o),E=Ce(o),T=Ce(o),D=Ce(o),j=Ce(o),I=Ce(o),q=Ce(o),H=Ce(o),N=Ce(o),_=Ce(o),A=Ce(o),Y=Ce(o),G=Ce(o),M=Ce(o),V=Ce(o),Z=Ce(o),K=Ce(o),w((U=t((Q=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,i(t,"butterJuice",U,n(t)),i(t,"cranJellyJuice",X,n(t)),i(t,"softLava",$,n(t)),i(t,"crackle",ee,n(t)),i(t,"crackleSparkles",te,n(t)),i(t,"peaBuff",re,n(t)),i(t,"darkBuff",ie,n(t)),i(t,"foodLight",ne,n(t)),i(t,"prjPeaBuff",le,n(t)),i(t,"deadPlant",ae,n(t)),i(t,"plantHeat",oe,n(t)),i(t,"plantBurnt",ue,n(t)),i(t,"seaSplash",pe,n(t)),i(t,"spudowExplosion",ce,n(t)),i(t,"spudowExplosionPrimal",se,n(t)),i(t,"explosion",fe,n(t)),i(t,"explosionRear",be,n(t)),i(t,"cherryExplosion",we,n(t)),i(t,"zombieIceTrap",me,n(t)),i(t,"waterSplash",he,n(t)),i(t,"zombieWaterWave",ge,n(t)),i(t,"plantWaterWave",ze,n(t)),i(t,"plantDirts",Se,n(t)),i(t,"graveSpawn",ye,n(t)),i(t,"dirtSpawn",de,n(t)),i(t,"yellowFire",Re,n(t)),i(t,"PFLightning",Pe,n(t)),i(t,"SandStorm",ve,n(t)),i(t,"SnowStorm",Le,n(t)),i(t,"zombieFart",xe,n(t)),i(t,"zombieChiliBeanStun",Be,n(t)),i(t,"zombiePerfumeSlow",We,n(t)),i(t,"prizeSpawn",ke,n(t)),i(t,"prizeCollectLight",Fe,n(t)),t}return r(t,e),t.prototype.onLoad=function(){Ee.particleRes=this},t}(p)).prototype,"butterJuice",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(Q.prototype,"cranJellyJuice",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Q.prototype,"softLava",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Q.prototype,"crackle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Q.prototype,"crackleSparkles",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(Q.prototype,"peaBuff",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Q.prototype,"darkBuff",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Q.prototype,"foodLight",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Q.prototype,"prjPeaBuff",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Q.prototype,"deadPlant",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Q.prototype,"plantHeat",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(Q.prototype,"plantBurnt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(Q.prototype,"seaSplash",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(Q.prototype,"spudowExplosion",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Q.prototype,"spudowExplosionPrimal",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(Q.prototype,"explosion",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(Q.prototype,"explosionRear",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(Q.prototype,"cherryExplosion",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(Q.prototype,"zombieIceTrap",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(Q.prototype,"waterSplash",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(Q.prototype,"zombieWaterWave",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(Q.prototype,"plantWaterWave",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(Q.prototype,"plantDirts",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(Q.prototype,"graveSpawn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(Q.prototype,"dirtSpawn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(Q.prototype,"yellowFire",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(Q.prototype,"PFLightning",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(Q.prototype,"SandStorm",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=t(Q.prototype,"SnowStorm",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=t(Q.prototype,"zombieFart",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=t(Q.prototype,"zombieChiliBeanStun",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=t(Q.prototype,"zombiePerfumeSlow",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=t(Q.prototype,"prizeSpawn",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=t(Q.prototype,"prizeCollectLight",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=Q))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleSelfdestroy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts"],(function(e){var t,n,o,i,s,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.dragonBones,s=e.Component},function(e){r=e.NodePools}],execute:function(){var c;n._RF.push({},"4c2fccq7FZO2IEkVgOAvEZ1","ParticleSelfdestroy",void 0);var a=o.ccclass;o.property,e("ParticleSelfdestroy",a("ParticleSelfdestroy")(c=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).db=void 0,t}t(n,e);var o=n.prototype;return o.selfDestroy=function(e){"die"==e.name&&r.destroyPooly(this.node),this.animationListener(e)},o.animationListener=function(e){},o.specialOnLoad=function(){},o.onLoad=function(){this.db=this.getComponent(i.ArmatureDisplay),this.db.enableBatch=!0,this.db.addEventListener(i.EventObject.FRAME_EVENT,this.selfDestroy,this),this.specialOnLoad()},o.specialOnEnable=function(){},o.onEnable=function(){this.specialOnEnable()},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Pause.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./UI.ts","./NodePools.ts"],(function(e){var o,t,i,s,n,r,l,u,c,d,a,p,h,m,S,f,g,M;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,l=e.Slider,u=e.Tween,c=e.director,d=e.Vec3,a=e.Node,p=e.Button,h=e.ProgressBar,m=e.Component},function(e){S=e.MusicController,f=e.SoundFXController},function(e){g=e.UIInGame},function(e){M=e.NodePools}],execute:function(){var y,B,C,E,b,k,N;n._RF.push({},"9d461LCOI9JqbcKNG6Qt3N2","Pause",void 0);var v=r.ccclass,x=r.property;e("PauseScreen",(y=v("PauseScreen"),B=x(l),C=x(l),y((k=o((b=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o=e.call.apply(e,[this].concat(n))||this,i(o,"musicSlider",k,s(o)),i(o,"sfxSlider",N,s(o)),o}t(o,e);var n=o.prototype;return n.blockMouse=function(){},n.exit=function(){g.exit()},n.restart=function(){o.restart()},o.restart=function(){g.uiingame.oldTickReturn(),u.stopAll(),M.clearAll(),c.loadScene("inGameScene",(function(){c.isPaused()&&c.resume(),u.stopAll()})),u.stopAll()},n.resume=function(){var e;null==g||null==(e=g.uiingame)||e.pauseMenu()},n.start=function(){this.node.getChildByName("MainBody").position=new d(0,1e3,0),this.node.getChildByName("MouseBlocker").on(a.EventType.MOUSE_DOWN,this.blockMouse,this),this.node.getChildByName("MouseBlocker").on(a.EventType.MOUSE_ENTER,this.blockMouse,this),this.node.getChildByName("MouseBlocker").on(a.EventType.MOUSE_LEAVE,this.blockMouse,this),this.node.getChildByName("MouseBlocker").on(a.EventType.MOUSE_MOVE,this.blockMouse,this),this.node.getChildByName("MouseBlocker").on(a.EventType.MOUSE_UP,this.blockMouse,this),this.node.getChildByName("MouseBlocker").addComponent(p),this.musicSlider.progress=S.MusicVolume,this.sfxSlider.progress=f.SoundFXVolume},n.musicSlide=function(){S.setMusicVolume(this.musicSlider.progress),this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.musicSlider.getComponent(h).progress=S.MusicVolume},n.sfxSlide=function(){f.setSoundFxVolume(this.sfxSlider.progress),this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.sfxSlider.getComponent(h).progress=f.SoundFXVolume},n.update=function(e){this.musicSlider.getComponent(h).progress=S.MusicVolume,this.sfxSlider.getComponent(h).progress=f.SoundFXVolume},o}(m)).prototype,"musicSlider",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=o(b.prototype,"sfxSlider",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=b))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/PeaPod.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./peaShooterSound.ts","./UI.ts","./LevelTaskCount.ts","./CharacterManager.ts"],(function(t){var o,n,e,a,i,h,s,l,r,u,d,p,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){h=t.cclegacy,s=t._decorator,l=t.Prefab},function(t){r=t.PeashooterPlant},function(t){u=t.peaShooterSound},function(t){d=t.UIInGame},function(t){p=t.LevelTaskCountModeEnum},function(t){c=t.PlantPool}],execute:function(){var m,C,S,f,g;h._RF.push({},"14255L3cwtLGojVLkpzxzcd","PeaPod",void 0);var P=s.ccclass,y=s.property;t("PeaPodPlant",(m=P("PeaPodPlant"),C=y(l),m((g=o((f=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),h=0;h<n;h++)i[h]=arguments[h];return o=t.call.apply(t,[this].concat(i))||this,e(o,"peaMega",g,a(o)),o.headSlots=[],o.headBones=[],o._haveHeadCount=1,o}n(o,t);var h=o.prototype;return h.animationListener=function(t){"Shoot0"==t.name?this.headCount>0&&(this._shoot(),this.getComponent(u).playShootSound()):"Shoot1"==t.name?this.headCount>1&&(this._shoot(),this.getComponent(u).playShootSound()):"Shoot2"==t.name?this.headCount>2&&(this._shoot(),this.getComponent(u).playShootSound()):"Shoot3"==t.name?this.headCount>3&&(this._shoot(),this.getComponent(u).playShootSound()):"Shoot4"==t.name?this.headCount>4&&(this._shoot(),this.getComponent(u).playShootSound()):"ShootMega"==t.name?(this._shoot(!1,!1,this.peaMega),this.getComponent(u).playShootMegaPeapod()):"toFoodShoot"==t.name?(this.anmControl.playAnimation("FoodShoot",5),this.anmControl.IdleAnim="FoodEnd",this.anmControl.RandomAnim=[]):"foodEnd"==t.name?(this.foodEnd(),this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=[]):"foodEndSound"==t.name&&this.getComponent(u).playFoodEnd()},h.specialPlantOnEnable=function(){var t=this;this.initialize();var o=this.anmControl.body.armature();this.headSlots=[],[0,1,2,3,4].forEach((function(n){t.headSlots.push(o.getSlot("HEAD"+n.toString())),t.headBones.push(o.getBone("HEAD"+n.toString()))})),this.headCount=1},h.specialPlantFood=function(t){this.anmControl.playAnimation("FoodStart",2),this.getComponent(u).playFood()},h.specialPlantFoodEnd=function(){this.busy=0},h.plantCount=function(){return this.headCount},h.replantable=function(){var t,o=null==d||null==(t=d.uiingame)||null==(t=t.getLevelTaskStartingObject(p.PlantCountLimit))?void 0:t.MaximumPlants;return this.headCount<5&&(isNaN(o)||c.getPlantAmount()<o)},h.replant=function(){this.headCount++},h.specialPeashooterUpdate=function(t){},i(o,[{key:"headCount",get:function(){return this._haveHeadCount},set:function(t){var o;t>5&&(t=5),t<1&&(t=1),this.headSlots.forEach((function(o,n){var e=-1;n<t&&(e=0),o.displayIndex=e})),this._haveHeadCount=t,this.health=this.toughness,null==(o=this.inLnC)||o.readIndex()}}]),o}(r)).prototype,"peaMega",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=f))||S));h._RF.pop()}}}));

System.register("chunks:///_virtual/Peashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Character.ts","./ProjectileManager.ts","./CharacterManager.ts","./NodePools.ts","./commonShot.ts","./peaShooterSound.ts","./Square.ts","./Plants.ts"],(function(t){var o,n,e,i,a,r,s,h,u,l,c,d,f,p,g,m,P,y,b,S,v;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,h=t.Prefab,u=t.Node,l=t.Vec2,c=t.Vec3,d=t.tween},function(t){f=t.Plant},function(t){p=t.CharacterType},function(t){g=t.projectile},function(t){m=t.Rectangle},function(t){P=t.NodePools},function(t){y=t.commonShot},function(t){b=t.peaShooterSound},function(t){S=t.Square},function(t){v=t.PlantEnum}],execute:function(){var C,w,L,M,z,I,_,x,F,R,D,j,E;r._RF.push({},"f5589tQxwBJ46m8vhGguza6","Peashooter",void 0);var G=s.ccclass,A=s.property,N=t("peaShooter",function(){function t(){}return t.shootOnePea=function(t,o,n,e,i,a){t.parent=e;var r=t.getComponent(y);return r.height=n,r.worldPosition=new l(o.x,o.y),r.linearVelocity=i,r.bodyLinearVelocity=0,r.gravity=0,g.registerProjectile(t,a),r},t}());t("PeashooterPlant",(C=G("PeashooterPlant"),w=A({type:Number,min:0}),L=A(h),M=A({type:Number,max:100,min:0}),z=A(Number),I=A(u),C((F=o((x=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=t.call.apply(t,[this].concat(a))||this).minShootInterval=1.1,e(o,"foodPeaMaxCount",F,i(o)),o._foodLeftPeaCount=0,o.upgraded=!1,e(o,"pea",R,i(o)),e(o,"gatlingFoodRate",D,i(o)),o.detector=null,o.projectileSpeed=1,e(o,"shootInterval",j,i(o)),e(o,"peaSpawnpoint",E,i(o)),o.busy=0,o.shooting=!1,o}n(o,t);var r=o.prototype;return r.onFoodLeftPeaCountDec=function(){this._shoot(!0,!0)},r.isGatling=function(){return this.ID==v.MegaGatlingPea||this.ID==v.GatlingPea},r._shoot=function(t,o,n,e,i,a){void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===n&&(n=this.defaultPea),void 0===e&&(e=15),void 0===i&&(i=new l(1,0)),void 0===a&&(a=this.peaSpawnpoint),a||(a=this.peaSpawnpoint);var r=P.instantiatePooly(n);if(r){var s=0;t&&(s=Math.pow(-1,Math.round(Math.random()))*Math.round(3*Math.random())*5);var h=0;o&&(h=Math.round(5*Math.random()));var u=N.shootOnePea(r,new c(a.worldPosition.x,this.inLnC.plantPoint.worldPosition.y,0),Math.max(1,a.worldPosition.y-this.inLnC.plantPoint.worldPosition.y+s),this.inLane.node,i.normalize().multiplyScalar((e+h)*(o?1:this.projectileSpeed)),p.zombie).getComponent(y);return this.shotInitialize(u),this.inLnC.havePeaBuff&&u.addPeaBuff(),u}},r.shotInitialize=function(t){},r.upgrade=function(){this.upgraded||(this.upgraded=!0,this.anmControl.body.armature().getSlot("helmet").displayIndex=1,this.anmControl.body.armature().getSlot("gunTube").displayIndex=1)},r.specialPlantFoodEnd=function(){this.anmControl.playRandom(),this.busy=0,this.getComponent(b).playFoodEnd()},r.foodShooting=function(){var t=this;this._foodLeftPeaCount=this.foodPeaMaxCount;d(this).to(2,{foodLeftPeaCount:0}).call((function(){t.foodEnd()})).start()},r.specialPlantFood=function(t){this.isGatling()&&this.upgrade(),this.anmControl.playAnimation("Food",1/0),this.getComponent(b).playFood(),this.busy=1/0,this.foodShooting()},r.waterable=function(){return!this.shooting},r._shootPeaAnimation=function(){var t=Math.random();this.isGatling()&&t<=this.gatlingFoodRate/100?this.food():this.anmControl.playAnimation("Shoot",1,.1,Math.max(this.minShootInterval/this.shootInterval,1))},r.animationListenerAdd=function(t){},r.animationListener=function(t){"Shoot"==t.name||this.upgraded&&"Shoot5"==t.name?this._shoot():"ShootSound"==t.name&&(this.upgraded?this.getComponent(b).playShoot5Sound(this.isGatling()?.3:1):this.getComponent(b).playShootSound(this.isGatling()?.3:1)),this.animationListenerAdd(t)},r.setDetecter=function(t,o){this.detector=m.createRectangleNodeSide(o.node,S.SquareDisW*(9-o.cIndex),S.SquareDisH)},r.initialize=function(){this.upgraded=!1,this.busy=0,this.projectileSpeed=this.isGatling()?1.7:1},r.animationOnComplete=function(){this.shooting=!1},r.specialPlantOnSquareChange=function(t,o){this.setDetecter(t,o)},r.specialPlantOnEnable=function(){this.initialize(),this.specialPeashooterOnEnable()},r.startShooting=function(){this.shooting=!0;var t=.15*Math.random()*(this.shootInterval/1.35);this.busy=60*(this.shootInterval+t),this._shootPeaAnimation()},r.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRec))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.detector.judgeCrossRec(n[e].bodyRec))return!0;return!1},r.specialPeashooterOnEnable=function(){},r.specialPeashooterUpdate=function(t){},r.specialPlantUpdate=function(t){this.busy>0&&(this.busy-=60*t),this.busy<=0&&!this.dead&&!this.fooding&&(this.busy=0,this.detectEnemy()&&this.startShooting()),this.specialPeashooterUpdate(t)},a(o,[{key:"foodLeftPeaCount",get:function(){return this._foodLeftPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftPeaCount)-Math.floor(t),n=0;n<o;n++)this.onFoodLeftPeaCountDec();this._foodLeftPeaCount=t}},{key:"defaultPea",get:function(){return this.pea}}]),o}(f)).prototype,"foodPeaMaxCount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),R=o(x.prototype,"pea",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=o(x.prototype,"gatlingFoodRate",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),j=o(x.prototype,"shootInterval",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.35}}),E=o(x.prototype,"peaSpawnpoint",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=x))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/peaShooterSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./plantSound.ts","./SoundRescourses.ts"],(function(o){var e,t,n,i,u,r,a,l,s,d;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){u=o.cclegacy,r=o._decorator,a=o.AudioClip},function(o){l=o.ArrayGet},function(o){s=o.plantSound},function(o){d=o.sounds}],execute:function(){var p,c,h,S,f,y,g,b,m,v,z,M,w,F,O,A,E;u._RF.push({},"0ed2aNs1hBHHqmFsJqg442o","peaShooterSound",void 0);var P=r.ccclass,R=r.property;o("peaShooterSound",(p=P("peaShooterSound"),c=R(a),h=R(a),S=R([a]),f=R(a),y=R(a),g=R(a),b=R([a]),p((z=e((v=function(o){function e(){for(var e,t=arguments.length,u=new Array(t),r=0;r<t;r++)u[r]=arguments[r];return e=o.call.apply(o,[this].concat(u))||this,n(e,"foodSound",z,i(e)),n(e,"foodEndSound",M,i(e)),n(e,"shootSound",w,i(e)),n(e,"shoot5Sound",F,i(e)),n(e,"shootMegaSound",O,i(e)),e.volumeScale=1,n(e,"upgradeSound",A,i(e)),n(e,"shootMegaSounds",E,i(e)),e}t(e,o);var u=e.prototype;return u.playUpgrade=function(){this.playOneShot(this.upgradeSound,this.volumeScale)},u.playFood=function(){this.playOneShot(this.foodSound,this.volumeScale)},u.playFoodEnd=function(){this.playOneShot(this.foodEndSound,this.volumeScale)},u.playShootSound=function(o){void 0===o&&(o=1),d.play(l.getRandom(this.shootSound),o*this.volumeScale,.1)},u.playShoot5Sound=function(o){void 0===o&&(o=1),d.play(this.shoot5Sound,this.volumeScale*o)},u.playShootMega=function(){this.playOneShot(this.shootMegaSound,this.volumeScale)},u.playShootMegaPeapod=function(){this.playOneShotFromArray(this.shootMegaSounds,this.volumeScale)},e}(s)).prototype,"foodSound",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(v.prototype,"foodEndSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(v.prototype,"shootSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=e(v.prototype,"shoot5Sound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(v.prototype,"shootMegaSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(v.prototype,"upgradeSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(v.prototype,"shootMegaSounds",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=v))||m));u._RF.pop()}}}));

System.register("chunks:///_virtual/PeaVine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts"],(function(e){var t,n,a,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator},function(e){i=e.PeashooterPlant}],execute:function(){var r;n._RF.push({},"791bdit6+hBd5l2f2ZtvXkZ","PeaVine",void 0);var o=a.ccclass;a.property,e("PeaVinePlant",o("PeaVinePlant")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.specialPlantOnSquareChange=function(e,t){this.setDetecter(e,t),e.addBuff("peaBuff",!1),t.addBuff("peaBuff")},a.specialPlantDie=function(){this.inLnC.addBuff("peaBuff",!1)},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/PirateBarrelPusherZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./PirateBarrelZombie.ts","./Zombies.ts"],(function(e){var r,t,i,l,n,a,o,s,u,b,c,h,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,u=e.Vec2},function(e){b=e.Zombie},function(e){c=e.PirateBarrelZombie},function(e){h=e.zombies,d=e.ZombieEnum}],execute:function(){var p,m,f,y,P;a._RF.push({},"62094xn7ndNQrsIS13oRF/l","PirateBarrelPusherZombie",void 0);var S=o.ccclass,Z=o.property;e("PirateBarrelPusherZombie",(p=S("PirateBarrelPusherZombie"),m=Z(s),p((P=r((y=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"barrelSlot",P,l(r)),r._barrel=null,r}t(r,e);var a=r.prototype;return a.specialZombieOnEnable=function(){this.barrel=null},a.onKnockBackStart=function(){this.barrel&&(this.barrel.pusher=null)},a.playSpecialZombieDieForced=function(){this.barrel&&(this.barrel.pusher=null)},a.shouldSpeedScale=function(){var e=1;return this.barrel&&this.barrel.freeze>0&&(e=.5),e*this.defaultShouldSpeedScale()},a.additionalZombies=function(){var e=h.getZombie(d.pirate_barrel),r=e.getComponent(c);return e.parent=this.node.parent,e.setSiblingIndex(this.node.getSiblingIndex()),r&&(this.barrel=r),r?[r]:[]},n(r,[{key:"barrel",get:function(){return this._barrel},set:function(e){this.barrel!=e&&(e?(e.worldPosition=new u(this.barrelSlot.worldPosition.x,this._worldPositionY),e.pusher=this,this.body.IdleAnm="Idle_Barrel",this.body.WalkAnm="Walk_Barrel",this.body.EatAnm="Eat_Barrel"):(this.body.IdleAnm="Idle",this.body.WalkAnm="Walk",this.body.EatAnm="Eat"),this._barrel=e,(this.isAlive()||this.displayed)&&this.replayAnimation())}}]),r}(b)).prototype,"barrelSlot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/PirateBarrelZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./GargantuarZombie.ts","./Zombies.ts"],(function(e){var t,i,n,s,o,r,a,h,l;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,s=e._decorator,o=e.Vec2},function(e){r=e.zombieDamageType,a=e.Zombie},function(e){h=e.gargantuar},function(e){l=e.ZombieEnum}],execute:function(){var u;n._RF.push({},"3127dv2H/FEnYvJqUlnoqYE","PirateBarrelZombie",void 0);var c=s.ccclass;s.property,e("PirateBarrelZombie",c("PirateBarrelZombie")(u=function(e){function n(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).faceSlot=void 0,t._pusher=null,t.lifeSpan=10,t.deathCD=10,t}t(n,e);var s=n.prototype;return s.playSpecialZombieDie=function(e){this.judgeDeath(0),[h.throwOneImpByLnC(l.pirate_imp,this.inLane,this.worldPosition,new o(-1,0==this.lIndex?0:1),1,20,.5),h.throwOneImpByLnC(l.pirate_imp,this.inLane,this.worldPosition,new o(-1,4==this.lIndex?0:-1),1,20,.5)].forEach((function(e){e.body.playAnimation("Fly",1/0)}))},s.setChiliStun=function(e){return!1},s.playSpecialZombieDieForced=function(){this.pusher=null},s.specialZombieOnEnable=function(){var e;this.deathCD=this.lifeSpan,this.pusher=null,null==(e=this.faceSlot)||e._setDisplayIndex(0)},s.specialZombieOnLoad=function(){var e;this.faceSlot=null==(e=this.db.armature())?void 0:e.getSlot("face")},s.onDamaged=function(e,t,i){var n;null==(n=this.faceSlot)||n._setDisplayIndex(2-Math.floor(3*t/this.toughness))},s.onKnockBackStart=function(){this.pusher=null},s.shouldSpeedScale=function(){return this._pusher?this.pusher.shouldSpeedScale()*(this.pusher.walking?1:0):this.defaultShouldSpeedScale()},s.specialZombieUpdate=function(e){this._pusher?(this.randomSpeed=this._pusher.randomSpeed,this.worldPositionX=this.pusher.barrelSlot.worldPosition.x):(this.randomSpeed=0,this.deathCD>0&&(this.deathCD-=e,this.deathCD<=0&&this.playDie(!1,null,!0,r.physicle,!1,!1,!1)))},s.detectPlant=function(e){var t=this;this.pusher&&this.inLane.plantPool().forEach((function(e){t.bodyRec.judgeCrossRec(e.bodyRec)&&e.smash(t,!1)}))},s.lobberTarget=function(){return this.pusher?this.pusher:this},i(n,[{key:"pusher",get:function(){return this._pusher},set:function(e){this.pusher&&this.pusher!=e&&(this.pusher.barrel=null),null!=e?this._pusher=e:(this._pusher=null,this.randomSpeed=0)}}]),n}(a))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/PirateCaptainParrotZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Plant.ts","./NodePools.ts","./Square.ts","./SoundRescourses.ts","./CharacterManager.ts"],(function(t){var i,e,n,o,a,l,r,s,h,u,c,d,p,g,P,f,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,r=t.AudioClip,s=t.Vec2,h=t.Vec3},function(t){u=t.zombieDamageType,c=t.Zombie},function(t){d=t.PlantType},function(t){p=t.NodePools,g=t.ArrayGet},function(t){P=t.Square},function(t){f=t.sounds},function(t){v=t.PlantPool}],execute:function(){var w,y,b,m,S;a._RF.push({},"b1388sOiqVNAo9pYaZUS1g8","PirateCaptainParrotZombie",void 0);var _=l.ccclass,C=l.property,D=t("parrotCapture",function(){function t(){}return t.judgePlantCapturable=function(t){if(t)return!t.dead&&!t.short_&&t.eaterDetectable&&!t.fooding&&t.plantType==d.plant&&!t.invincible},t.getRandomPlantCapturable=function(){for(var t,i=this,e=[0,1,2,3,4],n=function(){var t=g.getRandom(e);e.splice(e.indexOf(t),1);for(var n=P.getLaneComponent(t).plantPool(),o=[],a=0;a<n.length;a++)i.judgePlantCapturable(n[a])&&o.push(n[a]);if(o.length>0){var l=o[0];return o.forEach((function(t){t._worldPositionX>l._worldPositionX&&(l=t)})),{v:l}}};e.length>0;)if(t=n())return t.v;return null},t.judgeHaveCapturablePlant=function(){for(var t=v.pool().concat(),i=0;i<t.length;i++)if(this.judgePlantCapturable(t[i]))return!0;return!1},t}());t("PirateCaptainParrotZombie",(w=_("PirateCaptainParrotZombie"),y=C(r),w((S=i((m=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return(i=t.call.apply(t,[this].concat(a))||this).brainEater=!1,n(i,"captureSound",S,o(i)),i.orgHeight=60,i.flyingSpeed=100,i.targetPlant=void 0,i.captain=void 0,i.followedPlant=null,i.captureCD=0,i.captured=!1,i._vx=0,i._vy=0,i.fleeing=!1,i}e(i,t);var a=i.prototype;return a.playSpecialZombieDie=function(t){this.judgeDeath(0),this.shadeAlphaScale=0},a.detectPlantOn=function(){return!1},a.playWalk=function(t){},a.specialZombieOnEnable=function(){this.followedPlant=null,this.captain=null,this.fleeing=!1,this.captured=!1,this.switching=!0,this.playIdle(),this.height=this.orgHeight,this.shadeAlphaScale=1},a.onLaneSpawnSettled=function(t){this.height=this.orgHeight},a.onPutDirectly=function(t){this.height=this.orgHeight,this.targetPlant=D.getRandomPlantCapturable()},a.onDirtSpawned=function(t){this.height=this.orgHeight},a.playSpecialZombieDieForced=function(){this.followedPlant&&(this.followedPlant.node.destroy(),this.followedPlant=null)},a.specialZombieUpdate=function(t){var i,e,n;(D.judgePlantCapturable(this.targetPlant)||(this.targetPlant=null,this.captured=!1),null!=(i=this.captain)&&i.isAlive()||(this.captain=null),this.fleeing)?(this.height+=300*t,null!=(e=this.followedPlant)&&e.isValid&&(this.followedPlant.height=this.height-this.orgHeight),this.height>2100&&(this.followedPlant&&(this.followedPlant.node.destroy(),this.followedPlant=null),null!=(n=this.captain)&&n.isAlive()?(this.fleeing=!1,this.height=this.orgHeight,this.worldPositionX=P.getSquareWorldPosition(0,8).x+2*P.SquareDisW,this.worldPositionY=this.captain.worldPositionY,this.targetPlant=null):(this.playDie(!0,null,!1,u.physicle,!1,!1,!1),p.destroyPooly(this.node)))):this.targetPlant?this.captured?(this._vx=0,this._vy=0):(this.moveTo(this.targetPlant,t),this.targetPlant.worldPosition.clone().add(this.worldPosition.clone().negative()).length()<=6&&(this.captured=!0,f.play(this.captureSound),this.captureCD=5)):this.captain?(this.moveTo(this.captain,t),this.captain.worldPosition.clone().add(this.worldPosition.clone().negative()).length()<=6&&this.captain.returnParrot(this)):(this.fleeing=!0,this._vx=0,this._vy=0);this.captured&&(this.targetPlant.worldPosition.clone().add(this.worldPosition.clone().negative()).length()>6&&(this.captured=!1),this.captureCD-=t,this.captureCD<=0&&(this.fleeing=!0,this.targetPlant&&(this.targetPlant.die(!1),this.followedPlant=this.targetPlant,this.targetPlant.anmControl.setTimeScale(0),this.targetPlant=null)))},a.onButtered=function(t){this.playDie()},a.specialDisblowable=function(){return this.fleeing},a.currentFarBodyRec=function(){return this.fleeing},a.lobberToPos=function(t){return new s(this.worldPositionX+this._vx*t*2,this.worldPositionY+this._vy*t*2)},a.moveTo=function(t,i){var e=new s(t._worldPositionX-this._worldPositionX,t._worldPositionY-this._worldPositionY).normalize().multiplyScalar(this.flyingSpeed*i);this._vx=e.x,this._vy=e.y;var n=1;e.x>0&&(n=-1);var o=this.body.node.scale.clone();this.body.node.scale=new h(Math.abs(o.x)*n,o.y,o.z),this.worldPosition=this.worldPosition.clone().add(e)},i}(c)).prototype,"captureSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=m))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/PirateCaptainZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./Zombies.ts","./PirateCaptainParrotZombie.ts"],(function(t){var o,a,r,e,i,n,s,l,h;return{setters:[function(t){o=t.inheritsLoose},function(t){a=t.cclegacy,r=t._decorator},function(t){e=t.Zombie},function(t){i=t.NodePools},function(t){n=t.zombies,s=t.ZombieEnum},function(t){l=t.PirateCaptainParrotZombie,h=t.parrotCapture}],execute:function(){var d;a._RF.push({},"4d566STzN1PH4DfXdxb2aT9","PirateCaptainZombie",void 0);var c=r.ccclass;r.property,t("PirateCaptainZombie",c("PirateCaptainZombie")(d=function(t){function a(){for(var o,a=arguments.length,r=new Array(a),e=0;e<a;e++)r[e]=arguments[e];return(o=t.call.apply(t,[this].concat(r))||this).haveParrot=!0,o.parrotHealth=300,o.parrotCooldown=7,o.parrotRetryCooldown=1,o._cd=0,o.oldGroanSound=[],o}o(a,t);var r=a.prototype;return r.specialZombieOnLoad=function(){this.oldGroanSound=this.groanSound},r.playSpecialZombieDie=function(t){this.judgeDeath()},r.specialZombieOnEnable=function(){this.haveParrot=!0,this.parrotHealth=300,this.groanSound=this.oldGroanSound,this._cd=this.parrotCooldown},r.createParrot=function(){var t=n.createZombie(this.lIndex,s.pirate_parrot);if(t){var o;null==(o=this.body.body.armature().getSlot("Parrot_HEAD"))||o._setDisplayIndex(-1);var a=t.getComponent(l);return a.worldPosition=this.worldPosition,a.captain=this,this.haveParrot=!1,this.groanSound=[],a.health=this.parrotHealth,a.targetPlant=h.getRandomPlantCapturable(),a}},r.returnParrot=function(t){var o;this.groanSound=this.oldGroanSound,this.haveParrot=!0,this.parrotHealth=t.health,null==(o=this.body.body.armature().getSlot("Parrot_HEAD"))||o._setDisplayIndex(0),this._cd=this.parrotCooldown,t.playDie(!0),i.destroyPooly(t.node)},r.specialZombieUpdate=function(t){this.haveParrot&&(this._cd>0&&(this._cd-=t),this._cd<=0&&(h.judgeHaveCapturablePlant()?this.createParrot():this._cd=this.parrotRetryCooldown))},a}(e))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/PirateGargantuarZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GargantuarZombie.ts","./NodePools.ts","./Zombies.ts"],(function(t){var r,a,e,i,n,o,u,s,c,p;return{setters:[function(t){r=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,u=t.AudioClip},function(t){s=t.GargantuarZombie},function(t){c=t.ArrayGet},function(t){p=t.ZombieEnum}],execute:function(){var l,m,h,f,d;n._RF.push({},"e2284uKBI9GQpaHbL+zvftu","PirateGargantuarZombie",void 0);var y=o.ccclass,b=o.property;t("PirateGargantuarZombie",(l=y("PirateGargantuarZombie"),m=b([u]),l((d=r((f=function(t){function r(){for(var r,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return r=t.call.apply(t,[this].concat(n))||this,e(r,"steadySounds",d,i(r)),r.impEnum=p.pirate_imp,r}a(r,t);var n=r.prototype;return n.specialGargantuarAnimationListener=function(t){"steady"==t.name&&this.playOneShot(c.getRandom(this.steadySounds))},n.throwImp=function(){this._throwImp(Math.floor(5*Math.random()),2,350),this._haveImp=!0,this._throwImp(Math.floor(5*Math.random()),4,350)},r}(s)).prototype,"steadySounds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=f))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/PirateImpCannonZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./Square.ts","./Zombies.ts","./GargantuarZombie.ts","./levelController.ts"],(function(o){var t,i,n,e,a,l,r,s,h,u,p,c,m,d,b,f;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){a=o.cclegacy,l=o._decorator,r=o.AudioClip,s=o.CCFloat,h=o.CCInteger,u=o.tween,p=o.Vec2},function(o){c=o.Zombie},function(o){m=o.Square},function(o){d=o.ZombieEnum},function(o){b=o.gargantuar},function(o){f=o.LevelPlay}],execute:function(){var y,S,C,D,g,v,w,P,Z,L,x,T,E,I,M;a._RF.push({},"317a8MCv7NEjpaQruuwM9bq","PirateImpCannonZombie",void 0);var _=l.ccclass,k=l.property;o("PirateImpCannonZombie",(y=_("PirateImpCannonZombie"),S=k(r),C=k(r),D=k(r),g=k(s),v=k(s),w=k(h),y((L=t((Z=function(o){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return(t=o.call.apply(o,[this].concat(a))||this).brainEater=!1,n(t,"RollSound",L,e(t)),n(t,"ShootSound",x,e(t)),n(t,"ExplodeSound",T,e(t)),t.moveToShipTween=null,t.knockBackable=!1,t.leapable=!1,n(t,"initialShootDuration",E,e(t)),n(t,"shootDuration",I,e(t)),t.shootCD=7.5,n(t,"maxShootCount",M,e(t)),t.shotCount=0,t.shooting=!1,t.impEnum=d.pirate_imp,t}i(t,o);var a=t.prototype;return a.specialZombieLeapable=function(){return!1},a.specialZombieKnockbackable=function(){return!1},a.specialZombieOnEnable=function(){this.shotCount=0,this.shooting=!1,this.shootCD=this.initialShootDuration,this.body.DeathAnm="Death",this.currentFlyZombie=!1,this.flying=!1},a.onLaneSpawnSettled=function(){var o=this;this.displayed||(this.moveToShipTween=u(this).to(4,{worldPositionX:m.getLnC(0,8).node.worldPosition.x+m.SquareDisW},{easing:"quadIn"}).call((function(){o.moveToShipTween=null})).start(),this.playOneShot(this.RollSound),this.playIdle())},a.detectPlant=function(o){},a.playSpecialZombieDie=function(o){this.judgeDeath(0)},a.playSpecialZombieDieForced=function(){var o;null==(o=this.moveToShipTween)||o.stop()},a.specialZombieUpdate=function(o){this.moveToShipTween||this.shooting||(this.shootCD>0&&(this.shootCD-=o),this.shootCD<=0&&(this.shotCount<this.maxShootCount?(this.shooting=!0,this.shootCD=this.shootDuration,this.body.playAnimation("Shoot",2),this.shotCount++):(this.body.DeathAnm="Explode",this.playDie(!1,null,!1,null,!1),f.component.setLevelVictoryCountDown(3))))},a._shoot=function(o,t,i,n,e){void 0===i&&(i=-30),void 0===n&&(n=45),void 0===e&&(e=1);var a=b.throwOneImpToLnC(this.impEnum,this.inLane,new p(this.headDropPoint.worldPosition.x,this._worldPositionY),m.getLnC(o,t),this.headDropPoint.worldPosition.y-this._worldPositionY+i,n,e);return a.body.playAnimation("Fly",1/0),a.tallNutBlock=!0,a},a.playWalk=function(o){},a.specialAnimationListener=function(o){if("Shoot"==o.name)this.playOneShot(this.ShootSound),this._shoot(this.inLane.LaneIndex,4+Math.round(Math.random()));else if("shootingOff"==o.name)this.shooting=!1,this.playIdle();else if("Explode"==o.name){this.playOneShot(this.ExplodeSound);for(var t=0;t<5;t++){var i=100+150*Math.random(),n=i/150;this._shoot(Math.floor(5*Math.random()),Math.floor(4*Math.random())+2,-10,i,n).tallNutBlock=!1}}},t}(c)).prototype,"RollSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(Z.prototype,"ShootSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(Z.prototype,"ExplodeSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(Z.prototype,"initialShootDuration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),I=t(Z.prototype,"shootDuration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7.5}}),M=t(Z.prototype,"maxShootCount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),P=Z))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/PirateSeagullZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./SoundRescourses.ts"],(function(e){var t,i,a,l,n,o,r,s,u,d,c,h,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,l=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,r=e._decorator,s=e.AudioClip,u=e.Prefab,d=e.Vec3},function(e){c=e.Zombie},function(e){h=e.ArrayGet,p=e.NodePools},function(e){g=e.sounds}],execute:function(){var m,f,y,b,S,v,P,H,D;o._RF.push({},"dec02612ItEKJCfPpyA9YNR","PirateSeagullZombie",void 0);var I=r.ccclass,_=r.property;e("PirateSeagullZombie",(m=I("PirateSeagullZombie"),f=_([s]),y=_([s]),b=_(u),m((P=t((v=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"seagullButteredSounds",P,l(t)),a(t,"seagullIdleSounds",H,l(t)),t.seagullIdleSayCD=3,t._haveHead=!0,a(t,"birdExplParticle",D,l(t)),t.seagullArmature=void 0,t}i(t,e);var o=t.prototype;return o.specialZombieUpdate=function(e){this.seagullIdleSayCD>0?this.seagullIdleSayCD-=e:(this.seagullIdleSayCD=5+3*Math.random(),g.play(h.getRandom(this.seagullIdleSounds),.7,1))},o.setButter=function(e,t){var i;e>0&&(this.playDie(!1,this.defaultDirection()),g.play(h.getRandom(this.seagullButteredSounds)),null==(i=this.seagullArmature)||null==(i=i.animation)||i.play("Death",1));return!0},o.plantEatAllowed=function(e){return!e.short_},o._dropHead=function(e){void 0===e&&(e=1),this.zombieHead&&this.haveHead&&(this.haveHead=!1,this.playBreakSound(),this.drop(this.zombieHead,e,new d(this.shadeSocket.worldPosition.x,this._worldPositionY,0),null,this.node.parent))},o.specialAnimationListener=function(e){"dropHead"==e.name&&this._dropHead()},o.dropHead=function(e,t){var i=this;void 0===t&&(t=this.zombieHeight),this.armors.length&&(this.armors.concat().forEach((function(e){i.throwArmor(e,null),p.destroyPooly(e.node)})),this.armors=[])},o.playSpecialZombieDie=function(e){var t;this.judgeDeath(0);var i="Escape";if(e){i="Explode",g.playBirdExpl();var a=p.instantiatePooly(this.birdExplParticle);a.parent=this.node.parent,a.worldPosition=this.node.worldPosition,a.worldScale=this.node.worldScale,a.setSiblingIndex(this.node.getSiblingIndex()+1)}else this._dropHead(10);null==(t=this.seagullArmature)||null==(t=t.animation)||t.play(i,1)},o.specialZombieOnEnable=function(){var e;this.seagullIdleSayCD=3*Math.random(),this.haveHead=!0,null==(e=this.seagullArmature)||null==(e=e.animation)||e.play("Idle",1/0)},o.specialZombieOnLoad=function(){var e;this.seagullArmature=null==(e=this.db.armature().getSlot("Seagull"))?void 0:e.childArmature},n(t,[{key:"haveHead",get:function(){return this._haveHead},set:function(e){var t;null==(t=this.body)||null==(t=t.body)||null==(t=t.armature())||null==(t=t.getSlots())||t.forEach((function(t){t.name.includes("_head")&&t._setDisplayIndex(e?0:-1)})),this._haveHead=e}}]),t}(c)).prototype,"seagullButteredSounds",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(v.prototype,"seagullIdleSounds",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(v.prototype,"birdExplParticle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=v))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/PirateSwashbucklerZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./Square.ts"],(function(i){var t,n,e,s,a,o,r,l,u,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,r=i.AudioClip},function(i){l=i.Zombie},function(i){u=i.ArrayGet},function(i){h=i.Square}],execute:function(){var c,d,m,p,S;a._RF.push({},"b79edvrTFZGVLeVacR4otOc","PirateSwashbucklerZombie",void 0);var f=o.ccclass,g=o.property;i("PirateSwashbucklerZombie",(c=f("PirateSwashbucklerZombie"),d=g([r]),c((S=t((p=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=i.call.apply(i,[this].concat(a))||this).willLandColumn=4,e(t,"swingSounds",S,s(t)),t}n(t,i);var a=t.prototype;return a.onSandStormStart=function(){this.flying=!1,this.currentFlyZombie=!1,this.onLanding(),this.switching=!1},a.fallImmediatelyWhenHeavyDamaged=function(){return!this.smartShadeHider},a.onButtered=function(i){this.smartShadeHider&&(this.butterStun=0)},a.onChiliStunned=function(i){this.smartShadeHider&&(this.chiliStun=0)},a.specialAnimationListener=function(i){if("swing"==i.name)this.playOneShot(u.getRandom(this.swingSounds));else if("swingJudge"==i.name){var t;null!=(t=this.inLane)&&t.isSea&&Math.random()<.05?(this.worldPositionX+=2*h.SquareDisW,this.body.DeathAnm="SwingFailure",this.playDie(!0),this.judgeDeath()):this.body.playAnimation("SwingSuccess",1)}else"dropHead"==i.name?this.dropHead(null,1):"switchingFalse"==i.name&&this.judgeDeath(0)},a.onDirtSpawned=function(i){this.currentFlyZombie=!1,this.flying=!1},a.specialOnLeapEnd=function(){this.smartShadeHider=!1},a.prevDistance=function(){return 0},a.swing=function(){this.playIdle(),this.body.playAnimation("SwingBack",1/0),this.worldPositionX=h.getSquareWorldPosition(0,this.willLandColumn).x,this.switching=!0,this.setBodyRec(!0)},a.resetWillLandColume=function(){this.willLandColumn=4},a.specialZombieOnEnable=function(){this.smartShadeHider=!0,this.body.DeathAnm="Death",this.resetWillLandColume()},a.onLaneSpawnSettled=function(i){this.resetWillLandColume(),this.swing()},a.onPutDirectly=function(i){this.willLandColumn=i.cIndex,this.swing()},t}(l)).prototype,"swingSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=p))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Plant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Particles.ts","./Character.ts","./SoundRescourses.ts","./CharacterManager.ts","./NodePools.ts","./LnC.ts","./AnimationController.ts","./Materials.ts","./UI.ts","./levelController.ts","./Plants.ts","./SoundsController.ts","./ParticleSelfdestroy.ts","./Tiles.ts","./LevelTaskCount.ts"],(function(t){var n,i,e,a,o,l,s,h,r,d,u,p,c,f,y,g,P,m,v,b,C,L,w,S,T,D,E,O,I,_,A,M,F,k,q,W,U;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,s=t._decorator,h=t.Enum,r=t.AudioClip,d=t.Size,u=t.Vec2,p=t.AudioSource,c=t.dragonBones,f=t.Material,y=t.tween,g=t.Vec3,P=t.Color,m=t.EventMouse,v=t.Node},function(t){b=t.particle},function(t){C=t.Character},function(t){L=t.sounds},function(t){w=t.Rectangle,S=t.PlantPool},function(t){T=t.NodePools,D=t.ArrayGet,E=t.instantiatePooly},function(t){O=t.TileType},function(t){I=t.AnimationController},function(t){_=t.materialRes},function(t){A=t.UIInGame},function(t){M=t.LevelPlay},function(t){F=t.PlantEnum},function(t){k=t.SoundFXController},function(t){q=t.ParticleSelfdestroy},function(t){W=t.tiles},function(t){U=t.LevelTaskCountModeEnum}],execute:function(){var x,N,B,z,R,H,j,V,X,Y,G,J,K,Q,Z,$,tt,nt,it;l._RF.push({},"de59daihTVDgJBO/PJ5zQ6J","Plant",void 0);var et=s.ccclass,at=s.property,ot=t("PlantType",function(t){return t[t.plant=0]="plant",t[t.vine=1]="vine",t[t.pot=2]="pot",t[t.lilyPad=3]="lilyPad",t[t.tile=4]="tile",t}({})),lt=t("PlantFamily",function(t){return t[t.Peashooter=0]="Peashooter",t[t.Melee=1]="Melee",t[t.Cold=2]="Cold",t[t.Sun=3]="Sun",t[t.Poison=4]="Poison",t[t.Shadow=5]="Shadow",t[t.Slow=6]="Slow",t[t.Defence=7]="Defence",t[t.Electricity=8]="Electricity",t[t.Fire=9]="Fire",t[t.Explosive=10]="Explosive",t[t.Sharp=11]="Sharp",t[t.Lobber=12]="Lobber",t[t.None=13]="None",t}({}));h(lt);t("Plant",(x=et("Plant"),N=at({type:lt}),B=at(Boolean),z=at(Boolean),R=at([r]),H=at(Boolean),j=at(d),V=at(Boolean),X=at(Boolean),x((J=n((G=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=t.call.apply(t,[this].concat(o))||this).fooding=!1,n._endangered=!1,n._endangerdTile=void 0,n.audioSource=void 0,n.anmControl=null,n.bodyTweens=[],n.allowStack=!1,n.leapTween=null,e(n,"family",J,a(n)),n._foodable=!0,n.foodLightParticle=null,e(n,"tall",K,a(n)),n.tall_=!1,e(n,"short",Q,a(n)),n.short_=!1,n.ID=F.Peashooter,n.TYPE=[],n.SUNCOST=0,n.plantType=ot.plant,n.dead=void 0,n.flyingPlant=!1,n.deathAnm="Death",e(n,"deadSound",Z,a(n)),n.eatDamagable=!0,n.eaterDetectable=!0,n.smasherDetectable=!0,n.plantInLnC=null,n.darkModeOn=!1,e(n,"haveDarkMode",$,a(n)),e(n,"bodySize",tt,a(n)),n.bodyRec=w.createRectangleCenter(new u(0,0),n.bodySize.width,n.bodySize.height),n.toughness=300,n.health=300,n.hurting=0,n.damagable=!0,n._invincible=!1,n.material=void 0,e(n,"haveWaterAnimation",nt,a(n)),n.waterAnm="Water",e(n,"onFire",it,a(n)),n.body=null,n.hot=0,n.plantWave=null,n}i(n,t);var l=n.prototype;return l.shovelable=function(){return!this.fooding&&this.specialPlantShovelable()&&!this._invincible&&!this.endangered},l.specialPlantShovelable=function(){return!0},l.specialPlantOnLoad=function(){},l.characterOnLoad=function(){this.body=this.node.getChildByName("Body"),this.getComponent(p)||this.addComponent(p),this.audioSource=this.getComponent(p),this.anmControl=this.getComponent(I),this.anmControl.setBody(),this.db=this.anmControl.body,this.anmControl.body.on(c.EventObject.FRAME_EVENT,this.animationListener,this),this.anmControl.body.on(c.EventObject.SOUND_EVENT,this.animationListener,this),this.anmControl.anmCompleteListenerOn(),this.anmControl.body.on(c.EventObject.COMPLETE,this.animationOnComplete,this);var t=new f;t.initialize({effectAsset:_.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=t,this.material.setProperty("chillColor",0),this.specialPlantOnLoad()},l.inLnCArray=function(){return this.plantType==ot.vine?this.inLnC.vineInSquare:this.plantType==ot.pot||this.plantType==ot.lilyPad?[]:this.inLnC.plantInSquare},l.leapTo=function(t,n,i,e,a){var o=this;if(void 0===n&&(n=.5),void 0===i&&(i=200),void 0===a&&(a=!1),!(this.leapTween||this.dead||this.fooding&&!a)){var l,s,h=t.plantPoint,r=t.plantInSquare;if(null==(l=this.anmControl.plantUpper)||null==(l=l.node)||l.setParent(t.inLane.plantUpperLayer,!0),this.plantType==ot.vine)h=t.vinePoint,r=t.vineInSquare,null==(s=this.anmControl.vineback)||null==(s=s.node)||s.setParent(t.vineBackPoint,!0);else if(this.plantType==ot.pot){var d;h=t.potPoint,r=[],t.floawerPot=this.node,t.haveFloawerPot=!0,this.inLnC.floawerPot=null,this.inLnC.haveFloawerPot=!1,null==(d=this.anmControl.potFront)||null==(d=d.node)||d.setParent(t.potPointUpper,!0)}else this.plantType==ot.lilyPad&&(h=t.potPoint,r=[],t.lilyPad=this.node,t.haveLilyPad=!0,this.inLnC.lilyPad=null,this.inLnC.haveLilyPad=!1);this.node.setParent(h,!0);var p=this.inLnCArray().indexOf(this);-1!=p&&this.inLnCArray().splice(p,1),-1==r.indexOf(this)&&r.push(this),this.plantInLnC=t,this._endangerdTile&&(this._endangerdTile.node.parent=this.plantInLnC.inLane.tileLayer,this._endangerdTile.node.worldPosition=this.plantInLnC.node.worldPosition),this.inLnC=t,t.readIndex();if(n>0){this.invincible=!0,this.onLeapStart(),this.leapTween=y(this).to(n,{worldPositionX:h.worldPosition.x,worldPositionY:h.worldPosition.y}).call((function(){o.leapTween=null,o.invincible=!1,o.pushTideListner(t,t.getTileType(),t.plantable(),t.vineable(),t.floawerPotable(),t.flyable()),o.dead||o.onLeapEnd()})).start();var c=y(this).to(n/2,{height:i},{easing:"quadOut"}).to(n/2,{height:0},{easing:"quadIn"}).start();this.bodyTweens.push(c,this.leapTween)}else this.leapTween=null,this.worldPosition=new u(h.worldPosition.x,h.worldPosition.y),this.body.worldPosition=this.node.worldPosition,this.foodLightParticle&&(this.foodLightParticle.worldPosition=this.node.worldPosition),this.fooding||this.pushTideListner(t,t.getTileType(),t.plantable(),t.vineable(),t.floawerPotable(),t.flyable())}},l.onLeapStart=function(){},l.onLeapEnd=function(){},l.animationListener=function(t){},l.animationOnComplete=function(){},l.strengthen=function(){},l.smash=function(t,n){void 0===n&&(n=!1),n?this.inLnC.getAllPlants().forEach((function(n){n.normalSmash(t)})):this.plantType==ot.vine?this.normalSmash(t):this.plantType==ot.plant?this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].normalSmash(t):this.normalSmash(t):this.plantType!=ot.pot&&this.plantType!=ot.lilyPad||(this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].normalSmash(t):this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].normalSmash(t):this.normalSmash(t))},l.normalSmash=function(t){this.fooding||this.invincible||!this.smasherDetectable||this.die()},l.specialPlantOnSquareChange=function(t,n){},l.characterOnSquareChange=function(t,n){if(!this.dead){this.plantWave&&this.plantWave.setParent(this.inLane.node,!0);var i=n.node.worldPosition;this.setBodyRec(new u(i.x,i.y)),this.specialPlantOnSquareChange(t,n)}},l.characterOnLaneChange=function(t,n){t.deletePlant(this),n.addPlant(this)},l.burn=function(){if(!this.fooding&&!this.invincible){L.playPlantBurn();var t=T.instantiatePooly(b.plantBurnt());t.parent=this.inLnC.plantPoint,t.worldPosition=this.inLnC.node.worldPosition,t.setSiblingIndex(0),this.die(!1),this.node.destroy()}},l.playDeathSound=function(){this.deadSound.length&&this.getComponent(p).playOneShot(D.getRandom(this.deadSound),k.SoundFXVolume)},l.kill=function(){this.fooding||this.invincible||this.die()},l.specialPlantOnEaten=function(t,n,i,e){},l.eat=function(t,n){var i=this.health+0;this.dealDamage(t,0),i!=this.health&&this.specialPlantOnEaten(t,n,i,this.health),this.health<=0&&n.chewSoundWhenEat&&L.playZombieGulp()},l.plantCount=function(){return 1},l.die=function(t,n){var i=this;if(void 0===t&&(t=!0),void 0===n&&(n=!0),!this.dead){this.endangered&&(this.endangered=!1,n&&M.component.plantUnderProtectCount--),n&&A.uiingame.calculateLevelTask(U.PlantLoseLimit,{}),this.fooding&&this.foodEnd(),this.dead=!0,S.deletePlant(this),this.inLane.deletePlant(this),A.uiingame.calculateLevelTask(U.PlantCountLimit,{AllPlantCount:S.getPlantAmount()});var e=this.plantInLnC;if(this.plantType==ot.plant){var a=e.plantInSquare.indexOf(this);-1!=a&&e.plantInSquare.splice(a,1)}else if(this.plantType==ot.vine){var o=e.vineInSquare.indexOf(this);-1!=o&&e.vineInSquare.splice(o,1)}else this.plantType==ot.pot?e.haveFloawerPot=!1:this.plantType==ot.lilyPad&&(e.haveLilyPad=!1);if(e.readIndex(),t&&this.playDeathSound(),this.specialPlantDie(),t)if(""==this.deathAnm){var l=T.instantiatePooly(b.deadPlant());l.parent=e.squareLower.node,l.worldPosition=this.node.worldPosition,this.node.destroy()}else-1!=this.anmControl.body.armature().animation.animationNames.indexOf(this.deathAnm)&&this.anmControl.playAnimation(this.deathAnm,1),this.anmControl.body.on(c.EventObject.COMPLETE,(function(t){T.instantiatePooly(b.deadPlant()).parent=e.squareLower.node,i.node.destroy()}),this)}},l.specialPlantDie=function(){},l.judgeDarkPlantMode=function(){var t,n;if(this.haveDarkMode){if((null==(t=this.inLnC)?void 0:t.shadowCD)>0&&!this.darkModeOn){var i,e=null==(i=this.anmControl.body)?void 0:i.armature();e&&(this.darkModeOn=!0,null==e||e.getSlots().forEach((function(t){t.name.includes("_DARK")&&(t.displayIndex=1)})))}if((null==(n=this.inLnC)?void 0:n.shadowCD)<=0&&this.darkModeOn){var a,o=null==(a=this.anmControl.body)?void 0:a.armature();o&&(this.darkModeOn=!1,null==o||o.getSlots().forEach((function(t){t.name.includes("_DARK")&&(t.displayIndex=0)})))}}},l.onTileTypeChange=function(t,n,i,e,a,o,l){this.dead||this.fooding||this.invincible||this.pushTideListner(t,i,e,a,o,l),this.dead||this.fooding||this.invincible||t.putPlantAvailable(this.TYPE,!1)||this.die()},l.onSkyFallEnd=function(){this.node.destroy()},l.fall=function(){this.dead||(this.die(!1),this.anmControl.setTimeScale(0),this.anmControl.throwAllBackNFront(),this.fallInSky(!1))},l.pushTideListner=function(t,n,i,e,a,o){t.crackleCountdown>0?this.burn():n!=O.sea?n!=O.sky||(i||this.plantType!=ot.plant)&&(e||this.plantType!=ot.vine)&&this.plantType!=ot.lilyPad||this.flyingPlant||this.inLnC.haveFloawerPot?(i||this.plantType!=ot.plant)&&(e||this.plantType!=ot.vine)||n!=O.water||this.flyingPlant||this.drown():this.fall():this.drown(!0)},l.drown=function(t){void 0===t&&(t=!1),this.die(!1),t?b.spawnSeaSplash(this.inLane.LaneIndex,new g(this._worldPositionX,this._worldPositionY,10)):b.spawnWaterSplash(this.inLane.LaneIndex,new g(this._worldPositionX,this._worldPositionY,10)),this.node.destroy()},l.food=function(t){if(void 0===t&&(t=!0),!this.fooding&&this.foodable&&!this.dead&&!this.leapTween){if(t){var n=T.instantiatePooly(b.foodLight());n.parent=this.inLnC.particleLowerPoint,n.setPosition(0,0,0),n.getComponent(c.ArmatureDisplay).playAnimation("Start",1),n.setParent(this.inLane.Food,!0),n.setSiblingIndex(0),this.foodLightParticle=n,this.body.setParent(this.inLane.Food,!0),L.playPlantFoodStart()}this.hurting=60,this.fooding=!0,this.health=this.toughness,this.specialPlantFood(t)}},l.specialPlantFood=function(t){},l.specialPlantFoodEnd=function(){},l.foodEnd=function(){var t;this.foodLightParticle&&this.foodLightParticle.getComponent(c.ArmatureDisplay).playAnimation("End",1),this.hurting=60,this.foodLightParticle=null,this.node.isValid?this.body.setParent(this.node,!0):this.body.destroy(),this.body.position=new g(0,0,0),this.specialPlantFoodEnd(),this.fooding=!1,this.pushTideListner(this.inLnC,this.inLnC.getTileType(),this.inLnC.plantable(!1),this.inLnC.vineable(!1),this.inLnC.floawerPotable(!1),this.inLnC.flyable(!1)),null==(t=this.inLnC)||t.readIndex()},l.setBodyRec=function(t){this.bodyRec=w.createRectangleCenter(t,this.bodySize.width,this.bodySize.height)},l.umbrella=function(){return!1},l.dealDamage=function(t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),!this.invincible&&this.damagable&&!this.fooding){if(1==n){var i=!1;if(this.inLnC.get3x3().forEach((function(t){var n;i||null==t||null==(n=t.plantInSquare)||n.forEach((function(t){i||t.umbrella()&&(i=!0)}))})),i)return;this.plantType==ot.plant?this.dealNormalDamage(t,n):this.plantType==ot.vine?this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].dealDamage(t,n):this.dealNormalDamage(t,n):this.plantType!=ot.pot&&this.plantType!=ot.lilyPad||(this.inLnC.plantInSquare.length?this.inLnC.plantInSquare[0].dealDamage(t,n):this.inLnC.vineInSquare.length?this.inLnC.vineInSquare[0].dealDamage(t,n):this.dealNormalDamage(t,n))}else for(var e=this.inLnC.getAllPlants(),a=0;a<e.length;a++){var o;if(null!=(o=e[a])&&o.eaterDetectable){var l;null==(l=e[a])||l.dealNormalDamage(t,n);break}}return 3==n&&this.health<=0&&this.burn(),this.health}},l.defaultHurtLightStrength=function(t){return t&&this.hurting>0?this.hurting:20},l.onDamaged=function(t,n,i){},l.dealNormalDamage=function(t,n){void 0===t&&(t=0),void 0===n&&(n=0);var i=0==n;if(!i||this.eatDamagable){var e=this.health+0;return this.health-=t,t>0&&(this.hurting=this.defaultHurtLightStrength(i),this.onDamaged(t,e,this.health+0)),this.health<=0&&this.die(),this.health}},l.shouldMaterial=function(){var t=new P(0,0,0,255);this.hurting>0&&(t.r+=5*this.hurting,t.g+=5*this.hurting,t.b+=5*this.hurting);var n=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(n,t),this.anmControl.body.customMaterial=this.material},l.specialPlantOnMouseDown=function(){return!1},l.onMouseDown=function(t){if(t.getButton()==m.BUTTON_RIGHT)this.water();else if(M.gameStarted&&t.getButton()==m.BUTTON_LEFT&&-1==A.index)return this.specialPlantOnMouseDown();return!1},l.mouseListener=function(t){void 0===t&&(t=!0),t?this.inLnC.node.on(v.EventType.MOUSE_DOWN,this.onMouseDown,this):this.inLnC.node.off(v.EventType.MOUSE_DOWN,this.onMouseDown,this)},l.waterable=function(){return!0},l.water=function(){!this.fooding&&this.haveWaterAnimation&&!this.dead&&this.waterable()&&this.anmControl.playAnimation(this.waterAnm,1,.1)},l.specialPlantOnEnable=function(){},l.lncStayable=function(t){},l.characterOnEnable=function(){this.short_=this.short,this.tall_=this.tall,this.bodyTweens=[],this.dead=!1,this.eaterDetectable=!0,this.smasherDetectable=!0,this.deathAnm="Death",this.darkModeOn=!1,this.damagable=!0,S.registerPlant(this),this.fooding=!1,this.health=this.toughness,this.darkModeOn=!this.haveDarkMode,this._invincible=!1,this.eatDamagable=!0,this.endangered=!1,this.specialPlantOnEnable()},l.specialPlantOnDisable=function(){},l.characterOnDisable=function(){this.fooding&&this.foodEnd(),this.die(!1,!1),this.plantWave&&(this.plantWave.getComponent(c.ArmatureDisplay).playAnimation("Fade"),this.plantWave=null),this.specialPlantOnDisable(),S.deletePlant(this),this.bodyTweens.forEach((function(t){null==t||t.stop()}))},l.specialPlantUpdate=function(t){},l.specialPlantLateUpdate=function(t){},l.lateUpdate=function(t){this.specialPlantLateUpdate(t)},l.plantHeat=function(t){this.hot>0&&(this.hot-=t),this.onFire&&this.hot<=0&&(this.hot=0,this.inLnC.plantHeat()&&(this.hot=Math.round(8*Math.random())+15))},l.replantable=function(){return!1},l.replant=function(){},l.addWave=function(t){this.flyingPlant||(t!=O.water||this.plantWave||!(this._height<-2)||this.inLnC.haveLilyPad||this.ID!=F.FloawerPot&&this.inLnC.haveFloawerPot||(this.plantWave=T.instantiatePooly(b.plantWaterWave()),this.plantWave.getComponent(c.ArmatureDisplay).playAnimation("Idle",1/0),this.plantWave.parent=this.inLane.node),this.plantWave&&(this.plantWave.worldPosition=new g(this._worldPositionX,this._worldPositionY),(t!=O.water||this._height>=-2)&&(this.plantWave.getComponent(c.ArmatureDisplay).playAnimation("Fade"),this.plantWave=null)))},l.characterUpdate=function(t){var n;this.judgeDarkPlantMode(),!this.dead&&(this.inLnC.haveFloawerPot&&this.plantType!=ot.pot||this.inLnC.haveLilyPad&&this.plantType!=ot.lilyPad)&&(this.height=this.inLnC.orgPlantPoint.worldPosition.y-this._worldPositionY),M.gameStarted&&!M.component.gameWon&&!this.dead&&!this.leapTween&&this.inLnC&&this.inLane&&(this.specialPlantUpdate(t),this.plantHeat(t)),this.hurting>0?this.hurting-=60*t*(this.fooding?4:1):this.hurting=0,this.shouldMaterial(),this.addWave(null==(n=this.inLnC)?void 0:n.getTileType()),this.specialPlantUpdateForce(t)},l.specialPlantUpdateForce=function(t){},o(n,[{key:"endangered",get:function(){return this._endangered},set:function(t){var n;if(this._endangered&&!t)null==(n=this._endangerdTile)||null==(n=n.db)||n.playAnimation("Die",1),this._endangerdTile=null;else if(!this._endangered&&t){var i,e=E(W.endangeredTile());e.parent=this.plantInLnC.inLane.tileLayer,e.worldPosition=this.plantInLnC.node.worldPosition,this._endangerdTile=e.getComponent(q),null==(i=this._endangerdTile)||null==(i=i.db)||i.playAnimation("Idle",1/0)}this._endangered=t}},{key:"foodable",get:function(){return this._foodable},set:function(t){var n;this._foodable=t,null==(n=this.inLnC)||n.readIndex()}},{key:"suncost",get:function(){return this.SUNCOST*this.plantCount()}},{key:"invincible",get:function(){return this._invincible},set:function(t){this._invincible=t,this.inLnC&&this.pushTideListner(this.inLnC,this.inLnC.getTileType(),this.inLnC.plantable(!1),this.inLnC.vineable(!1),this.inLnC.floawerPotable(!1),this.inLnC.flyable(!1))}}]),n}(C)).prototype,"family",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.None}}),K=n(G.prototype,"tall",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=n(G.prototype,"short",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=n(G.prototype,"deadSound",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=n(G.prototype,"haveDarkMode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=n(G.prototype,"bodySize",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(48,72)}}),nt=n(G.prototype,"haveWaterAnimation",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),it=n(G.prototype,"onFire",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=G))||Y));l._RF.pop()}}}));

System.register("chunks:///_virtual/plantFood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dropping.ts","./PlantFoodCount.ts","./SoundRescourses.ts","./levelController.ts"],(function(n){var o,t,e,i,r,a,l,c,u,s,p;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.AudioClip},function(n){c=n.dropping},function(n){u=n.PlantFoodCount},function(n){s=n.sounds},function(n){p=n.LevelPlay}],execute:function(){var d,f,g,y,h;r._RF.push({},"5176faDmB5OmZE/e9j24mx+","plantFood",void 0);var v=a.ccclass,F=a.property;n("plantFood",(d=v("plantFood"),f=F(l),d((h=o((y=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=n.call.apply(n,[this].concat(r))||this,e(o,"startingSound",h,i(o)),o}t(o,n);var r=o.prototype;return r.goToUIPath=function(){return"Canvas/UIInGame/PlantFoodSlot/slotParent"},r.onGroundHit=function(){},r.specialDroppingOnEnable=function(){this.fadingOn(),s.play(this.startingSound)},r.specialCollectable=function(){var n=!u.component.full();return n||p.component.gameWon||s.playCardChooseFailed(!0),n},r.specialGoToUI=function(n){u.component.plantFoodAdd()},o}(c)).prototype,"startingSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlantFoodCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./NodePools.ts","./SoundsController.ts","./SandBoxLevelSettingWindow.ts","./SettingWindow.ts","./levelController.ts"],(function(o){var t,n,e,i,s,l,a,d,h,u,r,p,c,m,y,C,g,f,v,w,F,N,S,P,b,A,B,T,k;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized,s=o.createClass},function(o){l=o.cclegacy,a=o._decorator,d=o.AudioClip,h=o.Prefab,u=o.CCInteger,r=o.Node,p=o.Color,c=o.Vec3,m=o.AnimationComponent,y=o.AudioSource,C=o.dragonBones,g=o.EventMouse,f=o.tween,v=o.find,w=o.Label,F=o.UITransform,N=o.instantiate,S=o.Component},function(o){P=o.UIInGame},function(o){b=o.NodePools},function(o){A=o.SoundFXController},function(o){B=o.SandBoxLevelSettingWindow},function(o){T=o.SettingWindow},function(o){k=o.LevelPlay}],execute:function(){var I,x,D,E,O,L,W,U,_,z,M,G,K,R,H,X;l._RF.push({},"954fdB0gXpF/Jaj7g2CsJh0","PlantFoodCount",void 0);var V=a.ccclass,j=a.property;o("PlantFoodCount",(I=V("PlantFoodCount"),x=j(d),D=j(d),E=j(d),O=j(h),L=j(u),W=j(r),I(((X=function(o){function t(){for(var t,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(t=o.call.apply(o,[this].concat(s))||this).initialSunCount=0,e(t,"collectSound",z,i(t)),e(t,"activateSound",M,i(t)),e(t,"cheatAddSound",G,i(t)),e(t,"plantFoodInHand",K,i(t)),e(t,"maxCount",R,i(t)),t.slot=[],t.plantFoodNum=0,t.chosen=void 0,t.keyTip=void 0,t.ui=void 0,t.keyRED=new p(255,100,100,255),t.keyGREEN=new p(100,255,100,255),t.keyYELLOW=new p(245,255,0,255),e(t,"addButton",H,i(t)),t.busyCollecting=!1,t.oldpos=new c(0,0,0),t.conveyorpos=new c(0,75,0),t.shown=!0,t}n(t,o),t.plantfoodWarn=function(){this.component.plantfoodWarn()};var l=t.prototype;return l.plantfoodWarn=function(){this.getComponent(m).play("plantfoodWarn")},l.setKeyTipColor=function(){if(this.keyTip){if(!T.showKeyTips)return void(this.keyTip.color=new p(0,0,0,0));this.plantFoodNum>0||B.freePF?this.keyTip.color=this.chosen?this.keyGREEN:this.keyYELLOW:this.keyTip.color=this.keyRED,this.keyTip.node.scale=this.chosen?new c(.9,.9):new c(.7,.7)}},l.addMouseChild=function(){this.getComponent(y).playOneShot(this.activateSound,A.SoundFXVolume);var o=b.instantiatePooly(this.plantFoodInHand);o.parent=this.ui.plantInHandLayer,o.setPosition(-14,-20,0)},l.choose=function(){this.chosen=-3==this.ui.index,this.chosen?this.node.getChildByName("Icon").getComponent(C.ArmatureDisplay).playAnimation("Pushed"):this.node.getChildByName("Icon").getComponent(C.ArmatureDisplay).playAnimation("Idle")},l.setPlantFoodNum=function(o){var t=o+0;t>this.maxCount?t=this.maxCount:t<0&&(t=0),this.plantFoodNum=t;for(var n=0;n<this.maxCount;n++)n<t?this.slot[n].getComponent(C.ArmatureDisplay).playAnimation("Collecting"):this.slot[n].getComponent(C.ArmatureDisplay).playAnimation("Empty");this.choose()},l.plantFoodAdd=function(){this.plantFoodNum<this.maxCount&&(this.plantFoodNum++,this.getComponent(y).playOneShot(this.collectSound,A.SoundFXVolume),this.slot[this.plantFoodNum-1].getComponent(C.ArmatureDisplay).playAnimation("Collecting"),this.busyCollecting||(this.node.getChildByName("Collecting").getComponent(C.ArmatureDisplay).playAnimation("IconCollecting",1),this.busyCollecting=!0),this.choose())},l.plantFoodDec=function(){this.plantFoodNum>0&&(this.slot[this.plantFoodNum-1].getComponent(C.ArmatureDisplay).playAnimation("Empty"),this.plantFoodNum--,this.choose())},l.onMouseDown=function(o){if(o.preventSwallow=!0,o.getButton()==g.BUTTON_LEFT){var t=this.plantFoodNum;this.plantFoodAdd(),t<this.plantFoodNum&&this.getComponent(y).playOneShot(this.cheatAddSound,A.SoundFXVolume)}},t.show=function(o,n){var e;void 0===o&&(o=!1),void 0===n&&(n=null),null==(e=t.component)||e._show(o,n)},t.keyOn=function(){var o;null==(o=t.component)||o._keyOn()},l._show=function(o,t){void 0===o&&(o=!1),void 0===t&&(t=null),this.shown||(T.allowCheat||k.sandBoxModeOn||this.addButton.position.add(new c(-1e3,1e3,0)),this.shown=!0,f(this.node).to(.4,{position:o?this.conveyorpos:this.oldpos},{easing:"cubicOut"}).call(t).start())},l.full=function(){return this.maxCount<=this.plantFoodNum},l._keyOn=function(){this.keyTip&&(this.keyTip.node.worldPosition=new c(this.node.worldPosition.x,this.node.worldPosition.y-20,0))},l.rotate=function(o){void 0===o&&(o=!0);var t=this.node.getChildByName("slotParent");o?(t.angle=0,t.scale=new c(1,1,1)):(t.angle=-90,t.scale=new c(1,-1,1))},l.update=function(o){this.setKeyTipColor()},l.onLoad=function(){var o,n=this;t.component=this,this.oldpos=this.node.position.clone(),this.conveyorpos.add(this.oldpos),this.rotate(),this.node.position.add3f(0,600,0),this.shown=!1,this.ui=this.node.parent.getComponent(P),this.chosen=!1,v("Canvas/UIInGameUpper/KeyTip/KeyF")&&(this.keyTip=null==(o=v("Canvas/UIInGameUpper/KeyTip/KeyF"))?void 0:o.getComponent(w)),this.keyTip&&(this.keyTip.node.worldPosition=new c(this.node.worldPosition.x,this.node.worldPosition.y-20,0)),this.getComponent(y)||this.addComponent(y),v("Canvas/UIInGame/SunSlot/add")&&this.node.getChildByName("add").setWorldPosition(v("Canvas/UIInGame/SunSlot/add").getWorldPosition().x,this.node.getChildByName("add").getWorldPosition().y,0),this.slot.push(this.node.getChildByName("slotParent").getChildByName("slots").getChildByName("slot")),this.node.getChildByName("slotParent").getChildByName("plantFoodSlots").getComponent(F).width=316+48*(this.maxCount-3);for(var e=1;e<this.maxCount;e++){var i=N(this.slot[0]);i.parent=this.slot[0].parent,i.setPosition(this.slot[e-1].position.x+48,this.slot[e-1].position.y,0),this.slot.push(i)}this.node.getChildByName("add").on(r.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.getChildByName("Collecting").getComponent(C.ArmatureDisplay).on(C.EventObject.COMPLETE,(function(){n.busyCollecting=!1}),this),this.choose()},s(t,null,[{key:"plantFoodNum",get:function(){return this.component.plantFoodNum}}]),t}(S)).component=void 0,z=t((_=X).prototype,"collectSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(_.prototype,"activateSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(_.prototype,"cheatAddSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(_.prototype,"plantFoodInHand",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(_.prototype,"maxCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),H=t(_.prototype,"addButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=_))||U));l._RF.pop()}}}));

System.register("chunks:///_virtual/Plants.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts"],(function(e){var r,t,n,a,i,l,o,u,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,o=e.JsonAsset,u=e.Component},function(e){s=e.PlantsInCard}],execute:function(){var p,c,b,h,m,g,P,f,w,S,y,R,z,B,C,M,d,T,F,L,G,k,D,v,W,E,O,J,V,I,H,N,A,U,q,K,_,j,x,Y,Q,X,Z,$,ee,re,te,ne,ae,ie,le,oe,ue,se,pe,ce,be,he,me,ge,Pe,fe,we,Se,ye,Re,ze,Be,Ce,Me,de,Te,Fe,Le,Ge,ke,De,ve,We,Ee,Oe,Je,Ve,Ie,He,Ne,Ae,Ue,qe,Ke,_e,je,xe,Ye,Qe,Xe,Ze,$e,er,rr,tr,nr,ar,ir,lr,or,ur,sr,pr,cr,br,hr,mr,gr,Pr,fr,wr,Sr,yr,Rr,zr,Br,Cr,Mr,dr,Tr,Fr,Lr,Gr,kr,Dr,vr,Wr,Er,Or,Jr,Vr,Ir,Hr,Nr,Ar,Ur,qr,Kr,_r;i._RF.push({},"69863LwbzhG4o6A+BjtBkHR","Plants",void 0);var jr=l.ccclass,xr=l.property,Yr=e("PlantEnum",function(e){return e[e.Peashooter=0]="Peashooter",e[e.Sunflower=1]="Sunflower",e[e.Wallnut=2]="Wallnut",e[e.PotatoMine=3]="PotatoMine",e[e.CabbagePult=4]="CabbagePult",e[e.Bloomerang=5]="Bloomerang",e[e.IcebergLettuce=6]="IcebergLettuce",e[e.BonkChoy=7]="BonkChoy",e[e.Reapeater=8]="Reapeater",e[e.MegaGatlingPea=9]="MegaGatlingPea",e[e.ScaredyShroom=10]="ScaredyShroom",e[e.FumeShroom=11]="FumeShroom",e[e.GraveBuster=12]="GraveBuster",e[e.Pumpkin=13]="Pumpkin",e[e.PeaVine=14]="PeaVine",e[e.FloawerPot=15]="FloawerPot",e[e.FirePeashooter=16]="FirePeashooter",e[e.ThreePeater=17]="ThreePeater",e[e.PrimalPea=18]="PrimalPea",e[e.Rotobaga=19]="Rotobaga",e[e.HomingThistle=20]="HomingThistle",e[e.StarFruit=21]="StarFruit",e[e.ShootingStarfruit=22]="ShootingStarfruit",e[e.LilyPad=23]="LilyPad",e[e.SunShroom=24]="SunShroom",e[e.TwinSunflower=25]="TwinSunflower",e[e.Dragonbruit=26]="Dragonbruit",e[e.Moonflower=27]="Moonflower",e[e.SnowPea=28]="SnowPea",e[e.LightningReed=29]="LightningReed",e[e.KernelPult=30]="KernelPult",e[e.MeteorFlower=31]="MeteorFlower",e[e.SpringBean=32]="SpringBean",e[e.UmbrellaLeaf=33]="UmbrellaLeaf",e[e.MelonPult=34]="MelonPult",e[e.WinterMelon=35]="WinterMelon",e[e.Blover=36]="Blover",e[e.Spikeweed=37]="Spikeweed",e[e.Spikerock=38]="Spikerock",e[e.Chomper=39]="Chomper",e[e.GlacierShroom=40]="GlacierShroom",e[e.PrimalWallnut=41]="PrimalWallnut",e[e.Buttercup=42]="Buttercup",e[e.BananaLauncher=43]="BananaLauncher",e[e.MissileToe=44]="MissileToe",e[e.CherryBomb=45]="CherryBomb",e[e.DoomShroom=46]="DoomShroom",e[e.CranJelly=47]="CranJelly",e[e.BabyDragonbruit=48]="BabyDragonbruit",e[e.Torchwood=49]="Torchwood",e[e.Jalapeno=50]="Jalapeno",e[e.PuffShroom=51]="PuffShroom",e[e.GloomVine=52]="GloomVine",e[e.Vamporcini=53]="Vamporcini",e[e.PrimalPotatoMine=54]="PrimalPotatoMine",e[e.Cactus=55]="Cactus",e[e.PowerLily=56]="PowerLily",e[e.CoconutCannon=57]="CoconutCannon",e[e.PeaPod=58]="PeaPod",e[e.SnapDragon=59]="SnapDragon",e[e.GatlingPea=60]="GatlingPea",e[e.SplitPea=61]="SplitPea",e[e.ChiliBean=62]="ChiliBean",e[e.Tallnut=63]="Tallnut",e[e.Hurrikale=64]="Hurrikale",e[e.Stallia=65]="Stallia",e[e.ElectricPeashooter=66]="ElectricPeashooter",e[e.Squash=67]="Squash",e[e.GloomShroom=68]="GloomShroom",e[e.MagnifyingGrass=69]="MagnifyingGrass",e[e.amount=70]="amount",e}({})),Qr=e("plants",function(){function e(){}return e.getPlantsInCard=function(e){switch(e){case Yr.Peashooter:return this.plantRes.Peashooter;case Yr.Sunflower:return this.plantRes.Sunflower;case Yr.Wallnut:return this.plantRes.Wallnut;case Yr.PotatoMine:return this.plantRes.PotatoMine;case Yr.CabbagePult:return this.plantRes.CabbagePult;case Yr.Bloomerang:return this.plantRes.Bloomerang;case Yr.IcebergLettuce:return this.plantRes.IcebergLettuce;case Yr.BonkChoy:return this.plantRes.BonkChoy;case Yr.Reapeater:return this.plantRes.Reapeater;case Yr.MegaGatlingPea:return this.plantRes.MegaGatlingPea;case Yr.ScaredyShroom:return this.plantRes.ScaredyShroom;case Yr.FumeShroom:return this.plantRes.FumeShroom;case Yr.GraveBuster:return this.plantRes.GraveBuster;case Yr.Pumpkin:return this.plantRes.Pumpkin;case Yr.PeaVine:return this.plantRes.PeaVine;case Yr.FloawerPot:return this.plantRes.FloawerPot;case Yr.FirePeashooter:return this.plantRes.FirePeashooter;case Yr.ThreePeater:return this.plantRes.ThreePeater;case Yr.PrimalPea:return this.plantRes.PrimalPea;case Yr.Rotobaga:return this.plantRes.Rotobaga;case Yr.HomingThistle:return this.plantRes.HomingThistle;case Yr.StarFruit:return this.plantRes.StarFruit;case Yr.ShootingStarfruit:return this.plantRes.ShootingStarfruit;case Yr.LilyPad:return this.plantRes.LilyPad;case Yr.SunShroom:return this.plantRes.SunShroom;case Yr.TwinSunflower:return this.plantRes.TwinSunflower;case Yr.Dragonbruit:return this.plantRes.Dragonbruit;case Yr.Moonflower:return this.plantRes.Moonflower;case Yr.SnowPea:return this.plantRes.SnowPea;case Yr.LightningReed:return this.plantRes.LightningReed;case Yr.KernelPult:return this.plantRes.KernelPult;case Yr.MeteorFlower:return this.plantRes.MeteorFlower;case Yr.SpringBean:return this.plantRes.SpringBean;case Yr.UmbrellaLeaf:return this.plantRes.UmbrellaLeaf;case Yr.MelonPult:return this.plantRes.MelonPult;case Yr.WinterMelon:return this.plantRes.WinterMelon;case Yr.Blover:return this.plantRes.Blover;case Yr.Spikeweed:return this.plantRes.Spikeweed;case Yr.Spikerock:return this.plantRes.Spikerock;case Yr.Chomper:return this.plantRes.Chomper;case Yr.GlacierShroom:return this.plantRes.GlacierShroom;case Yr.PrimalWallnut:return this.plantRes.PrimalWallnut;case Yr.Buttercup:return this.plantRes.Buttercup;case Yr.BananaLauncher:return this.plantRes.BananaLauncher;case Yr.MissileToe:return this.plantRes.MissileToe;case Yr.CherryBomb:return this.plantRes.CherryBomb;case Yr.DoomShroom:return this.plantRes.DoomShroom;case Yr.CranJelly:return this.plantRes.CranJelly;case Yr.BabyDragonbruit:return this.plantRes.BabyDragonbruit;case Yr.Torchwood:return this.plantRes.Torchwood;case Yr.Jalapeno:return this.plantRes.Jalapeno;case Yr.PuffShroom:return this.plantRes.PuffShroom;case Yr.GloomVine:return this.plantRes.GloomVine;case Yr.Vamporcini:return this.plantRes.Vamporcini;case Yr.PrimalPotatoMine:return this.plantRes.PrimalPotatoMine;case Yr.Cactus:return this.plantRes.Cactus;case Yr.PowerLily:return this.plantRes.PowerLily;case Yr.CoconutCannon:return this.plantRes.CoconutCannon;case Yr.PeaPod:return this.plantRes.PeaPod;case Yr.SnapDragon:return this.plantRes.SnapDragon;case Yr.GatlingPea:return this.plantRes.GatlingPea;case Yr.SplitPea:return this.plantRes.SplitPea;case Yr.ChiliBean:return this.plantRes.ChiliBean;case Yr.Tallnut:return this.plantRes.Tallnut;case Yr.Hurrikale:return this.plantRes.Hurrikale;case Yr.Stallia:return this.plantRes.Stallia;case Yr.ElectricPeashooter:return this.plantRes.ElectricPeashooter;case Yr.Squash:return this.plantRes.Squash;case Yr.GloomShroom:return this.plantRes.GloomShroom;case Yr.MagnifyingGrass:return this.plantRes.MagnifyingGrass;default:return this.plantRes.Peashooter}},e.getPlantFeature=function(e){return e<this.plantRes.PlantFeatures.length&&e>=0?this.plantRes.PlantFeatures[e]:this.plantRes.PlantFeatures[0]},e.getPlantEnumByString=function(e){var r=-1;return this.plantRes.PlantFeatures.forEach((function(t,n){-1==r&&t.CODENAME==e&&(r=n)})),-1==r&&(r=0),r},e.getPlantByRTID=function(e){var r=e.concat(),t=r.indexOf("RTID("),n=r.indexOf("@PlantTypes)"),a="";return-1!=t&&(a=r.slice(t+5,n)),this.getPlantEnumByString(a)},e}());Qr.plantRes=void 0;e("PlantFeature",(function(){this.ID=-1,this.SUNCOST=0,this.NAME="",this.PLANTTYPE="",this.CODENAME="",this.OBTAINWORLD="",this.FAMILY="",this.COOLDOWN=5,this.COOLDOWNFROM=0,this.TOUGHNESS=3.14159,this.TYPE=[],this.BRIEFINTRODUCTION=""})),e("Plants",(p=jr("Plants"),c=xr(s),b=xr(s),h=xr(s),m=xr(s),g=xr(s),P=xr(s),f=xr(s),w=xr(s),S=xr(s),y=xr(s),R=xr(s),z=xr(s),B=xr(s),C=xr(s),M=xr(s),d=xr(s),T=xr(s),F=xr(s),L=xr(s),G=xr(s),k=xr(s),D=xr(s),v=xr(s),W=xr(s),E=xr(s),O=xr(s),J=xr(s),V=xr(s),I=xr(s),H=xr(s),N=xr(s),A=xr(s),U=xr(s),q=xr(s),K=xr(s),_=xr(s),j=xr(s),x=xr(s),Y=xr(s),Q=xr(s),X=xr(s),Z=xr(s),$=xr(s),ee=xr(s),re=xr(s),te=xr(s),ne=xr(s),ae=xr(s),ie=xr(s),le=xr(s),oe=xr(s),ue=xr(s),se=xr(s),pe=xr(s),ce=xr(s),be=xr(s),he=xr(s),me=xr(s),ge=xr(s),Pe=xr(s),fe=xr(s),we=xr(s),Se=xr(s),ye=xr(s),Re=xr(s),ze=xr(s),Be=xr(s),Ce=xr(s),Me=xr(s),de=xr(s),Te=xr(o),p((Ge=r((Le=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return r=e.call.apply(e,[this].concat(i))||this,n(r,"Peashooter",Ge,a(r)),n(r,"Sunflower",ke,a(r)),n(r,"Wallnut",De,a(r)),n(r,"PotatoMine",ve,a(r)),n(r,"CabbagePult",We,a(r)),n(r,"Bloomerang",Ee,a(r)),n(r,"IcebergLettuce",Oe,a(r)),n(r,"BonkChoy",Je,a(r)),n(r,"Reapeater",Ve,a(r)),n(r,"MegaGatlingPea",Ie,a(r)),n(r,"ScaredyShroom",He,a(r)),n(r,"FumeShroom",Ne,a(r)),n(r,"GraveBuster",Ae,a(r)),n(r,"Pumpkin",Ue,a(r)),n(r,"PeaVine",qe,a(r)),n(r,"FloawerPot",Ke,a(r)),n(r,"FirePeashooter",_e,a(r)),n(r,"ThreePeater",je,a(r)),n(r,"PrimalPea",xe,a(r)),n(r,"Rotobaga",Ye,a(r)),n(r,"HomingThistle",Qe,a(r)),n(r,"StarFruit",Xe,a(r)),n(r,"ShootingStarfruit",Ze,a(r)),n(r,"LilyPad",$e,a(r)),n(r,"SunShroom",er,a(r)),n(r,"TwinSunflower",rr,a(r)),n(r,"Dragonbruit",tr,a(r)),n(r,"Moonflower",nr,a(r)),n(r,"SnowPea",ar,a(r)),n(r,"LightningReed",ir,a(r)),n(r,"KernelPult",lr,a(r)),n(r,"MeteorFlower",or,a(r)),n(r,"SpringBean",ur,a(r)),n(r,"UmbrellaLeaf",sr,a(r)),n(r,"MelonPult",pr,a(r)),n(r,"WinterMelon",cr,a(r)),n(r,"Blover",br,a(r)),n(r,"Spikeweed",hr,a(r)),n(r,"Spikerock",mr,a(r)),n(r,"Chomper",gr,a(r)),n(r,"GlacierShroom",Pr,a(r)),n(r,"PrimalWallnut",fr,a(r)),n(r,"Buttercup",wr,a(r)),n(r,"BananaLauncher",Sr,a(r)),n(r,"MissileToe",yr,a(r)),n(r,"CherryBomb",Rr,a(r)),n(r,"DoomShroom",zr,a(r)),n(r,"CranJelly",Br,a(r)),n(r,"BabyDragonbruit",Cr,a(r)),n(r,"Torchwood",Mr,a(r)),n(r,"Jalapeno",dr,a(r)),n(r,"PuffShroom",Tr,a(r)),n(r,"GloomVine",Fr,a(r)),n(r,"Vamporcini",Lr,a(r)),n(r,"PrimalPotatoMine",Gr,a(r)),n(r,"Cactus",kr,a(r)),n(r,"PowerLily",Dr,a(r)),n(r,"CoconutCannon",vr,a(r)),n(r,"PeaPod",Wr,a(r)),n(r,"SnapDragon",Er,a(r)),n(r,"GatlingPea",Or,a(r)),n(r,"SplitPea",Jr,a(r)),n(r,"ChiliBean",Vr,a(r)),n(r,"Tallnut",Ir,a(r)),n(r,"Hurrikale",Hr,a(r)),n(r,"Stallia",Nr,a(r)),n(r,"ElectricPeashooter",Ar,a(r)),n(r,"Squash",Ur,a(r)),n(r,"GloomShroom",qr,a(r)),n(r,"MagnifyingGrass",Kr,a(r)),n(r,"CardsFeatureJson",_r,a(r)),r.PlantFeatures=[],r}return t(r,e),r.prototype.onLoad=function(){Qr.plantRes=this;var e=JSON.stringify(this.CardsFeatureJson);this.PlantFeatures=JSON.parse(e).json.PLANTS},r}(u)).prototype,"Peashooter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=r(Le.prototype,"Sunflower",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=r(Le.prototype,"Wallnut",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=r(Le.prototype,"PotatoMine",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=r(Le.prototype,"CabbagePult",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=r(Le.prototype,"Bloomerang",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=r(Le.prototype,"IcebergLettuce",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=r(Le.prototype,"BonkChoy",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=r(Le.prototype,"Reapeater",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=r(Le.prototype,"MegaGatlingPea",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=r(Le.prototype,"ScaredyShroom",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=r(Le.prototype,"FumeShroom",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=r(Le.prototype,"GraveBuster",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=r(Le.prototype,"Pumpkin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=r(Le.prototype,"PeaVine",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=r(Le.prototype,"FloawerPot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=r(Le.prototype,"FirePeashooter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=r(Le.prototype,"ThreePeater",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=r(Le.prototype,"PrimalPea",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=r(Le.prototype,"Rotobaga",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=r(Le.prototype,"HomingThistle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=r(Le.prototype,"StarFruit",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=r(Le.prototype,"ShootingStarfruit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=r(Le.prototype,"LilyPad",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er=r(Le.prototype,"SunShroom",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rr=r(Le.prototype,"TwinSunflower",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr=r(Le.prototype,"Dragonbruit",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nr=r(Le.prototype,"Moonflower",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ar=r(Le.prototype,"SnowPea",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir=r(Le.prototype,"LightningReed",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr=r(Le.prototype,"KernelPult",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or=r(Le.prototype,"MeteorFlower",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur=r(Le.prototype,"SpringBean",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sr=r(Le.prototype,"UmbrellaLeaf",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=r(Le.prototype,"MelonPult",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cr=r(Le.prototype,"WinterMelon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br=r(Le.prototype,"Blover",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hr=r(Le.prototype,"Spikeweed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mr=r(Le.prototype,"Spikerock",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gr=r(Le.prototype,"Chomper",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pr=r(Le.prototype,"GlacierShroom",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fr=r(Le.prototype,"PrimalWallnut",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wr=r(Le.prototype,"Buttercup",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sr=r(Le.prototype,"BananaLauncher",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yr=r(Le.prototype,"MissileToe",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr=r(Le.prototype,"CherryBomb",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zr=r(Le.prototype,"DoomShroom",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Br=r(Le.prototype,"CranJelly",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Cr=r(Le.prototype,"BabyDragonbruit",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Mr=r(Le.prototype,"Torchwood",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),dr=r(Le.prototype,"Jalapeno",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Tr=r(Le.prototype,"PuffShroom",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Fr=r(Le.prototype,"GloomVine",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Lr=r(Le.prototype,"Vamporcini",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Gr=r(Le.prototype,"PrimalPotatoMine",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),kr=r(Le.prototype,"Cactus",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Dr=r(Le.prototype,"PowerLily",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),vr=r(Le.prototype,"CoconutCannon",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Wr=r(Le.prototype,"PeaPod",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Er=r(Le.prototype,"SnapDragon",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Or=r(Le.prototype,"GatlingPea",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Jr=r(Le.prototype,"SplitPea",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Vr=r(Le.prototype,"ChiliBean",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Ir=r(Le.prototype,"Tallnut",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Hr=r(Le.prototype,"Hurrikale",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Nr=r(Le.prototype,"Stallia",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Ar=r(Le.prototype,"ElectricPeashooter",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Ur=r(Le.prototype,"Squash",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),qr=r(Le.prototype,"GloomShroom",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),Kr=r(Le.prototype,"MagnifyingGrass",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),_r=r(Le.prototype,"CardsFeatureJson",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=Le))||Fe));i._RF.pop()}}}));

System.register("chunks:///_virtual/plantSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./NodePools.ts"],(function(o){var n,t,e,u,r,i,a;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,u=o.AudioSource,r=o.Component},function(o){i=o.SoundFXController},function(o){a=o.ArrayGet}],execute:function(){var c;t._RF.push({},"895baKWY3JKkpUWgFSSyXb2","plantSound",void 0);var l=e.ccclass;e.property,o("plantSound",l("plantSound")(c=function(o){function t(){for(var n,t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];return(n=o.call.apply(o,[this].concat(e))||this).audioSource=void 0,n}n(t,o);var e=t.prototype;return e.onLoad=function(){this.getComponent(u)||this.addComponent(u),this.audioSource=this.getComponent(u)},e.playOneShot=function(o,n){void 0===n&&(n=1),o&&n>0&&this.audioSource.playOneShot(o,i.SoundFXVolume*n/this.audioSource.volume)},e.playOneShotFromArray=function(o,n){void 0===n&&(n=1),o.length&&this.audioSource.playOneShot(a.getRandom(o),i.SoundFXVolume*n/this.audioSource.volume)},e.update=function(o){this.audioSource.volume=i.SoundFXVolume},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerProperties.ts",["cc"],(function(e){var r,t;return{setters:[function(e){r=e.cclegacy,t=e.sys}],execute:function(){r._RF.push({},"e4e03O6w5BJTotU0w9qk5Av","PlayerProperties",void 0);var l=e("UserDataDocument","PvZ2_PlayerProperties"),a=e("PlayerProperties",(function(){this.worldkey=0,this.gem=0,this.coin=0,this.obtainedPlants=[],this.memorySeedChoose=[],this.difficulty=3,this.currentWM=0,this.worldChooserI=0,this.egyptWMX=0,this.pirateWMX=0,this.cowboyWMX=0})),s=e("AllPlayerProperties",function(){function e(){}return e.savePP=function(){var r=e.allPlayers.concat();t.localStorage.setItem(l,JSON.stringify(r))},e.getPlayer=function(r){var s,n=null==(s=t.localStorage)?void 0:s.getItem(l),i=[];return n&&(i=JSON.parse(n)),e.allPlayers=i,isNaN(e.allPlayers.length)||e.allPlayers.length-1<r?(e.currentPlayer=new a,e.allPlayers.push(e.currentPlayer)):e.currentPlayer=e.allPlayers[r],e.currentPlayer},e}());s.currentPlayer=new a,s.allPlayers=[],r._RF.pop()}}}));

System.register("chunks:///_virtual/PotatoMine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./LnC.ts","./CharacterManager.ts","./Square.ts","./SoundRescourses.ts","./SoundsController.ts"],(function(t){var n,o,e,i,a,r,l,s,u,d,c,h,p,g,f,m,w;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.CCFloat,s=t.AudioClip,u=t.CCInteger,d=t.AudioSource},function(t){c=t.PlantType,h=t.Plant},function(t){p=t.LnC},function(t){g=t.Rectangle},function(t){f=t.Square},function(t){m=t.sounds},function(t){w=t.SoundFXController}],execute:function(){var C,b,y,S,v,P,A,R,D,F,L,_,x;a._RF.push({},"8e90bzMJCRDvKfgEIWRnVBn","PotatoMine",void 0);var E=r.ccclass,I=r.property;t("PotatoMinePlant",(C=E("PotatoMinePlant"),b=I(l),y=I(s),S=I(s),v=I(l),P=I(u),C((D=n((R=function(t){function n(){for(var n,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"growthCountdown",D,i(n)),n.growthCountdown_=14,e(n,"foodSound",F,i(n)),e(n,"landSound",L,i(n)),n.grown=!1,e(n,"damage",_,i(n)),e(n,"maxFoodThrowAmount",x,i(n)),n.activated=!1,n.detector=void 0,n}o(n,t);var a=n.prototype;return a.specialPlantOnEnable=function(){this.activated=!1,this.grown=!1,this.growthCountdown_=this.growthCountdown,this.anmControl.playAnimation("Spawn_Baby",1),this.anmControl.IdleAnim="Idle_Baby",this.anmControl.RandomAnim=[],this.deathAnm="Death_Baby"},a.specialPlantFood=function(t){this.grown||this.grow(),this.activated=!0,this.anmControl.playAnimation("Food")},a.grow=function(){this.grown=!0,this.eatDamagable=!1,this.growSound(),this.anmControl.playAnimation("Grow",1),this.anmControl.IdleAnim="Idle",this.deathAnm="Charging"},a.growSound=function(){m.playDirtRise()},a.explodeAction=function(){this.inLnC.explodeSqudow1x1(this.damage)},a.animationListener=function(t){switch(t.name){case"activate":this.activated=!0;break;case"explode":this.explodeAction();break;case"die":this.deathAnm="",this.die();break;case"throw":this.throwChildren();break;case"foodEnd":this.foodEnd();break;case"foodSound":this.getComponent(d).playOneShot(this.foodSound,w.SoundFXVolume)}},a.throwChildren=function(){for(var t=this,n=[],o=[],e=0;e<45&&n.length<this.maxFoodThrowAmount&&n.length+o.length<45;){var i=f.getRandomSquare().getComponent(p);-1==n.indexOf(i)&&-1==o.indexOf(i)&&(i.putPlantAvailable(this.TYPE,!0,this.ID)?n.push(i):o.push(i),e++)}n.forEach((function(n){var o=t.inLnC.spawnPlantByPlantEnum(t.ID);o&&(o.judgeInLnC(),o.node.setPosition(0,0,0),t.inLnC.pushPlant(o),o.plantType=c.plant,o.anmControl.playAnimation("Flying",1/0),o.damagable=!1,o.leapTo(n,.8,200))}))},a.onLeapStart=function(){this.activated=!1},a.onLeapEnd=function(){this.grow(),this.audioSource.playOneShot(this.landSound,w.SoundFXVolume),this.anmControl.playAnimation("Spawn",1)},a.specialPlantOnSquareChange=function(t,n){this.detector=g.createRectangleNodeCenter(n.node,f.SquareDisW,f.SquareDisH)},a.detectEnemy=function(){var t,n=this,o=!1;null==(t=this.inLane)||t.zombiePool().forEach((function(t){o||t.flying||!t.plantDetectorRec.judgeCrossRec(n.bodyRec)&&!t.bodyRec.judgeCrossRec(n.detector)||(o=!0)})),o&&(this.activated=!1,this.die())},a.waterable=function(){return this.activated},a.specialPlantUpdate=function(t){this.grown||(this.growthCountdown_>0&&(this.growthCountdown_-=t),this.growthCountdown_<0&&this.grow()),this.activated&&!this.fooding&&this.detectEnemy()},n}(h)).prototype,"growthCountdown",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 14}}),F=n(R.prototype,"foodSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(R.prototype,"landSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(R.prototype,"damage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1800}}),x=n(R.prototype,"maxFoodThrowAmount",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),A=R))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/PotatoMinePrimal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PotatoMine.ts","./SoundsController.ts"],(function(o){var t,n,e,i,r;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator},function(o){i=o.PotatoMinePlant},function(o){r=o.SoundFXController}],execute:function(){var a;n._RF.push({},"7830fHqmAFNxJYmzEaUai+2","PotatoMinePrimal",void 0);var u=e.ccclass;e.property,o("PotatoMinePrimalPlant",u("PotatoMinePrimalPlant")(a=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e.explodeAction=function(){this.inLnC.explodeSpudow3x3(this.damage)},e.growSound=function(){this.audioSource.playOneShot(this.landSound,r.SoundFXVolume)},n}(i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/PowerLily.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CherryBomb.ts","./Sunflower.ts"],(function(t){var o,e,n,r,i;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){r=t.CherryBombPlant},function(t){i=t.sunflower}],execute:function(){var s;e._RF.push({},"f51283ku6ZAkLASU1ALEGbz","PowerLily",void 0);var u=n.ccclass;n.property,t("PowerLilyPlant",u("PowerLilyPlant")(s=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.animationListener=function(t){"produce"==t.name&&(this.deathAnm="Death",i.producePlantFood(this.worldPosition),this.die())},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupFingers.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UI.ts","./Square.ts","./Mouse.ts","./SoundRescourses.ts","./CharacterManager.ts","./SettingWindow.ts","./levelController.ts"],(function(t){var n,o,e,i,r,a,s,u,l,h,p,c,d,w,f,g,m,y,b,B,v,x,U;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,s=t._decorator,u=t.Button,l=t.JsonAsset,h=t.Vec3,p=t.Sprite,c=t.find,d=t.Color,w=t.tween,f=t.Component},function(t){g=t.UIInGame},function(t){m=t.Square},function(t){y=t.Mouse},function(t){b=t.sounds},function(t){B=t.ZombiePool,v=t.TombPool},function(t){x=t.SettingWindow},function(t){U=t.LevelPlay}],execute:function(){var j,P,C,I,S,D,T,M,z,O,L,R,G,N,F,k;a._RF.push({},"18097APbSZKvbjiWDz1LyEh","PowerupFingers",void 0);var E=s.ccclass,_=s.property;t("PowerupFingers",(j=E("PowerupFingers"),P=_(u),C=_(u),I=_(u),S=_(u),D=_(u),T=_(l),j(((k=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=t.call.apply(t,[this].concat(r))||this).oldPos=new h(0,0,0),e(n,"fireButton",O,i(n)),e(n,"snowButton",L,i(n)),e(n,"tossButton",R,i(n)),e(n,"zapButton",G,i(n)),e(n,"cherryButton",N,i(n)),e(n,"pupjson",F,i(n)),n.PowerUpProperties=[],n.powerUpBorder=new p,n.powerUpBG=new p,n.mousePushed=!1,n.totalTime=5,n.countDown=0,n.index=-1,n.oldAlpha=0,n}o(n,t);var a=n.prototype;return a.judgeMouseDownStart=function(){return 4==this.index&&m.lawnRec.judgeInRecP(y.position)},a.judgeMouseMoveStart=function(){if(1==this.index){var t=!1;return B.pool().forEach((function(n){t||n.bodyRec.judgeCrossLine(y.moveLine)&&(t=!0)})),t||v.pool().forEach((function(n){t||n.bodyRec.judgeCrossLine(y.moveLine)&&(t=!0)})),t}return!1},a.snowBallUpdate=function(t,n){if(this.mousePushed)for(var o=this.getObjdataByIndex(1).TimePerUse,e=Math.floor(t/o)-Math.floor(n/o),i=0;i<e;i++)this.throwOneSnowBall()},a.throwOneSnowBall=function(){n.prjManager.throwSnowBall(350,y.position.clone())},a.update=function(t){if(this.countDown>0){var n=this.countDown+0,o=Math.floor(7*this.countDown/this.totalTime);this.countDown-=t;var e=this.countDown+0;o!=Math.floor(7*this.countDown/this.totalTime)&&b.playPowerUpCD(this.countDown/this.totalTime),this.powerUpBG.fillRange=this.countDown/this.totalTime,1==this.index&&this.snowBallUpdate(n,e),this.countDown<=0&&this.tryChangingIndex(-1,null)}-5==g.index&&-1!=this.index&&this.mousePushed&&this.countDown<=0&&this.judgeMouseMoveStart()&&this.powerUpStart()},a.powerUpStart=function(){var t,n=null==(t=this.getObjdataByIndex(this.index))?void 0:t.TotalTime;this.totalTime=isNaN(n)?4:n,this.countDown=this.totalTime,this.allButtons.forEach((function(t){t.interactable=!1})),b.playPowerUpStart(this.index)},a.onMouseDown=function(t){this.mousePushed=!0,-5==g.index&&-1!=this.index&&(this.countDown<=0&&this.judgeMouseDownStart()&&this.powerUpStart(),this.countDown>0&&1==this.index&&this.throwOneSnowBall())},a.onMouseUp=function(t){this.mousePushed=!1},a.onLoad=function(){var t=JSON.stringify(this.pupjson);this.PowerUpProperties=JSON.parse(t).json.objects,this.countDown=0,n.component=this,this.oldPos=this.node.position.clone(),this.node.position=this.oldPos.clone().add3f(0,-300,0)},a.start=function(){var t,n;this.mousePushed=!1,this.powerUpBG=null==(t=c("Canvas/LawnCommon/lawnTotal/powerUpBG"))?void 0:t.getComponent(p),this.powerUpBorder=null==(n=c("Canvas/LawnCommon/lawnTotal/powerUpBorder"))?void 0:n.getComponent(p),this.tryChangingIndex(-1,null,!1)},n.gameStart=function(){var t;null==(t=n.component)||t._gameStart()},a.judgeUIIndex=function(){-5!=g.index&&this.tryChangingIndex(-1,null,!1)},a.tryChangingIndex=function(t,n,o){if(void 0===o&&(o=!0),!(this.countDown>0))switch(t){case 0:case 1:case 2:case 3:case 4:if(!n||t==this.index){this.tryChangingIndex(-1,null);break}o&&-5!=g.index&&g.uiingame.tryChangingIndex(-5),this.index=t;var e=n.BoardTimerColor;this.powerUpBG.color=new d(e.mRed,e.mGreen,e.mBlue,e.mAlpha),this.powerUpBorder.color=new d(e.mRed,e.mGreen,e.mBlue,255);break;default:this.allButtons.forEach((function(t){t.interactable=!0})),this.index=-1,this.powerUpBG.color=new d(255,255,255,0),this.powerUpBorder.color=new d(255,255,255,0),o&&g.uiingame.tryChangingIndex(-1),this.powerUpBG.fillRange=1}},a.getObjdataByIndex=function(t){var n=null;return this.PowerUpProperties.forEach((function(o){var e,i,r,a,s;n||(0==t&&"powerupflamethrower"==(null==o||null==(e=o.objdata)?void 0:e.TypeName)||1==t&&"powerupsnowball"==(null==o||null==(i=o.objdata)?void 0:i.TypeName)||2==t&&"powerupflickzombie"==(null==o||null==(r=o.objdata)?void 0:r.TypeName)||3==t&&"powerupwizardfinger"==(null==o||null==(a=o.objdata)?void 0:a.TypeName)||4==t&&"powerupcherrybomb"==(null==o||null==(s=o.objdata)?void 0:s.TypeName))&&(n=o.objdata)})),n},a.powerUpFlame=function(){var t=this.getObjdataByIndex(0);this.tryChangingIndex(0,t)},a.powerUpSnow=function(){var t=this.getObjdataByIndex(1);this.tryChangingIndex(1,t)},a.powerUpToss=function(){var t=this.getObjdataByIndex(2);this.tryChangingIndex(2,t)},a.powerUpZap=function(){var t=this.getObjdataByIndex(3);this.tryChangingIndex(3,t)},a.powerUpCherry=function(){var t=this.getObjdataByIndex(4);this.tryChangingIndex(4,t)},a._gameStart=function(){(x.allowCheat||U.component.PowerUpsForceShow)&&w(this.node).to(.3,{position:this.oldPos},{easing:"cubicOut"}).start()},r(n,[{key:"allButtons",get:function(){return[this.fireButton,this.snowButton,this.tossButton,this.zapButton,this.cherryButton]}}],[{key:"uiIndexLocked",get:function(){return this.component.countDown>0}}]),n}(f)).prjManager=void 0,k.component=void 0,O=n((z=k).prototype,"fireButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(z.prototype,"snowButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(z.prototype,"tossButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(z.prototype,"zapButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(z.prototype,"cherryButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(z.prototype,"pupjson",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=z))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/preSplashScene.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,c,o;return{setters:[function(e){n=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator,c=e.director,o=e.Component}],execute:function(){var s;r._RF.push({},"6e631wnaMVDZL2Rx3CcISnG","preSplashScene",void 0);var p=t.ccclass;t.property,e("preSplashScene",p("preSplashScene")(s=function(e){function r(){return e.apply(this,arguments)||this}return n(r,e),r.prototype.start=function(){c.loadScene("splashScene")},r}(o))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/PrimalPeashooter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./commonShot.ts","./NodePools.ts","./SoundsController.ts","./Zombie.ts"],(function(o){var t,n,e,i,a,r,s,u,l,c,h,d,f,p;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,s=o.AudioClip,u=o.Size,l=o.AudioSource},function(o){c=o.PeashooterPlant},function(o){h=o.SplashDamage},function(o){d=o.ArrayGet},function(o){f=o.SoundFXController},function(o){p=o.zombiePoison}],execute:function(){var m,P,S,y,g;a._RF.push({},"47ba7dMXhNDu4+WxuxwF5lY","PrimalPeashooter",void 0);var C=r.ccclass,b=r.property;o("PrimalPeashooterPlant",(m=C("PrimalPeashooter"),P=b([s]),m((g=t((y=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this).foodCount=0,e(t,"foodShootSound",g,i(t)),t}n(t,o);var a=t.prototype;return a.shotInitialize=function(o){if(this.fooding)o.setKnockBack(1),o.setDamage(100),o.setSplashDamages([new h(100,new u(2,1),0,0,0,new p(0,0),3,1)]),o.setStun(3);else{var t=Math.round(Math.random());o.setKnockBack(t),o.setStun(1-t)}},a.specialPlantFood=function(){this.foodCount=0,this.anmControl.playAnimation("Food",1/0),this.busy=1/0},a.animationListenerAdd=function(o){"shootFood"==o.name&&(this._shoot(),this.getComponent(l).playOneShot(d.getRandom(this.foodShootSound),f.SoundFXVolume),++this.foodCount>=this.foodPeaMaxCount&&this.foodEnd())},a.specialPlantOnEnable=function(){this.initialize(),this.foodCount=0},t}(c)).prototype,"foodShootSound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=y))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/PrimalWallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts"],(function(t){var i,l,s,a;return{setters:[function(t){i=t.inheritsLoose},function(t){l=t.cclegacy,s=t._decorator},function(t){a=t.WallNutPlant}],execute:function(){var e;l._RF.push({},"66600o+bKNIBIyIoFQGsqb0","PrimalWallNut",void 0);var r=s.ccclass;s.property,t("PrimalWallNutPlant",r("PrimalWallNutPlant")(e=function(t){function l(){return t.apply(this,arguments)||this}return i(l,t),l.prototype.normalSmash=function(t){if(!this.fooding&&!this.invincible)if(this.armorHealth>0)this.armorHealth=0,this.foodable=!0,this.setArmor();else if(this.hurtStage<3){for(var i=this.health+0;i-this.toughness/4>0;)i-=this.toughness/4;this.dealNormalDamage(i)}else this.die()},l}(a))||e);l._RF.pop()}}}));

System.register("chunks:///_virtual/Prizes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,n,t,o,c,a,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Prefab,s=e.Component}],execute:function(){var u,l,p,f,b;o._RF.push({},"f36f0SuWO5FcKaAAqnkCjmU","Prizes",void 0);var g=c.ccclass,h=c.property,y=e("prizeRes",function(){function e(){}return e.coinbag=function(){return this.res.coinbag},e}());y.res=void 0;e("Prizes",(u=g("Prizes"),l=h(a),u((b=r((f=function(e){function r(){for(var r,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o))||this,n(r,"coinbag",b,t(r)),r}return i(r,e),r.prototype.onLoad=function(){y.res=this},r}(s)).prototype,"coinbag",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Character.ts","./NodePools.ts","./CabbagePult.ts","./Square.ts","./SoundRescourses.ts","./PowerupFingers.ts"],(function(e){var n,o,t,r,a,i,l,s,c,u,p,f,g,m,d,y,h,b,w;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.Prefab,s=e.AudioClip,c=e.Vec3,u=e.Component},function(e){p=e.commonShot,f=e.ProjectileEnemyType},function(e){g=e.CharacterType},function(e){m=e.NodePools,d=e.ArrayGet},function(e){y=e.cabbagePult},function(e){h=e.Square},function(e){b=e.sounds},function(e){w=e.PowerupFingers}],execute:function(){var P,j,v,S,C,T,B;a._RF.push({},"e2a4aMwVmVCUL8xjgLJS6yF","ProjectileManager",void 0);var L=i.ccclass,z=i.property,M=e("projectile",function(){function e(){}return e.disableProjectile=function(e){var n=this.manager,o=n.prjs.indexOf(e);-1!=o&&n.prjs.splice(o,1)},e.registerProjectile=function(e,n,o){var t=this.manager;if(e.getComponent(p)){var r=e.getComponent(p);n==g.plant?r.enemyType=f.plant:n==g.zombie?r.enemyType=f.zombie:r.enemyType=f.none,-1==t.prjs.indexOf(e)&&t.prjs.push(e)}},e}());M.manager=void 0;e("ProjectileManager",(P=L("ProjectileManager"),j=z(l),v=z([s]),P((T=n((C=function(e){function n(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).prjs=[],t(n,"snowBall",T,r(n)),t(n,"snowBallThrowSound",B,r(n)),n}o(n,e);var a=n.prototype;return a.onLoad=function(){M.manager=this,w.prjManager=this},a.throwSnowBall=function(e,n){var o,t=m.instantiatePooly(this.snowBall),r=h.getLaneComponent(2),a=y.lobOneCabbageOnPos(t,new c(r.toLeft.worldPosition.x,r.floorY,100),10,r.prjLayer,n,9,g.zombie,13,40);null==(o=a.db)||o.playAnimation(d.getRandom(["Idle","Idle1","Idle2"])),a.setDamage(e),b.play(d.getRandom(this.snowBallThrowSound))},n}(u)).prototype,"snowBall",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=n(C.prototype,"snowBallThrowSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=C))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/PuffShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./CharacterManager.ts","./peaShooterSound.ts","./Square.ts","./puffShroomSound.ts"],(function(o){var t,n,e,i,a,r,l,s,f,c,u,h,d,p,m;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.createClass},function(o){r=o.cclegacy,l=o._decorator,s=o.CCFloat,f=o.Color},function(o){c=o.PeashooterPlant},function(o){u=o.PlantPool,h=o.Rectangle},function(o){d=o.peaShooterSound},function(o){p=o.Square},function(o){m=o.puffShroomSound}],execute:function(){var S,C,g,D,y;r._RF.push({},"34ee0ldRRtFW6EvDX/mfEQ7","PuffShroom",void 0);var P=l.ccclass,v=l.property;o("PuffShroomPlant",(S=P("PuffShroomPlant"),C=v(s),S((y=t((D=function(o){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=o.call.apply(o,[this].concat(a))||this).foodDuration=0,e(t,"lifeSpan",y,i(t)),t._lifeCD=60,t}n(t,o);var r=t.prototype;return r.specialPlantFood=function(o){var n=this;void 0===o&&(o=!0),o&&(this.getComponent(d).playFood(),u.pool().concat().forEach((function(o){if(!o.fooding&&o.node.name==n.node.name){var e=o.getComponent(t),i=e.inLnC.cIndex-n.inLnC.cIndex,a=e.inLnC.lIndex-n.inLnC.lIndex,r=Math.sqrt(i*i+a*a);e.foodDuration=r/8,e.food(!1)}}))),this.lifeCD=this.lifeSpan,this.anmControl.playAnimation("FoodStart",2,0,1/(this.foodDuration+.05))},r.setDetecter=function(o,t){this.detector=h.createRectangleNodeSide(t.node,3.5*p.SquareDisW,p.SquareDisH)},r.shotInitialize=function(o){o.maxDistance_=4},r.specialPeashooterUpdate=function(o){this.fooding||(this.lifeCD-=o)},r.specialPeashooterOnEnable=function(){this.lifeCD=this.lifeSpan,this.deathAnm="Death"},r.specialPlantFoodEnd=function(){this.anmControl.playAnimation("FoodEnd",1)},r.animationListenerAdd=function(o){"toFooding"==o.name&&(this.anmControl.playAnimation("Fooding",1/0,0,1),this.foodShooting())},a(t,[{key:"lifeCD",get:function(){return this._lifeCD},set:function(o){var t,n=0;if(this._lifeCD=o,o<=0)return this.deathAnm="Fade",this.getComponent(m).playFadeSound(),void this.die();for(n=0;n<3&&!(o>this.lifeSpan/3*n&&o<=this.lifeSpan/3*(n+1));n++);null==(t=this.anmControl.body.armature().getSlot("head"))||t._setDisplayIndex(2-n);var e=1==(!this.fooding&&o<10&&o>0&&Math.floor(4*o)%4)?100:255,i=this.anmControl.body.color.clone();this.anmControl.body.color=new f(i.r,i.g,i.b,e)}}]),t}(c)).prototype,"lifeSpan",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),g=D))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/puffShroomSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./peaShooterSound.ts","./NodePools.ts"],(function(o){var t,e,n,r,i,u,a,s,d;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){i=o.cclegacy,u=o._decorator,a=o.AudioClip},function(o){s=o.peaShooterSound},function(o){d=o.ArrayGet}],execute:function(){var f,p,c,l,S,h,y;i._RF.push({},"ad057XU3pFDDo6YHtUHYiqf","puffShroomSound",void 0);var m=u.ccclass,g=u.property;o("puffShroomSound",(f=m("puffShroomSound"),p=g([a]),c=g([a]),f((h=t((S=function(o){function t(){for(var t,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return t=o.call.apply(o,[this].concat(i))||this,n(t,"foodStartSounds",h,r(t)),n(t,"fadeSounds",y,r(t)),t}e(t,o);var i=t.prototype;return i.playFood=function(){this.playOneShot(d.getRandom(this.foodStartSounds))},i.playFadeSound=function(){this.playOneShot(d.getRandom(this.fadeSounds))},t}(s)).prototype,"foodStartSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=t(S.prototype,"fadeSounds",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=S))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/Pumpkin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts","./wallnutSound.ts"],(function(t){var n,i,e,o,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){o=t.WallNutPlant},function(t){a=t.wallnutSound}],execute:function(){var s;i._RF.push({},"4a226yglb9CeIyVMLO4Q5/8","Pumpkin",void 0);var l=e.ccclass;e.property,t("PumpkinPlant",l("PumpkinPlant")(s=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var e=i.prototype;return e.onDamaged=function(t,n,i){for(var e=1;e<=3;e++)n>=this.toughness/3*e&&i<=this.toughness/3*e&&this.setAnimation(3-e)},e.specialPlantFood=function(t){this.armorHealth=this.armorToughness,this.foodable=!1,this.setArmor(0),this.setAnimation(),this.getComponent(a).playFoodSound(),this.foodEnd()},e.setAnimation=function(t){void 0===t&&(t=0),this.deathAnm="";var n,i=this.anmControl;switch(i.RandomAnim=[],this.hurtStage=t,t){case 1:i.IdleAnim="Idle2";break;case 2:i.IdleAnim="Idle3";break;default:i.IdleAnim="Idle1",this.hurtStage=0}this.dead||(i.playRandom(),this.replantable()&&(null==(n=this.inLnC)||n.readIndex()))},i}(o))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/railway.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts"],(function(t){var r,n,a,i;return{setters:[function(t){r=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator},function(t){i=t.Tile}],execute:function(){var e;n._RF.push({},"8e662qRxuJEY6bPNsUBbW5R","railway",void 0);var c=a.ccclass;a.property,t("railway",c("railway")(e=function(t){function n(){for(var r,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=t.call.apply(t,[this].concat(a))||this).pos=1,r.carts=[],r.group=[],r}r(n,t);var a=n.prototype;return a.haveCartInLnC=function(t){for(var r=0;r<this.carts.length;r++)if(this.carts[r].inLnC==t)return this.carts[r];return null},a.tileOnEnable=function(){this.group=[]},a.specialOnLoad=function(){this.carts=[]},n}(i))||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/Repeater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./peaShooterSound.ts"],(function(t){var o,e,n,a,i,r,s,l,p,c,u;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,s=t.Prefab,l=t.tween,p=t.dragonBones},function(t){c=t.PeashooterPlant},function(t){u=t.peaShooterSound}],execute:function(){var h,f,d,m,y;i._RF.push({},"0ce4bS4im9AmLSjGLyc0BdI","Repeater",void 0);var g=r.ccclass,P=r.property;t("RepeaterPlant",(h=g("RepeaterPlant"),f=P(s),h((y=o((m=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return o=t.call.apply(t,[this].concat(i))||this,n(o,"peaMega",y,a(o)),o}e(o,t);var i=o.prototype;return i.specialPlantFood=function(){var t=this;this.anmControl.playAnimation("Food",1/0),this.getComponent(u).playFood(),this.busy=1/0,this._foodLeftPeaCount=this.foodPeaMaxCount;var o=this.getComponent(c);l(o).to(2,{foodLeftPeaCount:0}).call((function(){t.anmControl.playAnimation("FoodBig",1),t.anmControl.body.once(p.EventObject.COMPLETE,t.foodEnd,t)})).start()},i.animationListener=function(t){"Shoot"==t.name&&this._shoot(),"shootMega"==t.name&&(this._shoot(!1,!1,this.peaMega),this.getComponent(u).playShootMega()),"ShootSound"==t.name&&this.getComponent(u).playShootSound()},o}(c)).prototype,"peaMega",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Rotobaga.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./NodePools.ts","./Character.ts","./commonShot.ts","./Square.ts","./rotobagaSound.ts","./CharacterManager.ts"],(function(o){var t,n,e,a,i,r,s,c,h,u,l,d,p,f,m,y,S,g,P,C;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,a=o.assertThisInitialized},function(o){i=o.cclegacy,r=o._decorator,s=o.Prefab,c=o.Vec2,h=o.Vec3,u=o.HALF_PI},function(o){l=o.peaShooter,d=o.PeashooterPlant},function(o){p=o.NodePools},function(o){f=o.CharacterType},function(o){m=o.commonShot},function(o){y=o.Square},function(o){S=o.rotobagaSound},function(o){g=o.Rectangle,P=o.ZombiePool,C=o.TombPool}],execute:function(){var w,v,b,L,D;i._RF.push({},"7c365RLDvtKUKsmFwtGwl+1","Rotobaga",void 0);var M=r.ccclass,R=r.property;o("RotobagaPlant",(w=M("Rotobaga"),v=R(s),w((D=t((L=function(o){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=o.call.apply(o,[this].concat(i))||this).detectors=[],e(t,"peaMega",D,a(t)),t}n(t,o);var i=t.prototype;return i._shootX=function(o,t,n,e){void 0===o&&(o=new c(1,1)),void 0===t&&(t=!1),void 0===n&&(n=this.pea),void 0===e&&(e=15);var a=0;t&&(a=Math.round(5*Math.random())-2.5),e=15+a;var i=new c(y.SquareDisW*o.x+2*a,y.SquareDisH*o.y).normalize().multiplyScalar(e),r=p.instantiatePooly(n);if(r){var s=l.shootOnePea(r,new h(this.peaSpawnpoint.worldPosition.x,this.inLnC.plantPoint.worldPosition.y,0),Math.max(1,this.peaSpawnpoint.worldPosition.y-this.inLnC.plantPoint.worldPosition.y),this.inLane.prjLayer,i,f.zombie).getComponent(m);this.inLnC.havePeaBuff&&s.addPeaBuff()}},i.onFoodLeftPeaCountDec=function(){var o=this;[new c(1,1),new c(-1,1),new c(1,-1),new c(-1,-1)].forEach((function(t){o._shootX(t,!0,o.peaMega)}))},i.setDetecter=function(o,t){this.detectors=[],this.detectors.push(g.createRectangleNodeCenter(t.node,16*y.SquareDisW,30,90*Math.atan2(y.SquareDisH,y.SquareDisW)/u),g.createRectangleNodeCenter(t.node,16*y.SquareDisW,30,90*Math.atan2(-y.SquareDisH,y.SquareDisW)/u))},i.specialPlantFoodEnd=function(){this.getComponent(S).playFoodEnd(),this.busy=0},i.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.getComponent(S).playFood(),this.busy=1/0},i.detectEnemy=function(){var o=this,t=!1;return this.detectors.forEach((function(n){t||(P.pool().forEach((function(o){t||n.judgeCrossRec(o.bodyRec)&&(t=!0)})),C.pool().forEach((function(n){t||Math.abs(n.inLnC.cIndex-o.inLnC.cIndex)==Math.abs(n.inLnC.lIndex-o.inLnC.lIndex)&&(t=!0)})))})),t},i._shootPeaAnimation=function(){this.getComponent(S).playBreath(),this.anmControl.playAnimation("Shoot",1,.1,Math.max(1.35/this.shootInterval,1))},i.animationListener=function(o){var t=this;"Shoot"==o.name&&[new c(1,1),new c(-1,1),new c(1,-1),new c(-1,-1)].forEach((function(o){t._shootX(o,!1)})),"ShootSound"==o.name&&this.getComponent(S).playShootSound(),"shootStart"==o.name&&(this.getComponent(S).playFoodShoot(),this.foodShooting()),"shootEnd"==o.name&&this.foodEnd()},t}(d)).prototype,"peaMega",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=L))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/rotobagaSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./plantSound.ts"],(function(o){var t,n,e,i,r,a,u,l,d;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,u=o.AudioClip},function(o){l=o.ArrayGet},function(o){d=o.plantSound}],execute:function(){var c,s,h,p,S,f,y,b,g,m,v,z,F;r._RF.push({},"2d9e91fGxtJZIwmH6DWzHsQ","rotobagaSound",void 0);var w=a.ccclass,R=a.property;o("rotobagaSound",(c=w("rotobagaSound"),s=R(u),h=R([u]),p=R([u]),S=R([u]),f=R([u]),c((g=t((b=function(o){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=o.call.apply(o,[this].concat(r))||this,e(t,"foodSound",g,i(t)),e(t,"shootSound",m,i(t)),e(t,"breathSound",v,i(t)),e(t,"foodEndSound",z,i(t)),e(t,"shootFoodSound",F,i(t)),t.volumeScale=.5,t}n(t,o);var r=t.prototype;return r.playFood=function(){this.playOneShot(this.foodSound,this.volumeScale)},r.playBreath=function(){this.playOneShot(l.getRandom(this.breathSound),this.volumeScale)},r.playFoodEnd=function(){this.playOneShot(l.getRandom(this.foodEndSound),this.volumeScale)},r.playShootSound=function(){this.playOneShot(l.getRandom(this.shootSound),this.volumeScale)},r.playFoodShoot=function(){this.playOneShot(l.getRandom(this.shootFoodSound),this.volumeScale)},t}(d)).prototype,"foodSound",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(b.prototype,"shootSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(b.prototype,"breathSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(b.prototype,"foodEndSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(b.prototype,"shootFoodSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=b))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/SandBoxLevelSettingWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levelController.ts","./SettingWindow.ts","./LnC.ts","./UI.ts"],(function(e){var t,n,r,o,i,l,a,s,u,f,c,S,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Sprite,u=e.Component},function(e){f=e.LevelPlay},function(e){c=e.SettingWindow},function(e){S=e.LnCSpawnZombieStyleEnum},function(e){p=e.UIInGame}],execute:function(){var y,D,_,d,P,E,b,h,g,k,v,w;l._RF.push({},"fe53aD9ndVEk5T/aGwBI+tn","SandBoxLevelSettingWindow",void 0);var R=a.ccclass,m=a.property;e("SandBoxLevelSettingWindow",(y=R("SandBoxLevelSettingWindow"),D=m(s),_=m(s),d=m(s),P=m(s),y(((w=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,r(t,"skySetter",h,o(t)),r(t,"fpSetter",g,o(t)),r(t,"noCDSetter",k,o(t)),r(t,"fpfSetter",v,o(t)),t}n(t,e);var l=t.prototype;return l.onLoad=function(){t.cp=this},l.reverseSkySunDrop=function(){t._skySunDrop=!t._skySunDrop,this.skySetter.color=t._skySunDrop?c.GREEN:c.RED},l.reverseFreePlant=function(){t._freePlant=!t._freePlant,this.fpSetter.color=t._freePlant?c.GREEN:c.RED},l.reverseNoCDPlant=function(){t._noCDPlant=!t._noCDPlant,this.noCDSetter.color=t._noCDPlant?c.GREEN:c.RED},l.reverseFreePF=function(){t._freePF=!t._freePF,this.fpfSetter.color=t._freePF?c.GREEN:c.RED},l.onEnable=function(){t._zombieSpawnStyle=0,this.skySetter.color=t._skySunDrop?c.GREEN:c.RED,this.fpSetter.color=t._freePlant?c.GREEN:c.RED,this.noCDSetter.color=t._noCDPlant?c.GREEN:c.RED,this.fpfSetter.color=t._freePF?c.GREEN:c.RED},i(t,null,[{key:"freePlant",get:function(){return this._freePlant&&f.sandBoxModeOn}},{key:"noCDPlant",get:function(){return this._noCDPlant&&f.sandBoxModeOn}},{key:"freePF",get:function(){return this._freePF&&f.sandBoxModeOn}},{key:"skySunDrop",get:function(){return this._skySunDrop||!f.sandBoxModeOn}},{key:"zombieSpawnStyle",get:function(){return this._zombieSpawnStyle},set:function(e){e>=S.amount&&(e=S.directPut),p.uiingame.readSBZombieSpawnStyle(e),this._zombieSpawnStyle=e}}]),t}(u))._freePlant=!0,w._noCDPlant=!0,w._freePF=!0,w._skySunDrop=!0,w._zombieSpawnStyle=0,w.zombieReversed=!1,w.cp=void 0,h=t((b=w).prototype,"skySetter",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(b.prototype,"fpSetter",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(b.prototype,"noCDSetter",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(b.prototype,"fpfSetter",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=b))||E));l._RF.pop()}}}));

System.register("chunks:///_virtual/SandBoxZombieCards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotalZombie.ts","./cardSelectAlmanac.ts","./Zombies.ts","./UI.ts","./BodyGrouper.ts","./SoundRescourses.ts"],(function(e){var n,o,t,i,r,a,s,c,u,d,l,m,p,f,h,C,y,b,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,c=e.instantiate,u=e.Vec3,d=e.dragonBones,l=e.Color,m=e.EventMouse,p=e.Component},function(e){f=e.CardFeatureTotalZombie},function(e){h=e.cardSelectAlmanac},function(e){C=e.zombies},function(e){y=e.UIInGame},function(e){b=e.BodyGrouper},function(e){g=e.sounds}],execute:function(){var v,x,S,B,E,I;r._RF.push({},"99826QbZU5LHoKNL0lEg500","SandBoxZombieCards",void 0);var z=a.ccclass,D=a.property;e("SandBoxZombieCards",(v=z("SandBoxZombieCards"),x=D([f]),v(((I=function(e){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,t(n,"zombieCards",E,i(n)),n.currentID=0,n.index=-1,n}o(n,e);var r=n.prototype;return r.onLoad=function(){var e=this;n.component=this,this.index=-1,this.node.on(s.EventType.MOUSE_WHEEL,(function(n){var o=n.getScrollY()<0?1:-1,t=e.zombieCards[0].ID;e.zombieCards.forEach((function(e,n){e.cardGrouper(t+n+o,!1)}))}),this)},r.zombieGhost=function(e){var n,o;this.currentID=e;var t=C.getZombie(e,!0).getChildByName("Body"),i=c(t);i.parent=y.uiingame.plantInHandLayer,i.position=new u(0,-20,0),i.worldScale=new u(.45,.45,.45),null==(n=i.getChildByName("butterFacePAR"))||null==(n=n.getComponent(d.ArmatureDisplay))||null==(n=n.color)||n.set(new l(0,0,0,0));var r=i.getComponent(d.ArmatureDisplay),a=r.getComponent(b);a.body=r,null==(o=r.armature().getSlot("POISONFACE"))||o._setDisplayIndex(-1),r.playAnimation(a.IdleAnm,1/0),a.showArm(!0)},r.update=function(e){var n=this;this.zombieCards.forEach((function(e,o){e.getComponent(h).index=n.index==o?1:0}))},r.start=function(){var e=this;this.zombieCards.forEach((function(n,o){n.cardGrouper(o,!1),n.getComponent(h).suncostShown=!1,n.node.on(s.EventType.MOUSE_DOWN,(function(t){if(!y.uiingame.indexLocked&&t.getButton()==m.BUTTON_LEFT){var i=9!=y.index||o!=e.index?9:-1;y.uiingame.index=-1,y.uiingame.tryChangingIndex(i),9==y.index?(e.zombieGhost(n.ID),g.playCardChosen(),e.index=o):(g.playCardCancel(),e.index=-1)}}),e)}))},n}(p)).component=void 0,E=n((B=I).prototype,"zombieCards",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=B))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScaredyShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./scaredyShroomSound.ts","./CharacterManager.ts","./Square.ts","./Lane.ts","./Plants.ts"],(function(t){var o,n,e,i,a,r,s,h,d,l,c,u,p,m,f,y,g,b,P,S,v,C;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Prefab,h=t.Node,d=t.Vec3,l=t.Vec2,c=t.macro,u=t.dragonBones},function(t){p=t.Plant},function(t){m=t.NodePools},function(t){f=t.peaShooter},function(t){y=t.CharacterType},function(t){g=t.scaredyShroomSound},function(t){b=t.PlantPool,P=t.Rectangle},function(t){S=t.Square},function(t){v=t.Lane},function(t){C=t.PlantEnum}],execute:function(){var R,L,w,M,k,E,I,A,z,x,D,H,_,N,j,F,q,O,B;a._RF.push({},"bb74fHTzXNArIOYLe9wP4Rc","ScaredyShroom",void 0);var T=r.ccclass,U=r.property;t("ScaredyShroomPlant",(R=T("ScaredyShroomPlant"),L=U({type:Number,min:0}),w=U(s),M=U(s),k=U(s),E=U(s),I=U(Number),A=U(Number),z=U(h),R((H=o((D=function(t){function o(){for(var o,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return o=t.call.apply(t,[this].concat(a))||this,e(o,"foodPeaMaxCount",H,i(o)),e(o,"sporeFood",_,i(o)),e(o,"spore0",N,i(o)),e(o,"spore1",j,i(o)),e(o,"spore2",F,i(o)),e(o,"knockBackRate",q,i(o)),o.detector=null,o.projectileSpeed=1,o.oldIdle="",o.oldRandom=[],o.scaryDetector=null,e(o,"shootInterval",O,i(o)),o.hiding=!1,e(o,"sporeSpawnPointUp",B,i(o)),o.busy=0,o.shooting=!1,o}n(o,t);var a=o.prototype;return a.waterable=function(){return!this.hiding&&!this.shooting},a._shoot=function(t,o,n,e){void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===n&&(n=this.spore0),void 0===e&&(e=!1);var i=m.instantiatePooly(n);if(i){var a=0;t&&(a=Math.pow(-1,Math.round(Math.random()))*Math.round(3*Math.random())*5);var r=0;o&&(r=Math.round(5*Math.random()));var s=f.shootOnePea(i,new d(this.sporeSpawnPointUp.getWorldPosition().x,this.inLnC.plantPoint.worldPosition.y,0),this.sporeSpawnPointUp.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y+a,this.inLane.prjLayer,new l((15+(o?1:0)*r)*this.projectileSpeed,0*(o?1:0)*(Math.round(10*Math.random())*Math.pow(-1,Math.round(Math.random())))),y.zombie);e&&s.setKnockBack(.2)}},a.specialPlantFoodEnd=function(){var t;(t=this.detectScary())?this.hide(t):this.anmControl.playRandom(),this.busy=0},a.specialPlantFood=function(t){var o=this;if(void 0===t&&(t=!0),t){this.getComponent(g).playFoodSound();var n=[];b.pool().forEach((function(t){o.scaryDetector.judgeInRecNode(t.node)&&"ScaredyShroomPLANT"==t.node.name&&n.push(t.node)})),n.forEach((function(t){t.getComponent(p).food(!1)}))}this.anmControl.playAnimation("Food",c.REPEAT_FOREVER),this.busy=1/0;var e=0;this.schedule((function(){o._shoot(!0,!0,o.sporeFood,!0),++e>=o.foodPeaMaxCount&&o.foodEnd()}),2/this.foodPeaMaxCount,this.foodPeaMaxCount,.01)},a._shootPeaAnimation=function(){var t="Shoot2";Math.round(100*Math.random())<=this.knockBackRate&&(t="Shoot"),this.anmControl.playAnimation(t,1,.1,Math.max(1.35/this.shootInterval,1))},a.animationListener=function(t){"Shoot"!=t.name&&"ShootKnockback"!=t.name||this._shoot(!1,!1,"ShootKnockback"==t.name?this.spore2:this.spore0,"ShootKnockback"==t.name),"ShootSound"==t.name&&this.getComponent(g).playShootSound(),"HideEnd"==t.name&&(this.hiding=!1)},a.setDetecter=function(){this.detector=P.createRectangleNodeSide(this.inLnC.node,S.SquareDisW*(9-this.cIndex),S.SquareDisH),this.scaryDetector=P.createRectangleNodeCenter(this.inLnC.node,3*S.SquareDisW,3*S.SquareDisH)},a.specialPlantOnEnable=function(){var t=this;this.shooting=!1,this.hiding=!1,this.oldIdle=this.anmControl.IdleAnim,this.oldRandom=this.anmControl.RandomAnim,this.projectileSpeed=1,this.anmControl.body.addEventListener(u.EventObject.COMPLETE,(function(o){t.shooting=!1}),this)},a.detectScary=function(){var t=this,o=0;if(this.havePumpkin())return 0;var n=this.inLane.zombiePool(),e=S.getLane(this.inLane.LaneIndex-1).getComponent(v).zombiePool(),i=S.getLane(this.inLane.LaneIndex+1).getComponent(v).zombiePool();return n.concat(e,i).forEach((function(n){if(1!=o&&t.scaryDetector.judgeCrossRec(n.bodyRec)){if(n.node.worldPosition.x<t.node.worldPosition.x)return void(o=1);if(n.node.worldPosition.x>=t.node.worldPosition.x)return void(o=2)}})),o},a.specialPlantOnSquareChange=function(t,o){this.setDetecter()},a.startShooting=function(){this.shooting=!0;var t=.03*Math.round(5*Math.random())*(this.shootInterval/1.35);this._shootPeaAnimation(),this.busy=60*(t+this.shootInterval)},a.hideEnd=function(){this.hiding=!1,this.short_=this.short,this.getComponent(g).playHideSound(),this.anmControl.IdleAnim=this.oldIdle,this.anmControl.RandomAnim=this.oldRandom,this.fooding?this.hiding=!1:this.anmControl.playAnimation("HideEnd",1)},a.hide=function(t){this.getComponent(g).playHideSound(),this.hiding=!0,this.short_=!0,this.deathAnm="DeathHiding",this.anmControl.IdleAnim="Hiding",this.anmControl.RandomAnim=["Hiding"],this.fooding||(1==t?this.anmControl.playAnimation("HideStartL",1):2==t&&this.anmControl.playAnimation("HideStartR",1))},a.detectEnemy=function(){for(var t=this.inLane.zombiePool(),o=0;o<t.length;o++)if(this.detector.judgeCrossRec(t[o].bodyRec))return!0;for(var n=this.inLane.tombPool(),e=0;e<n.length;e++)if(this.detector.judgeCrossRec(n[e].bodyRec))return!0;return!1},a.havePumpkin=function(){for(var t=this.inLnC.vineInSquare.concat(),o=0;o<t.length;o++)if(t[o].ID==C.Pumpkin)return!0;return!1},a.specialPlantUpdate=function(t){this.busy>0&&(this.busy-=60*t),this.busy<=0&&!this.hiding&&this.detectEnemy()&&this.startShooting();var o=this.detectScary();this.hiding||!o||this.shooting||this.hide(o),this.hiding&&0==o&&this.hideEnd()},o}(p)).prototype,"foodPeaMaxCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),_=o(D.prototype,"sporeFood",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=o(D.prototype,"spore0",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=o(D.prototype,"spore1",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=o(D.prototype,"spore2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=o(D.prototype,"knockBackRate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),O=o(D.prototype,"shootInterval",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.35}}),B=o(D.prototype,"sporeSpawnPointUp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=D))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/scaredyShroomSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundsController.ts"],(function(o){var n,t,e,i,r,u,d,a,l,s,c;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,u=o._decorator,d=o.AudioClip,a=o.AudioSource,l=o.Component},function(o){s=o.ArrayGet},function(o){c=o.SoundFXController}],execute:function(){var h,p,S,f,y,m,g,b,C;r._RF.push({},"98a37rPBuhLJYXCacd7ICjy","scaredyShroomSound",void 0);var v=u.ccclass,F=u.property;o("scaredyShroomSound",(h=v("scaredyShroomSound"),p=F([d]),S=F([d]),f=F([d]),h((g=n((m=function(o){function n(){for(var n,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return n=o.call.apply(o,[this].concat(r))||this,e(n,"shootSound",g,i(n)),e(n,"foodSound",b,i(n)),e(n,"hideSound",C,i(n)),n}t(n,o);var r=n.prototype;return r.onEnable=function(){this.getComponent(a)||this.addComponent(a)},r.playHideSound=function(){this.hideSound.length&&this.getComponent(a).playOneShot(s.getRandom(this.hideSound),c.SoundFXVolume)},r.playShootSound=function(){this.shootSound.length&&this.getComponent(a).playOneShot(s.getRandom(this.shootSound),c.SoundFXVolume)},r.playFoodSound=function(){this.foodSound.length&&this.getComponent(a).playOneShot(s.getRandom(this.foodSound),c.SoundFXVolume)},n}(l)).prototype,"shootSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=n(m.prototype,"foodSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(m.prototype,"hideSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=m))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Scenes.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,i,c,s,o,a;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){c=e.cclegacy,s=e._decorator,o=e.SceneAsset,a=e.Component}],execute:function(){var l,u,p,S,f,h,d,y,b;c._RF.push({},"1ee17OeWA9Fk4wRPxkLGPEx","Scenes",void 0);var m=s.ccclass,w=s.property,R=e("scenes",function(){function e(){}return e.inGameScene=function(){return this.sceneRes.inGameScene},e.splashScene=function(){return this.sceneRes.splashScene},e.worldMapScene=function(){return this.sceneRes.worldMapScene},e}());R.sceneRes=void 0;e("Scenes",(l=m("Scenes"),u=w(o),p=w(o),S=w(o),l((d=n((h=function(e){function n(){for(var n,r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return n=e.call.apply(e,[this].concat(c))||this,t(n,"inGameScene",d,i(n)),t(n,"splashScene",y,i(n)),t(n,"worldMapScene",b,i(n)),n}return r(n,e),n.prototype.onLoad=function(){R.sceneRes=this},n}(a)).prototype,"inGameScene",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(h.prototype,"splashScene",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=n(h.prototype,"worldMapScene",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollViewWithoutTouchevent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,n,c;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,c=o.ScrollView}],execute:function(){var u;e._RF.push({},"80311OHvhFO54C5ub8cMLg6","ScrollViewWithoutTouchevent",void 0);var i=n.ccclass;n.property,o("ScrollViewWithoutTouchevent",i("ScrollViewWithoutTouchevent")(u=function(o){function e(){return o.apply(this,arguments)||this}t(e,o);var n=e.prototype;return n._onTouchMoved=function(o,t){},n._onTouchBegan=function(o,t){},n._onTouchCancelled=function(o,t){},n._onTouchEnded=function(o,t){},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/SeagullZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZombieAshParticle.ts","./SoundRescourses.ts"],(function(e){var t,i,o,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,o=e._decorator},function(e){r=e.ZombieAshParticle},function(e){s=e.sounds}],execute:function(){var n;i._RF.push({},"29924/V30VDGZlGTJp/vFVt","SeagullZombieAshParticle",void 0);var c=o.ccclass;o.property,e("SeagullZombieAshParticle",c("SeagullZombieAshParticle")(n=function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.zombieAshDBListener=function(e){"birdExpl"==e.name&&s.playBirdExpl()},i}(r))||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/SeedChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardFeatureTotal.ts","./NodePools.ts","./cardSelectAlmanac.ts","./SoundRescourses.ts","./Plants.ts"],(function(e){var t,i,a,r,n,s,o,l,c,p,d,u,h,b,y,f,g,w,S,m,C,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,o=e.Enum,l=e.SpriteFrame,c=e.Sprite,p=e.Node,d=e.ScrollView,u=e.Label,h=e.EventMouse,b=e.Vec2,y=e.Vec3,f=e.Component,g=e.instantiate},function(e){w=e.CardFeatureTotal},function(e){S=e.NodePools},function(e){m=e.cardSelectAlmanac},function(e){C=e.sounds},function(e){k=e.PlantEnum}],execute:function(){var v,P,D,T,O,N,I,B,E,V,z,_,A,F,L,M,R,U,G;n._RF.push({},"e1b80ReMENKi7VVz0yCcde6","SeedChooser",void 0);var j=s.ccclass,W=s.property,x=function(e){return e[e.default=0]="default",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e[e.future=4]="future",e[e.dark=5]="dark",e[e.beach=6]="beach",e[e.beach_water=7]="beach_water",e[e.ice=8]="ice",e[e.lostcity=9]="lostcity",e[e.stage=10]="stage",e[e.dino=11]="dino",e[e.modern=12]="modern",e[e.boost=13]="boost",e[e.market=14]="market",e}(x||{});o(k);e("SeedChooser",(v=j("SeedChooser"),P=W({type:[k]}),D=W([l]),T=W(c),O=W(p),N=W(d),I=W(p),B=W(u),E=W(u),v((_=t((z=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,a(t,"defaultSeedBank",_,r(t)),a(t,"bgSprites",A,r(t)),a(t,"displayBG",F,r(t)),t.PlantsInCard=[],a(t,"card0",L,r(t)),a(t,"scrollView",M,r(t)),a(t,"plantDisplayer",R,r(t)),t.plantDisplayed=void 0,a(t,"plantNameLabel",U,r(t)),a(t,"briefIntro",G,r(t)),t.displayed=-1,t}i(t,e);var n=t.prototype;return n.judgeAllowed=function(e,t){},n.layCards=function(e){var t=this;void 0===e&&(e=this.defaultSeedBank);var i=this.card0.getComponent(w);i.cardGrouper(e[0]),this.PlantsInCard.push(this.card0.getComponent(w));var a=this.card0.getComponent(m);a.seedChooserModeOn=!0,this.card0.on(p.EventType.MOUSE_DOWN,(function(e){e.getButton()==h.BUTTON_LEFT&&(t.switchPlant(0),C.playCardChosen())})),this.judgeAllowed(i,a);for(var r=function(i){var a=g(t.card0);a.parent=t.card0.parent;var r=a.getComponent(w);r.cardGrouper(e[i]);var n=a.getComponent(m);n.seedChooserModeOn=!0,t.judgeAllowed(r,n),t.PlantsInCard.push(a.getComponent(w)),a.on(p.EventType.MOUSE_DOWN,(function(e){e.getButton()==h.BUTTON_LEFT&&(t.switchPlant(i),C.playCardChosen())}))},n=1;n<e.length;n++)r(n);this.scrollView.scrollToTop(0),this.scrollView.stopAutoScroll()},n.scrowUp=function(){this.scrollView.scrollToOffset(new b(0,this.scrollView.getScrollOffset().y-100),.2)},n.scrowDown=function(){this.scrollView.scrollToOffset(new b(0,this.scrollView.getScrollOffset().y+100),.2)},n.switchPlant=function(e){if(e<this.PlantsInCard.length&&this.displayed!=e){this.plantDisplayed&&S.destroyPooly(this.plantDisplayed);var t=this.PlantsInCard[e];this.plantDisplayed=S.instantiatePooly(t.thisCard.plantDIS),this.plantDisplayed.parent=this.plantDisplayer,this.plantDisplayed.position=new y(0,0,0),this.plantNameLabel.string=t.thisPlant.NAME,this.briefIntro.string=t.thisPlant.BRIEFINTRODUCTION,this.displayed=e;var i=this.bgSprites[0];switch(t.thisPlant.OBTAINWORLD){case"modern":i=this.bgSprites[x.modern];break;case"egypt":i=this.bgSprites[x.egypt];break;case"pirate":i=this.bgSprites[x.pirate];break;case"cowboy":i=this.bgSprites[x.cowboy];break;case"future":i=this.bgSprites[x.future];break;case"dark":i=this.bgSprites[x.dark];break;case"beach":i=this.bgSprites[x.beach];break;case"ice":i=this.bgSprites[x.ice];break;case"lostcity":i=this.bgSprites[x.lostcity];break;case"stage":i=this.bgSprites[x.stage];break;case"dino":i=this.bgSprites[x.dino];break;case"market":i=this.bgSprites[x.market]}this.displayBG.spriteFrame=i}},n.onEnable=function(){this.displayed=-1,this.plantDisplayed=null,this.layCards(),this.switchPlant(0)},t}(f)).prototype,"defaultSeedBank",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(z.prototype,"bgSprites",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(z.prototype,"displayBG",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(z.prototype,"card0",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(z.prototype,"scrollView",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(z.prototype,"plantDisplayer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(z.prototype,"plantNameLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(z.prototype,"briefIntro",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=z))||V));n._RF.pop()}}}));

System.register("chunks:///_virtual/SettingWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./UI.ts","./ElectronAPI.ts","./levelController.ts","./Square.ts","./PlayerProperties.ts","./KeyListener.ts"],(function(e){var t,i,o,n,r,l,s,u,a,c,S,d,p,f,h,g,w,y,m,R,b,C,x,v,N,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,s=e.Label,u=e.Sprite,a=e.JsonAsset,c=e.SpriteComponent,S=e.Slider,d=e.Vec2,p=e.Color,f=e.sys,h=e.director,g=e.ProgressBar,w=e.Component},function(e){y=e.MusicController,m=e.SoundFXController},function(e){R=e.UIInGame},function(e){b=e.default},function(e){C=e.LevelPlay},function(e){x=e.Square},function(e){v=e.AllPlayerProperties},function(e){N=e.CursorStyleEnum,E=e.KeyListener}],execute:function(){var P,F,T,I,A,D,K,M,V,L,U,z,G,k,B,X,O,J,q,_,W,H,j,Q,Z,Y,$,ee;r._RF.push({},"1978cSMPitG/7HCQRS5rNTh","SettingWindow",void 0);var te=l.ccclass,ie=l.property,oe="PvZ2_Settings",ne=function(){this.MusicVolume=1,this.SFXVolume=1,this.CardsAtUpper=!1,this.LnCSelectionMode=0,this.AllowCheat=!0,this.ResolutionIndex=-1,this.ShowKeyTips=!0,this.ShowFPS=!1,this.cursor=0},re=e("Setting",function(){function e(){}return e.saveSettings=function(){var e={MusicVolume:y.MusicVolume,SFXVolume:m.SoundFXVolume,CardsAtUpper:R.cardsAtUpper,LnCSelectionMode:x.lncSelectionMode,AllowCheat:le.allowCheat,ResolutionIndex:le.ResolutionIndex,ShowKeyTips:le.showKeyTips,ShowFPS:le.showFPS,cursor:le.cursor};f.localStorage.setItem(oe,JSON.stringify(e))},e.getSettings=function(){var e=f.localStorage.getItem(oe),t=JSON.parse(e);return t||new ne},e}()),le=e("SettingWindow",(P=te("SettingWindow"),F=ie(s),T=ie(s),I=ie(u),A=ie(u),D=ie(a),K=ie(c),M=ie(c),V=ie(S),L=ie(S),U=ie(s),z=ie(c),G=ie(s),P(((ee=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"resolutionSettingKeyTip",X,n(t)),o(t,"cursorStyleName",O,n(t)),o(t,"showFPSButton",J,n(t)),o(t,"showKeyTipButton",q,n(t)),o(t,"debugLevelJson",_,n(t)),o(t,"uiCardsAtUpperSprite",W,n(t)),o(t,"fullScreenSprite",H,n(t)),o(t,"musicSlider",j,n(t)),o(t,"sfxSlider",Q,n(t)),o(t,"ssmodeToolTip",Z,n(t)),o(t,"allowCheatSprite",Y,n(t)),o(t,"difficultyLevel",$,n(t)),t}i(t,e),t.getDefaultResolution=function(){var e=b.getCurrentResolution();if(null!=e&&e.length){var t=e.indexOf("×"),i=e.concat().slice(0,t),o=e.concat().slice(t+1,e.length),n=Number(i),r=Number(o);if(!isNaN(n)&&!isNaN(r))return new d(n,r)}return new d(1920,1200)};var r=t.prototype;return r.setResolution=function(){t.ResolutionIndex++,(t.ResolutionIndex<-1||t.ResolutionIndex>=t.resolutionOptions.length)&&(t.ResolutionIndex=-1);var e=new d;e=t.ResolutionIndex<0?t.defaultResolution:t.resolutionOptions[t.ResolutionIndex],b.setScreenResolution(e.x,e.y),t.ResolutionIndex>=0?this.resolutionSettingKeyTip.string=e.x.toString()+"x"+e.y.toString():this.resolutionSettingKeyTip.string="Default",re.saveSettings()},r.switchCursor=function(){switch(t.cursor=(t.cursor+1)%(N.unchanged+1),t.cursor){case N.default:this.cursorStyleName.string="Default";break;case N.soft:this.cursorStyleName.string="Soft";break;default:this.cursorStyleName.string="Unchanged"}E.loadCursor(t.cursor),re.saveSettings()},r.switchFPSShower=function(){t.showFPS=!t.showFPS,this.showFPSButton.color=t.showFPS?t.GREEN:t.RED,re.saveSettings()},r.switchKeyTipShower=function(){t.showKeyTips=!t.showKeyTips,this.showKeyTipButton.color=t.showKeyTips?t.GREEN:t.RED,re.saveSettings()},r.goToDebugLevel=function(){C.levelJson=this.debugLevelJson,h.loadScene("inGameScene")},r.blockMouse=function(){},r.onLoad=function(){var e=re.getSettings();null==t.defaultResolution&&(t.defaultResolution=t.getDefaultResolution()),y.MusicVolume=isNaN(e.MusicVolume)?1:e.MusicVolume,m.SoundFXVolume=isNaN(e.SFXVolume)?1:e.SFXVolume,R.cardsAtUpper=e.CardsAtUpper,t.allowCheat=e.AllowCheat,t.showKeyTips=null==e.ShowKeyTips||e.ShowKeyTips,t.showFPS=null!=e.ShowFPS&&e.ShowFPS,t.ResolutionIndex=isNaN(e.ResolutionIndex)?-1:e.ResolutionIndex,t.cursor=isNaN(e.cursor)?N.default:e.cursor,x.lncSelectionMode=isNaN(e.LnCSelectionMode)?0:e.LnCSelectionMode,re.saveSettings()},r.start=function(){this.musicSlider.progress=y.MusicVolume,this.sfxSlider.progress=m.SoundFXVolume,this.uiCardsAtUpperSprite.color=R.cardsAtUpper?t.GREEN:t.RED,this.allowCheatSprite.color=t.allowCheat?t.GREEN:t.RED,this.showKeyTipButton.color=t.showKeyTips?t.GREEN:t.RED,this.showFPSButton.color=t.showFPS?t.GREEN:t.RED,this.fullScreenSprite.color=null!=b&&b.isFullScreen()?t.GREEN:t.RED,this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,isNaN(v.currentPlayer.difficulty)&&(v.currentPlayer.difficulty=3);var e=v.currentPlayer.difficulty;e<0&&(e=3),e>3&&(e=0),v.currentPlayer.difficulty=e;var i="A";switch(e){case 0:i="D";break;case 1:i="C";break;case 2:i="B";break;default:i="A"}this.difficultyLevel.string=i;var o=new d;switch(t.ResolutionIndex>=0&&(o=t.resolutionOptions[t.ResolutionIndex],b.setScreenResolution(o.x,o.y)),t.ResolutionIndex>=0?this.resolutionSettingKeyTip.string=o.x.toString()+"x"+o.y.toString():this.resolutionSettingKeyTip.string="Default",t.cursor){case N.default:this.cursorStyleName.string="Default";break;case N.soft:this.cursorStyleName.string="Soft";break;default:this.cursorStyleName.string="Unchanged"}},r.uiCardsAtUpper=function(){R.cardsAtUpper=!R.cardsAtUpper,this.uiCardsAtUpperSprite.color=R.cardsAtUpper?t.GREEN:t.RED,re.saveSettings()},r.quit=function(){b.quit()},t.fullScreen=function(){if(b.isFullScreen())b.window(),t.ResolutionIndex>0&&(b.setResolution(t.defaultResolution.x,t.defaultResolution.y),b.setSize(1138,640));else if(b.fullScreen(),t.ResolutionIndex>0){var e=t.resolutionOptions[t.ResolutionIndex];b.setResolution(e.x,e.y)}},r.fullScreen=function(){t.fullScreen()},r.musicSlide=function(){y.setMusicVolume(this.musicSlider.progress),this.musicSlider.handle.node.angle=360*-this.musicSlider.progress,this.musicSlider.getComponent(g).progress=y.MusicVolume},r.sfxSlide=function(){m.setSoundFxVolume(this.sfxSlider.progress),this.sfxSlider.handle.node.angle=360*-this.sfxSlider.progress,this.sfxSlider.getComponent(g).progress=m.SoundFXVolume},r.ssmodeChange=function(){x.lncSelectionMode=(x.lncSelectionMode+1)%3,re.saveSettings()},r.setAllowCheat=function(){t.allowCheat=!t.allowCheat,this.allowCheatSprite.color=t.allowCheat?t.GREEN:t.RED,re.saveSettings()},r.setDifficulty=function(){var e=v.currentPlayer.difficulty-1;e<0&&(e=3),e>3&&(e=0),v.currentPlayer.difficulty=e;var t="A";switch(e){case 0:t="D";break;case 1:t="C";break;case 2:t="B";break;default:t="A"}this.difficultyLevel.string=t},r.update=function(e){this.fullScreenSprite.color=b.isFullScreen()?t.GREEN:t.RED,this.musicSlider.getComponent(g).progress=y.MusicVolume,this.sfxSlider.getComponent(g).progress=m.SoundFXVolume;var i="Nothing";switch(x.lncSelectionMode){case 0:i="Each Square";break;case 1:i="Crossing"}this.ssmodeToolTip.string=i},t}(w)).ResolutionIndex=-1,ee.resolutionOptions=[new d(1920,1200),new d(1920,1080),new d(1680,1050),new d(1600,900),new d(1440,900),new d(1400,1050),new d(1280,1024),new d(1152,864),new d(960,640),new d(800,600)],ee.showFPS=!1,ee.defaultResolution=null,ee.cursor=N.default,ee.showKeyTips=!0,ee.allowCheat=!0,ee.GREEN=new p(20,255,0,255),ee.RED=new p(255,0,0,255),X=t((B=ee).prototype,"resolutionSettingKeyTip",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(B.prototype,"cursorStyleName",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(B.prototype,"showFPSButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(B.prototype,"showKeyTipButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(B.prototype,"debugLevelJson",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(B.prototype,"uiCardsAtUpperSprite",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(B.prototype,"fullScreenSprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(B.prototype,"musicSlider",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(B.prototype,"sfxSlider",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(B.prototype,"ssmodeToolTip",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(B.prototype,"allowCheatSprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(B.prototype,"difficultyLevel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=B))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/shadeFloor.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,n,r,i,a,s,l,c,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Prefab,l=e.NodePool,c=e.instantiate,h=e.Component}],execute:function(){var u,p,d,f,v,y;i._RF.push({},"04a71WG3ztLwYYMDSzCOCjz","shadeFloor",void 0);var P=a.ccclass,g=a.property;e("shadeFloor",(u=P("shadeFloor"),p=g(s),u(((y=function(e){function o(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return o=e.call.apply(e,[this].concat(i))||this,n(o,"shade",v,r(o)),o.shadePool=new l,o}t(o,e);var i=o.prototype;return i.giveShade=function(){return this.shadePool.size()?this.shadePool.get():c(this.shade)},i.putShade=function(e){this.shadePool.put(e)},i.onLoad=function(){o.component=this},o}(h)).component=void 0,v=o((f=y).prototype,"shade",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShootingStarfruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./starFruitSound.ts","./CharacterManager.ts","./StarFruit.ts","./Lane.ts"],(function(o){var t,n,i,e,a,s,r,h,d,l;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,i=o._decorator,e=o.Vec2},function(o){a=o.Square},function(o){s=o.starFruitSound},function(o){r=o.ZombiePool,h=o.TombPool},function(o){d=o.StarFruitPlant},function(o){l=o.Lane}],execute:function(){var f;n._RF.push({},"37416Pe9UdD54fshPVpOQxg","ShootingStarfruit",void 0);var p=i.ccclass;i.property,o("ShootingStarfruitPlant",p("ShootingStarfruit")(f=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var i=n.prototype;return i.specialPlantFood=function(){this.anmControl.playAnimation("Food",1),this.busy=1/0},i.specialPlantFoodEnd=function(){this.busy=0},i.animationListener=function(o){var t=this;if("Shoot"==o.name&&(this._shootStars(),this.fooding||this.getComponent(s).playShootSound()),"foodEnd"==o.name&&this.foodEnd(),"foodStart"==o.name){this.getComponent(s).playFoodSound(),this.anmControl.playAnimation("Fooding",1/0),this.anmControl.playAnimation("Fooding",1/0);var n=0;this.schedule((function(){t._shootStars(!0,!0,t.peaFood,20),++n>=t.foodPeaMaxCount&&t.foodEnd()}),1/this.foodPeaMaxCount,this.foodPeaMaxCount,.01)}if("do"==o.name){this._shootStars(),this.getComponent(s).playPiano(1);var i=this._shoot(!1,!1,this.peaFood,15,new e(1,0));i.worldPosition=new e(i._worldPositionX,a.getLane(4).getComponent(l).floorY)}if("re"==o.name){this._shootStars(),this.getComponent(s).playPiano(2);var r=this._shoot(!1,!1,this.peaFood,15,new e(1,0));r.worldPosition=new e(r._worldPositionX,a.getLane(3).getComponent(l).floorY)}if("mi"==o.name){this._shootStars(),this.getComponent(s).playPiano(3);var h=this._shoot(!1,!1,this.peaFood,15,new e(1,0));h.worldPosition=new e(h._worldPositionX,a.getLane(2).getComponent(l).floorY)}if("fa"==o.name){this._shootStars(),this.getComponent(s).playPiano(4);var d=this._shoot(!1,!1,this.peaFood,15,new e(1,0));d.worldPosition=new e(d._worldPositionX,a.getLane(1).getComponent(l).floorY)}if("so"==o.name){this._shootStars(),this.getComponent(s).playPiano(5);var f=this._shoot(!1,!1,this.peaFood,15,new e(1,0));f.worldPosition=new e(f._worldPositionX,a.getLane(0).getComponent(l).floorY)}if("la"==o.name){this._shootStars(),this.getComponent(s).playPiano(6);var p=this._shoot(!1,!1,this.peaFood,15,new e(1,0));p.worldPosition=new e(p._worldPositionX,a.getLane(0).getComponent(l).floorY+a.SquareDisH)}},i.detectEnemy=function(){var o=this,t=!1;return r.pool().forEach((function(n){t||n.node.worldPosition.x>o.node.worldPosition.x&&(t=!0)})),!!t||(h.pool().forEach((function(n){t||n.inLnC.cIndex>o.inLnC.cIndex&&(t=!0)})),t)},i._shootStars=function(o,t,n,i){void 0===o&&(o=!1),void 0===t&&(t=!1),void 0===n&&(n=this.pea),void 0===i&&(i=20);for(var s=0;s<=4;s++){var r=this._shoot(o,t,n,i,new e(1,0));r.worldPosition=new e(r._worldPositionX,a.getLane(s).getComponent(l).floorY)}},n}(d))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/Shovel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,i,e,o,s,c;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,e=n._decorator,o=n.dragonBones,s=n.Node,c=n.Component}],execute:function(){var h;i._RF.push({},"9ac6bbxNX5PRbmn33VVbBXO","Shovel",void 0);var a=e.ccclass;e.property,n("Shovel",a("Shovel")(h=function(n){function i(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this).index=0,t.indexPoint=0,t.sunback=!1,t.db=void 0,t}t(i,n);var e=i.prototype;return e.select=function(){0==this.index?1==this.indexPoint?this.db.playAnimation("Pointed"+(this.sunback?"Sunback":""),-1):this.db.playAnimation("Idle"+(this.sunback?"Sunback":""),-1):1==this.index&&this.db.playAnimation("Chosen"+(this.sunback?"Sunback":""),-1)},e.switchMode=function(n){},e.onBtnEnter=function(){this.indexPoint=1,this.select()},e.onBtnLeave=function(){this.indexPoint=0,this.select()},e.onLoad=function(){this.db=this.getComponent(o.ArmatureDisplay),this.node.on(s.EventType.MOUSE_ENTER,this.onBtnEnter,this),this.node.on(s.EventType.MOUSE_LEAVE,this.onBtnLeave,this),this.index=0,this.indexPoint=0},i}(c))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/ShovelUIController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Shovel.ts","./UI.ts","./NodePools.ts","./SettingWindow.ts"],(function(e){var o,n,t,i,s,l,r,h,a,c,d,p,u,v,y,f,I;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,r=e.Prefab,h=e.Label,a=e.Vec3,c=e.Color,d=e.math,p=e.instantiate,u=e.Component},function(e){v=e.Shovel},function(e){y=e.UIInGame},function(e){f=e.NodePools},function(e){I=e.SettingWindow}],execute:function(){var w,S,g,C,b,k,m,P,T,U;s._RF.push({},"229dc/E+75CkLChHl2JtR8h","ShovelUIController",void 0);var x=l.ccclass,K=l.property;e("ShovelUIController",(w=x("ShovelUIController"),S=K(r),g=K(r),C=K(h),w(((U=function(e){function o(){for(var o,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(o=e.call.apply(e,[this].concat(s))||this).index=0,o.UIParent=null,t(o,"Shovel",m,i(o)),t(o,"shovelInHand",P,i(o)),t(o,"KeyTip",T,i(o)),o.keyOffset=new a(0,0,0),o.shovelIcon=null,o.shovelReady=null,o.oldpos=new a(0,0,0),o}n(o,e),o.gameStart=function(e){void 0===e&&(e=!1),this.shovelUI._gameStart(e)};var s=o.prototype;return s._gameStart=function(e){void 0===e&&(e=!1),this.shovelIcon.sunback=e,this.shovelIcon.select(),this.node.position=this.oldpos,this.KeyTip.node.position=this.node.position.clone().add(this.keyOffset)},s.keyScale=function(){return this.index?new a(.9,.9):new a(.7,.7)},s.keyColor=function(){return I.showKeyTips?this.index?new d.Color(100,255,100,255):new d.Color(245,255,0,255):new c(0,0,0,0)},s.shovelSelect=function(){this.index=-2==this.UIParent.index?1:0,this.shovelIcon.index=this.index,this.shovelIcon.select(),this.index&&(this.shovelReady=f.instantiatePooly(this.shovelInHand),this.shovelReady.parent=y.uiingame.plantInHandLayer),this.KeyTip.color=this.keyColor(),this.KeyTip.node.scale=this.keyScale()},s.start=function(){this.KeyTip.color=this.keyColor()},s.onLoad=function(){o.shovelUI=this;var e=p(this.Shovel);e.setPosition(0,0),e.parent=this.node,this.shovelIcon=e.getComponent(v),this.oldpos=this.node.position.clone(),this.KeyTip.node.worldPosition=new a(this.node.worldPosition.x+30,this.node.worldPosition.y-20,0),this.keyOffset=this.KeyTip.node.position.clone().add(this.node.position.clone().negative()),this.node.position=new a(5e3,5e3,5e3),this.KeyTip.node.position=this.node.position.clone().add(this.keyOffset)},o}(u)).shovelUI=void 0,m=o((k=U).prototype,"Shovel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=o(k.prototype,"shovelInHand",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=o(k.prototype,"KeyTip",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=k))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/SleighCartZombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Zombie.ts","./NodePools.ts","./LnC.ts","./SoundsController.ts","./Icetile.ts","./Square.ts"],(function(e){var n,t,i,o,a,l,r,s,u,h,c,d,g,p,m,f,S,b,y,I;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.AudioClip,s=e.Prefab,u=e.AudioSource,h=e.dragonBones,c=e.Vec3,d=e.UITransform},function(e){g=e.zombieDamageType,p=e.Zombie},function(e){m=e.ArrayGet,f=e.NodePools},function(e){S=e.TileType},function(e){b=e.SoundFXController},function(e){y=e.Icetile},function(e){I=e.Square}],execute:function(){var w,C,D,k,v,W,A,x,T,P,L,q,B,z,R,Z,F;a._RF.push({},"f2cc7F3BvtLhblv4mRSDEN5","SleighCartZombie",void 0);var _=l.ccclass,O=l.property;e("ModernSleighCartZombie",(w=_("ModernSleighCartZombie"),C=O([r]),D=O([r]),k=O([r]),v=O([r]),W=O([r]),A=O(s),x=O(r),w((L=n((P=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,i(n,"blopSound",L,o(n)),i(n,"initiateSound",q,o(n)),i(n,"explodeSound",B,o(n)),i(n,"rollingSound",z,o(n)),i(n,"smashSound",R,o(n)),i(n,"ice",Z,o(n)),n.growingIce=null,i(n,"eruptSound",F,o(n)),n}t(n,e);var a=n.prototype;return a.dealHurrikale=function(e){},a.setPerfume=function(e){},a.setChiliStun=function(e){return!1},a.specialSoundEventListener=function(e){"blop"==e.name&&this.getComponent(u).playOneShot(m.getRandom(this.blopSound),b.SoundFXVolume),"explode"==e.name&&this.getComponent(u).playOneShot(m.getRandom(this.explodeSound),2*b.SoundFXVolume),"roll"==e.name&&this.getComponent(u).playOneShot(m.getRandom(this.rollingSound),b.SoundFXVolume),"smash"==e.name&&this.getComponent(u).playOneShot(m.getRandom(this.smashSound),b.SoundFXVolume)},a.playSpecialZombieDie=function(e){this.judgeDeath(),this.growingIce&&(this.growingIce.master=null),this.growingIce=null},a.breakArm=function(){},a.setChill=function(e){return!1},a.setButter=function(e){return!1},a.specialZombieOnSquareChange=function(e,n){var t=n.getTileType();t!=S.deck&&t!=S.floor||this.spawnIce(e,n)},a.judgeHitPoint=function(){this.health>2*this.toughness/3?"Walk"!=this.body.WalkAnm&&(this.body.getComponent(h.ArmatureDisplay).playAnimation("Walk"),this.body.WalkAnm="Walk"):this.health>this.toughness/3&&this.health<=2*this.toughness/3?"Walk_Broken1"!=this.body.WalkAnm&&(this.body.getComponent(h.ArmatureDisplay).playAnimation("Break0_1"),this.body.WalkAnm="Walk_Broken1",this.playBreakSound()):this.health>0&&this.health<=this.toughness/3&&"Walk_Broken2"!=this.body.WalkAnm&&(this.body.getComponent(h.ArmatureDisplay).playAnimation("Break1_2"),this.body.WalkAnm="Walk_Broken2",this.playBreakSound())},a.spawnIce=function(e,n){if(!(this.shouldSpeedScale()<=0)){this.growingIce&&(this.growingIce.master=null),this.growingIce=null;var t=n.getTileType();if(t!=S.sky&&t!=S.sea&&t!=S.water&&!(e.cIndex<=n.cIndex&&9!=n.cIndex)&&5!=n.lIndex&&-1!=n.lIndex&&-1!=n.cIndex)if(n.iceTile||9==n.cIndex){if(n.iceTile&&9!=n.cIndex)this.growingIce=n.iceTile;else if(9==n.cIndex){var i=this.inLane;i.meltCountdown=80;var o=null;if(i.iceTile)o=i.iceTile.node;else{(o=f.instantiatePooly(this.ice)).parent=this.inLane.Lower,o.scale=new c(-I.SquareDisW/164.5,I.SquareDisW/164.5,I.SquareDisW/164.5);var a=I.getSquareWorldPosition(i.LaneIndex,8,1,.5);o.setWorldPosition(a.x+2*I.SquareDisW,a.y,0),o.getComponent(d).width=0,o.getComponent(y).length=0,i.iceTile=o.getComponent(y),o.getComponent(y).lane=i,i.addIceTile(o.getComponent(y))}this.growingIce=o.getComponent(y)}}else{var l,r=f.instantiatePooly(this.ice);r.parent=this.inLane.Lower,r.scale=new c(-I.SquareDisW/164.5,I.SquareDisW/164.5,I.SquareDisW/164.5);var s=I.getSquareWorldPosition(n.lIndex,n.cIndex,1,.5);r.setWorldPosition(s.x,s.y,0),this.growingIce=r.getComponent(y),this.growingIce.length=0,this.growingIce.getComponent(d).width=0,n.iceTile=this.growingIce,null==n||null==(l=n.getAllPlants())||l.forEach((function(e){null==e||e.kill()})),this.growingIce.lnc=n,this.inLane.addIceTile(r.getComponent(y)),n.readIndex()}}},a.setFreeze=function(e){return!1},a.detectPlant=function(e){var n=this;this.inLane&&this.inLane.plantPool().forEach((function(e){e.smasherDetectable&&n.bodyRec.judgeCrossRec(e.bodyRec)&&e.smash(n)}))},a.specialZombieUpdate=function(e){this.isAlive()&&(this.inLane.meltCountdown=80,this.growingIce&&(this.growingIce.master||(this.growingIce.master=this)))},a.specialZombieOnDisable=function(){},a.specialZombieOnEnable=function(){this.judgeHitPoint(),this.getComponent(u).playOneShot(m.getRandom(this.initiateSound),b.SoundFXVolume),this.body.DeathAnm="Death",this.scheduleOnce((function(){}),0),this.deathSound=[this.eruptSound]},a.dealDamage=function(e,n,t,i,o,a,l){void 0===e&&(e=0),void 0===n&&(n=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===o&&(o=null),void 0===a&&(a=g.physicle),void 0===l&&(l=!0),e>=this.totalToughness()||a==g.fire?this.body.DeathAnm="Explode":this.body.DeathAnm="Death";var r=this.dealNormalDamage(e,n,t,i,o,a,l);return this.dead?"Death"==this.body.DeathAnm?this.deathSound=[this.eruptSound]:this.deathSound=[]:this.judgeHitPoint(),r},n}(p)).prototype,"blopSound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(P.prototype,"initiateSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=n(P.prototype,"explodeSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(P.prototype,"rollingSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(P.prototype,"smashSound",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(P.prototype,"ice",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(P.prototype,"eruptSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=P))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/SnapDragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./Square.ts","./CharacterManager.ts","./NodePools.ts","./SnapDragonFoodPar.ts","./Zombie.ts","./snapDragonSound.ts"],(function(a){var t,n,e,o,i,r,c,l,s,d,u,p,f,h,m,g,L;return{setters:[function(a){t=a.applyDecoratedDescriptor,n=a.inheritsLoose,e=a.initializerDefineProperty,o=a.assertThisInitialized},function(a){i=a.cclegacy,r=a._decorator,c=a.Prefab,l=a.CCFloat,s=a.Vec3,d=a.dragonBones},function(a){u=a.Plant},function(a){p=a.Square},function(a){f=a.Rectangle},function(a){h=a.NodePools},function(a){m=a.SnapDragonFoodPar},function(a){g=a.zombieDamageType},function(a){L=a.snapDragonSound}],execute:function(){var P,b,S,y,D,k,C,w,v,z,R,E,F;i._RF.push({},"453b1GI2oNCAZ6L07SmB6zz","SnapDragon",void 0);var q=r.ccclass,A=r.property;a("SnapDragon",(P=q("SnapDragon"),b=A(c),S=A(c),y=A(l),D=A(l),k=A(l),P((v=t((w=function(a){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=a.call.apply(a,[this].concat(i))||this,e(t,"attPar",v,o(t)),e(t,"foodPar",z,o(t)),e(t,"attackDamage",R,o(t)),e(t,"foodDamage",E,o(t)),e(t,"attackInterval",F,o(t)),t.detector=void 0,t.attacking=!1,t.cd=0,t}n(t,a);var i=t.prototype;return i.attParScale=function(){return p.SquareDisH/350},i.foodParScale=function(){return 3*p.SquareDisH/440},i.specialPlantOnSquareChange=function(a,t){this.detector=f.createRectangleNodeSide(this.inLnC.node,2.5*p.SquareDisW,3*p.SquareDisH)},i.specialPlantOnEnable=function(){this.cd=0,this.attacking=!1},i.specialPlantFood=function(a){this.cd=0,this.attacking=!1,this.anmControl.playAnimation("Food",1)},i.waterable=function(){return!this.attacking},i.animationListener=function(a){var t=this;if("attackSound"==a.name)this.getComponent(L).playAttackSound();else if("flap"==a.name)this.getComponent(L).playFlapSound();else if("flap"==a.name)this.getComponent(L).playFlapSound();else if("attackEnd"==a.name)this.attacking=!1;else if("foodEnd"==a.name)this.foodEnd();else if("foodAttack"==a.name){var n=h.instantiatePooly(this.foodPar);n.parent=this.inLane.LowerLane.prjLayer,n.worldPosition=this.inLnC.node.worldPosition.clone().add3f(2*p.SquareDisW,0,0);var e=this.foodParScale();n.worldScale=new s(e,e,e),this.getComponent(L).playFoodSound();var o=n.getComponent(m);o.inLane=this.inLane,o.damage=this.foodDamage}else"attackPar"==a.name?[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(a,n){if(!(a.LaneIndex<0||a.LaneIndex>4)){var e=-(n-1)*p.SquareDisH,o=h.instantiatePooly(t.attPar);o.parent=a.prjLayer,o.worldPosition=t.inLnC.node.worldPosition.clone().add3f(2.5*p.SquareDisW,e,0);var i=t.attParScale();o.worldScale=new s(i,i,i),o.getComponent(d.ArmatureDisplay).playAnimation("Play"+(Math.round(Math.random())+1).toString())}})):"attack"==a.name?(this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(a){a.bodyRec.judgeCrossRec(t.detector)&&a.dealDamage(t.attackDamage/2,!0,!1,!1,null,g.fire)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(a){a.bodyRec.judgeCrossRec(t.detector)&&a.dealDamage(t.attackDamage/2)}))):"attackSound"==a.name?this.getComponent(L).playAttackSound():("flap"==a.name||"flap"==a.name)&&this.getComponent(L).playFlapSound()},i.detectEnemy=function(){var a=this,t=!1;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(n){t||(t=n.bodyRec.judgeCrossRec(a.detector))})),t||this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(n){t||(t=n.bodyRec.judgeCrossRec(a.detector))})),t},i.specialPlantUpdate=function(a){this.fooding||(this.cd>0&&(this.cd-=a),this.cd<=0&&this.detectEnemy()&&(this.attacking=!0,this.cd=this.attackInterval+.15*Math.random(),this.anmControl.playAnimation("Attack",1,.1,this.attackInterval>1.33?1:1.33/this.attackInterval)))},t}(u)).prototype,"attPar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(w.prototype,"foodPar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(w.prototype,"attackDamage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),E=t(w.prototype,"foodDamage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1800}}),F=t(w.prototype,"attackInterval",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.85}}),C=w))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/SnapDragonFoodPar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./NodePools.ts","./Square.ts","./CharacterManager.ts","./Zombie.ts"],(function(e){var a,n,o,i,t,r,s,l,c,d,u,f,p;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){t=e.cclegacy,r=e._decorator,s=e.Prefab,l=e.dragonBones},function(e){c=e.ParticleSelfdestroy},function(e){d=e.NodePools},function(e){u=e.Square},function(e){f=e.Rectangle},function(e){p=e.zombieDamageType}],execute:function(){var b,m,h,g,L;t._RF.push({},"dc80fH7moFB7aL6Kk0BRt3H","SnapDragonFoodPar",void 0);var y=r.ccclass,v=r.property;e("SnapDragonFoodPar",(b=y("SnapDragonFoodPar"),m=v(s),b((L=a((g=function(e){function a(){for(var a,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return(a=e.call.apply(e,[this].concat(t))||this).inLane=void 0,o(a,"ballFire",L,i(a)),a.damage=1800,a.dealtZombies=[],a.dealtTombs=[],a.burning=!0,a}n(a,e);var t=a.prototype;return t.specialOnEnable=function(){this.dealtTombs=[],this.dealtZombies=[],this.burning=!1},t.animationListener=function(e){var a=this;"burn"==e.name&&(this.burning=!0,[-1,0,1].forEach((function(e){[-1,0,1].forEach((function(n){var o=a.inLane;if(-1==e?o=a.inLane.UpperLane:1==e&&(o=a.inLane.LowerLane),!(o.LaneIndex<0||o.LaneIndex>4)){var i=d.instantiatePooly(a.ballFire);i.parent=o.prjLayer,i.getComponent(l.ArmatureDisplay).playAnimation("Play"+(1+Math.round(Math.random())).toString()),i.worldPosition=a.node.worldPosition.clone().add3f(n*u.SquareDisW,-e*u.SquareDisH,0)}}))})))},t.update=function(e){var a=this;if(this.dealtZombies.concat().forEach((function(e){if(!e.isAlive()){var n=a.dealtZombies.indexOf(e);a.dealtZombies.splice(n,1)}})),this.dealtTombs.concat().forEach((function(e){if(e.dead){var n=a.dealtTombs.indexOf(e);a.dealtTombs.splice(n,1)}})),this.burning){var n=f.createRectangleNodeCenter(this.node,3*u.SquareDisW,3*u.SquareDisH);[this.inLane.UpperLane,this.inLane,this.inLane.LowerLane].forEach((function(e){e.zombiePool().forEach((function(e){-1==a.dealtZombies.indexOf(e)&&e.bodyRec.judgeCrossRec(n)&&(e.dealDamage(a.damage,!1,!1,!1,null,p.fire),e.isAlive()&&a.dealtZombies.push(e))})),e.tombPool().forEach((function(e){-1==a.dealtTombs.indexOf(e)&&e.bodyRec.judgeCrossRec(n)&&(e.dealDamage(a.damage),e.dead||a.dealtTombs.push(e))}))}))}},a}(c)).prototype,"ballFire",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/snapDragonSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts","./SoundRescourses.ts","./NodePools.ts"],(function(n){var o,t,r,a,e,i,u,l,c,p;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){e=n.cclegacy,i=n._decorator,u=n.AudioClip},function(n){l=n.plantSound},function(n){c=n.sounds},function(n){p=n.ArrayGet}],execute:function(){var s,d,f,S,y,h,g,b,D;e._RF.push({},"2cc67f57FNFK7/1mDxBUX+L","snapDragonSound",void 0);var m=i.ccclass,v=i.property;n("snapDragonSound",(s=m("snapDragonSound"),d=v(u),f=v([u]),S=v([u]),s((g=o((h=function(n){function o(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return o=n.call.apply(n,[this].concat(e))||this,r(o,"foodSound",g,a(o)),r(o,"attackSound",b,a(o)),r(o,"flapSound",D,a(o)),o}t(o,n);var e=o.prototype;return e.playFoodSound=function(){this.playOneShot(this.foodSound)},e.playAttackSound=function(){c.play(p.getRandom(this.attackSound),1,.2)},e.playFlapSound=function(){this.playOneShotFromArray(this.flapSound)},o}(l)).prototype,"foodSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=o(h.prototype,"attackSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=o(h.prototype,"flapSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=h))||y));e._RF.pop()}}}));

System.register("chunks:///_virtual/SniperPlant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./UI.ts","./SoundRescourses.ts","./levelController.ts","./Square.ts"],(function(n){var t,e,a,i,o,l,r,c,s,u,p,P,d,f,h,S;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,r=n.Prefab,c=n.input,s=n.Input,u=n.game},function(n){p=n.Plant},function(n){P=n.NodePools},function(n){d=n.UIInGame},function(n){f=n.sounds},function(n){h=n.LevelPlay},function(n){S=n.Square}],execute:function(){var g,y,b,L,m;o._RF.push({},"60bc59fo5ZBs5/odIcq+Yex","SniperPlant",void 0);var C=l.ccclass,v=l.property;n("SniperPlant",(g=C("SniperPlant"),y=v(r),g((m=t((L=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return t=n.call.apply(n,[this].concat(o))||this,a(t,"locator",m,i(t)),t.locatorNode=null,t}e(t,n);var o=t.prototype;return o.baseLocatable=function(){return!(this.fooding||this.dead||-1!=d.index||this.leapTween||this.locatorNode)},o.LocateStartKeyCode=function(){return null},o.specialPlantOnLoad=function(){var n=this;c.on(s.EventType.KEY_DOWN,(function(t){t.keyCode==n.LocateStartKeyCode()&&h.gameStarted&&!u.isPaused()&&n.sniperPlantLocatable()&&n.baseLocatable()&&n.locateStart()}),this)},o.specialSniperPlantDie=function(){},o.specialPlantDie=function(){d.uiingame.currentSniperPlant==this&&(d.uiingame.tryChangingIndex(-1),this.locateCancel()),this.specialSniperPlantDie()},o.sniperPlantLocatable=function(){return!1},o.specialPlantOnMouseDown=function(){return!(!this.sniperPlantLocatable()||!this.baseLocatable())&&(this.locateStart(),!0)},o.locateCancel=function(){this.locatorNode=null,f.playSniperPlantCancelSound(),this.specialSniperPlantLocateCancel()},o.locateStart=function(){this.locatorNode=P.instantiatePooly(this.locator),this.locatorNode.parent=d.uiingame.plantInHandLayer,d.uiingame.tryChangingIndex(-4),d.uiingame.currentSniperPlant=this,f.playLocateSound(),1!=S.lncSelectionMode&&d.uiingame.squares.plantGhost(),this.specialSniperPlantLocateStart()},o.trigger=function(n){this.specialSniperPlantTrigger(n),d.uiingame.currentSniperPlant=null,this.locatorNode=null,d.uiingame.tryChangingIndex(-1)},o.specialPlantOnEnable=function(){this.locatorNode=null,this.specialSniperPlantOnEnable()},o.specialSniperPlantOnEnable=function(){},o.specialSniperPlantLocateStart=function(){},o.specialSniperPlantLocateCancel=function(){},o.specialSniperPlantTrigger=function(n){},t}(p)).prototype,"locator",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=L))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/SnowPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./peaShooterSound.ts","./NodePools.ts"],(function(o){var e,t,n,i,a,r,s,l,c,h,d,p,u,P,f,w;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,i=o.assertThisInitialized,a=o.createClass},function(o){r=o.cclegacy,s=o._decorator,l=o.Prefab,c=o.CCFloat,h=o.Sprite,d=o.tween,p=o.Vec3,u=o.AnimationComponent},function(o){P=o.PeashooterPlant},function(o){f=o.peaShooterSound},function(o){w=o.NodePools}],execute:function(){var y,F,m,C,g,b,S,z,v;r._RF.push({},"827e88tbrhBe4CasTGWMNaj","SnowPea",void 0);var I=s.ccclass,L=s.property;o("SnowPeaPlant",(y=I("SnowPeaPlant"),F=L(l),m=L(l),C=L(c),y((S=e((b=function(o){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=o.call.apply(o,[this].concat(a))||this,n(e,"snowPeaFoodPar",S,i(e)),e.snowPeaFoodIce=null,n(e,"peaFreezy",z,i(e)),n(e,"freezeChance",v,i(e)),e}t(e,o);var r=e.prototype;return r.specialPlantFoodEnd=function(){if(this.anmControl.playAnimation("Water",1),this.busy=0,this.getComponent(f).playFoodEnd(),this.snowPeaFoodIce){var o=this.snowPeaFoodIce,e=o.getChildByName("bg"),t=o.getChildByName("face").getComponent(h);d(t.color).to(1,{a:0}).start(),d(e).to(1,{position:new p(3e3)}).call((function(){e.position=new p,w.destroyPooly(o)})).start()}this.snowPeaFoodIce=null},r.specialPeashooterUpdate=function(o){var e=this;this.inLane&&this.fooding&&this.inLane.zombiePool().forEach((function(o){o.node.worldPosition.x>e.node.worldPosition.x&&o.setChill(5)}))},r.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",2,0,1.2),this.getComponent(f).playFood(),this.snowPeaFoodPar&&(this.snowPeaFoodIce=w.instantiatePooly(this.snowPeaFoodPar),this.snowPeaFoodIce.parent=this.inLane.Lower,this.snowPeaFoodIce.worldPosition=this.inLnC.node.worldPosition,this.snowPeaFoodIce.getComponent(u).play()),this.busy=1/0},r.animationListenerAdd=function(o){"foodStart"==o.name&&(this.anmControl.playAnimation("Food",1/0),this.foodShooting())},a(e,[{key:"defaultPea",get:function(){return Math.random()<this.freezeChance?this.peaFreezy:this.pea}}]),e}(P)).prototype,"snowPeaFoodPar",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(b.prototype,"peaFreezy",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(b.prototype,"freezeChance",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),g=b))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./cactusSound.ts"],(function(e){var t,i,o,a,r,n,u,c,s,l,_,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,o=e.inheritsLoose,a=e.assertThisInitialized},function(e){r=e.cclegacy,n=e._decorator,u=e.AudioClip,c=e.Enum,s=e.AudioSource,l=e.Component},function(e){_=e.MusicController},function(e){M=e.cactusSound}],execute:function(){var E,L,p,m,h,y,S,g,B,d,U,D,G,V,b,k,P,C,A;r._RF.push({},"1d62fK5aZxCqp3U26v5DPCm","SoundManager",void 0);var f=n.ccclass,O=n.property,v=e("Music",(E=f("Music"),L=O(u),p=O(Number),E((y=t((h=function(){i(this,"clip",y,this),i(this,"musicLength",S,this)}).prototype,"clip",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(h.prototype,"musicLength",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=h))||m)),w=e("MusicGroup",(function(){this.musicStart=I.MusicAmount,this.musicLoop=I.MusicAmount})),F=e("WorldMusic",function(e){return e[e.Modern=0]="Modern",e[e.Egypt=1]="Egypt",e[e.Pirate=2]="Pirate",e[e.Cowboy=3]="Cowboy",e[e.Future=4]="Future",e[e.Dark=5]="Dark",e[e.Beach=6]="Beach",e[e.Ice=7]="Ice",e[e.Lost=8]="Lost",e[e.Punk=9]="Punk",e[e.Pop=10]="Pop",e[e.Rap=11]="Rap",e[e.Eightbit=12]="Eightbit",e[e.Metal=13]="Metal",e[e.Ballad=14]="Ballad",e[e.Dino=15]="Dino",e[e.Sky=16]="Sky",e}({})),R=e("MusicSortEnum",function(e){return e[e.FourStages=0]="FourStages",e[e.UltimateBattle=1]="UltimateBattle",e[e.Victory=2]="Victory",e[e.DemonstrateMinigame=3]="DemonstrateMinigame",e[e.Leave=4]="Leave",e[e.Lose=5]="Lose",e}({})),I=e("musicType",function(e){return e[e.Worldmap=0]="Worldmap",e[e.UB_Egypt=1]="UB_Egypt",e[e.UB_Pirate=2]="UB_Pirate",e[e.UB_Cowboy=3]="UB_Cowboy",e[e.UB_Future=4]="UB_Future",e[e.UB_Dark=5]="UB_Dark",e[e.UB_Beach=6]="UB_Beach",e[e.UB_Ice=7]="UB_Ice",e[e.UB_Lost=8]="UB_Lost",e[e.UB_Sky=9]="UB_Sky",e[e.UB_Dino=10]="UB_Dino",e[e.UB_Modern=11]="UB_Modern",e[e.MG_Egypt=12]="MG_Egypt",e[e.MG_Pirate=13]="MG_Pirate",e[e.MG_Cowboy=14]="MG_Cowboy",e[e.MG_Future=15]="MG_Future",e[e.MG_Dark=16]="MG_Dark",e[e.MG_Beach=17]="MG_Beach",e[e.MG_Ice=18]="MG_Ice",e[e.MG_Lost=19]="MG_Lost",e[e.MG_Sky=20]="MG_Sky",e[e.MG_Dino=21]="MG_Dino",e[e.MG_Modern=22]="MG_Modern",e[e.MG_Ballad=23]="MG_Ballad",e[e.MG_Pop=24]="MG_Pop",e[e.MG_Rap=25]="MG_Rap",e[e.MG_EightBit=26]="MG_EightBit",e[e.MG_Metal=27]="MG_Metal",e[e.UB_Victory=28]="UB_Victory",e[e.MG_Victory=29]="MG_Victory",e[e.Piano=30]="Piano",e[e.LEAVE_Egypt=31]="LEAVE_Egypt",e[e.LEAVE_Pirate=32]="LEAVE_Pirate",e[e.LEAVE_Cowboy=33]="LEAVE_Cowboy",e[e.LEAVE_Future=34]="LEAVE_Future",e[e.LEAVE_Dark=35]="LEAVE_Dark",e[e.LEAVE_Beach=36]="LEAVE_Beach",e[e.LEAVE_Ice=37]="LEAVE_Ice",e[e.LEAVE_Lost=38]="LEAVE_Lost",e[e.LEAVE_Stage=39]="LEAVE_Stage",e[e.LEAVE_Dino=40]="LEAVE_Dino",e[e.LEAVE_Modern=41]="LEAVE_Modern",e[e.LOSE_Egypt=42]="LOSE_Egypt",e[e.LOSE_Pirate=43]="LOSE_Pirate",e[e.LOSE_Cowboy=44]="LOSE_Cowboy",e[e.LOSE_Future=45]="LOSE_Future",e[e.LOSE_Dark=46]="LOSE_Dark",e[e.LOSE_Beach=47]="LOSE_Beach",e[e.LOSE_Ice=48]="LOSE_Ice",e[e.LOSE_Lost=49]="LOSE_Lost",e[e.LOSE_Stage=50]="LOSE_Stage",e[e.LOSE_Dino=51]="LOSE_Dino",e[e.LOSE_Modern=52]="LOSE_Modern",e[e.MusicAmount=53]="MusicAmount",e}({}));c(w),c(R);e("SoundManager",(g=f("SoundManager"),B=O([v]),d=O({type:R}),U=O(s),D=O(s),g(((A=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return t=e.call.apply(e,[this].concat(r))||this,i(t,"BackgroundMusic",b,a(t)),i(t,"currentMusicSort",k,a(t)),t.currentWorldMusic=F.Modern,t.leftRepeat=0,i(t,"audioSource",P,a(t)),i(t,"audioSourceReplay",C,a(t)),t.currentPlayingComponent=null,t.currentMusic=null,t.currentMusicType=I.UB_Victory,t.keepupMusic=null,t.pianoCountDown=0,t.pianoCountUp=0,t}o(t,e);var r=t.prototype;return r.switchMusic=function(e,t,i){if(void 0===i&&(i=!1),e!=this.currentWorldMusic||t!=this.currentMusicSort||i){var o=I.UB_Victory,a=1/0,r=!1;if(t==R.Victory&&this.currentMusicSort==R.UltimateBattle)o=I.UB_Victory,r=!1,a=1;else if(t==R.Victory&&this.currentMusicSort==R.DemonstrateMinigame)o=I.MG_Victory,r=!1,a=1;else switch(e){case F.Egypt:t==R.UltimateBattle?(o=I.UB_Egypt,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Egypt,r=!0):t==R.Leave?(o=I.LEAVE_Egypt,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Egypt,r=!1,a=1);break;case F.Pirate:t==R.UltimateBattle?(o=I.UB_Pirate,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Pirate,r=!0):t==R.Leave?(o=I.LEAVE_Pirate,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Pirate,r=!1,a=1);break;case F.Cowboy:t==R.UltimateBattle?(o=I.UB_Cowboy,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Cowboy,r=!0):t==R.Leave?(o=I.LEAVE_Cowboy,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Cowboy,r=!1,a=1);break;case F.Future:t==R.UltimateBattle?(o=I.UB_Future,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Future,r=!0):t==R.Leave?(o=I.LEAVE_Future,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Future,r=!1,a=1);break;case F.Dark:t==R.UltimateBattle?(o=I.UB_Dark,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Dark,r=!0):t==R.Leave?(o=I.LEAVE_Dark,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Dark,r=!1,a=1);break;case F.Beach:t==R.UltimateBattle?(o=I.UB_Beach,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Beach,r=!0):t==R.Leave?(o=I.LEAVE_Beach,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Beach,r=!1,a=1);break;case F.Ice:t==R.UltimateBattle?(o=I.UB_Ice,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Ice,r=!0):t==R.Leave?(o=I.LEAVE_Ice,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Ice,r=!1,a=1);break;case F.Lost:t==R.UltimateBattle?(o=I.UB_Lost,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Lost,r=!0):t==R.Leave?(o=I.LEAVE_Lost,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Lost,r=!1,a=1);break;case F.Sky:t==R.UltimateBattle?(o=I.UB_Sky,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Sky,r=!0):t==R.Leave?(o=I.LEAVE_Future,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Future,r=!1,a=1);break;case F.Ballad:t==R.UltimateBattle?(o=I.UB_Future,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Ballad,r=!0):t==R.Leave?(o=I.LEAVE_Stage,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Stage,r=!1,a=1);break;case F.Punk:t==R.UltimateBattle?(o=I.UB_Future,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Future,r=!0):t==R.Leave?(o=I.LEAVE_Stage,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Stage,r=!1,a=1);break;case F.Pop:t==R.UltimateBattle?(o=I.UB_Future,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Pop,r=!0):t==R.Leave?(o=I.LEAVE_Stage,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Stage,r=!1,a=1);break;case F.Rap:t==R.UltimateBattle?(o=I.UB_Future,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Rap,r=!0):t==R.Leave?(o=I.LEAVE_Stage,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Stage,r=!1,a=1);break;case F.Eightbit:t==R.UltimateBattle?(o=I.UB_Future,r=!0):t==R.DemonstrateMinigame?(o=I.MG_EightBit,r=!0):t==R.Leave?(o=I.LEAVE_Stage,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Stage,r=!1,a=1);break;case F.Metal:t==R.UltimateBattle?(o=I.UB_Future,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Metal,r=!0):t==R.Leave?(o=I.LEAVE_Stage,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Stage,r=!1,a=1);break;case F.Dino:t==R.UltimateBattle?(o=I.UB_Dino,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Dino,r=!0):t==R.Leave?(o=I.LEAVE_Dino,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Dino,r=!1,a=1);break;default:t==R.UltimateBattle?(o=I.UB_Modern,r=!0):t==R.DemonstrateMinigame?(o=I.MG_Modern,r=!0):t==R.Leave?(o=I.LEAVE_Modern,r=!1,a=1):t==R.Lose&&(o=I.LOSE_Modern,r=!1,a=1)}this.playBGM(o,r,a),this.currentMusicSort=t,this.currentWorldMusic=e}},r.switchWorldMusic=function(e){e!=this.currentWorldMusic&&this.switchMusic(e,this.currentMusicSort)},r.switchMusicSort=function(e){e!=this.currentMusicSort&&this.switchMusic(this.currentWorldMusic,e)},r.playBGM=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=1/0),!(e>=I.MusicAmount)){e==I.Piano&&(this.pianoCountUp=0),this.leftRepeat=i-1;var o=this.currentPlayingComponent&&t?this.currentPlayingComponent.currentTime:0;this.audioSource.stop(),this.audioSourceReplay.stop(),this.audioSourceReplay.currentTime=0,this.currentMusic=this.BackgroundMusic[e],this.keepupMusic=this.BackgroundMusic[e],this.audioSource.clip=this.currentMusic.clip,this.audioSourceReplay.clip=this.currentMusic.clip,this.currentPlayingComponent=this.audioSource,this.currentPlayingComponent.play(),this.currentPlayingComponent.currentTime=o,this.currentPlayingComponent.volume=_.MusicVolume,this.currentMusicType=e}},r.pauseBGM=function(){this.audioSource.playing&&this.audioSource.pause(),this.audioSourceReplay.playing&&this.audioSourceReplay.pause()},r.resumeBGM=function(){this.currentMusic&&this.currentPlayingComponent&&(this.currentPlayingComponent.play(),this.currentPlayingComponent.volume=_.MusicVolume)},r.changeLoopPlayer=function(){this.currentPlayingComponent=this.currentPlayingComponent==this.audioSource?this.audioSourceReplay:this.audioSource,this.currentPlayingComponent.play(),this.currentPlayingComponent.currentTime=0,this.currentPlayingComponent.volume=_.MusicVolume,this.leftRepeat--},r.onLoad=function(){t.component=this},r.update=function(e){this.currentMusic&&this.currentPlayingComponent&&(this.currentPlayingComponent.volume=_.MusicVolume,this.leftRepeat>0&&this.currentPlayingComponent.currentTime>=this.currentMusic.musicLength&&this.changeLoopPlayer()),M.shakeSoundCD>0&&(M.shakeSoundCD-=e),this.pianoCountDown>0&&(this.pianoCountUp+=e,this.pianoCountDown-=e,this.pianoCountDown<=0?this.switchMusic(this.currentWorldMusic,this.currentMusicSort,!0):this.currentMusicType!=I.Piano&&this.playBGM(I.Piano,!0))},t}(l)).component=void 0,b=t((V=A).prototype,"BackgroundMusic",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(V.prototype,"currentMusicSort",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.UltimateBattle}}),P=t(V.prototype,"audioSource",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(V.prototype,"audioSourceReplay",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=V))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/SoundRescourses.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./NodePools.ts","./UI.ts"],(function(e){var o,i,t,n,a,l,r,u,p,s,c,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.AudioClip,u=e.AudioSource,p=e.Component},function(e){s=e.SoundFXController},function(e){c=e.ArrayGet},function(e){h=e.gamingSpeed}],execute:function(){var y,d,S,f,b,m,w,g,C,v,z,F,O,R,P,D,k,W,X,V,L,T,A,U,B,H,M,Z,I,x,E,G,_,N,j,Y,q,J,K,Q,$,ee,oe,ie,te,ne,ae,le,re,ue,pe,se,ce,he,ye,de,Se,fe,be,me,we,ge,Ce,ve,ze,Fe,Oe,Re,Pe,De,ke,We,Xe,Ve,Le,Te,Ae,Ue,Be,He,Me,Ze,Ie,xe,Ee,Ge,_e,Ne,je,Ye,qe,Je,Ke,Qe,$e,eo,oo,io,to,no,ao,lo,ro,uo,po,so,co,ho,yo,So,fo,bo,mo,wo,go,Co,vo,zo,Fo,Oo,Ro;a._RF.push({},"904d1auYeNBHZ5TOCP4aBg3","SoundRescourses",void 0);var Po=l.ccclass,Do=l.property,ko=function(e,o,i){this.clip=void 0,this.volume=1,this.cooldown=0,this.clip=e,this.volume=o,this.cooldown=i},Wo=e("sounds",function(){function e(){}return e.playLocateSound=function(){this.sr.playLocateSound()},e.playSniperPlantCancelSound=function(){this.sr.playSniperPlantCancelSound()},e.playLavaIdle=function(){this.sr.playLavaIdle()},e.playCameraMove=function(){this.sr.playCameraMove()},e.playAwooga=function(){this.sr.playAwooga()},e.playPlantBurn=function(){this.sr.playPlantBurn()},e.playReadySetPlant=function(){this.sr.playReadySetPlant()},e.playHugeWave=function(){this.sr.playHugeWave()},e.playFinalWave=function(){this.sr.playFinalWave()},e.playSeedChooserOn=function(){this.sr.playSeedChooserOn()},e.playSeedChooserOff=function(){this.sr.playSeedChooserOff()},e.playLetsRock=function(){this.sr.playLetsRock()},e.playButterOn=function(){this.sr.playButterOn()},e.playTombBreak=function(){this.sr.playTombBreak()},e.playTombRiseHeavy=function(){this.sr.playTombRiseHeavy()},e.playZombieGulp=function(){this.sr.playZombieGulp()},e.playZombieChew=function(){this.sr.playzombieChew()},e.playTileShadowSpawn=function(){this.sr.playTileShadowSpawn()},e.playSeaSplash=function(){this.sr.playSeaSplash()},e.playWaterSplash=function(){this.sr.playWaterSplash()},e.playPlantFoodStart=function(){this.sr.playPlantFoodStart()},e.playZombieLie=function(){this.sr.playZombieLie()},e.playZombieLimbPop=function(){this.sr.playZombieLimbPop()},e.playCardChooseFailed=function(e){void 0===e&&(e=!1),this.sr.playCardChooseFailed(e)},e.playCardCancel=function(){this.sr.playCardCancel()},e.playCardChosen=function(){this.sr.playCardChosen()},e.playRightButtonCancel=function(){this.sr.playRightButtonCancel()},e.playShovelActive=function(){this.sr.playShovelActive()},e.playSpeedUp=function(){this.sr.playSpeedUp()},e.playPlantOnWater=function(){this.sr.playPlantOnWater()},e.playPlantOnFloor=function(){this.sr.playPlantOnFloor()},e.playShovelDig=function(){this.sr.playShovelDig()},e.playShovelDigWater=function(){this.sr.playShovelDigWater()},e.playZombieShock=function(e){void 0===e&&(e=!1),this.sr.playZombieShock(e)},e.playGargantuarAsh=function(){this.sr.playGargantuarAsh()},e.playDirtRise=function(e,o){void 0===e&&(e=!1),void 0===o&&(o=!0),this.sr.playDirtRise(e,o)},e.playTombRiseMagical=function(){this.sr.playTombRiseMagical()},e.playSpudow=function(){this.sr.playSpudow()},e.playExplosion=function(){this.sr.playExplosion()},e.playArmorHitPlastic=function(){this.sr.playArmorHitPlastic()},e.playArmorHitShield=function(){this.sr.playArmorHitShield()},e.playConveyorArrive=function(){this.sr.playConveyorArrive()},e.playPause=function(){this.sr.playPause()},e.playWorldMapStart=function(){this.sr.playWorldMapStart()},e.playSandStormWarn=function(){this.sr.playSandStormWarn()},e.playReadyOrSet=function(){this.sr.playReadyOrSet()},e.playPowerUpCD=function(e){this.sr.playPowerUpCD(e)},e.playPowerUpStart=function(e){this.sr.playPowerUpStart(e)},e.playBirdExpl=function(){this.sr.playBirdExpl()},e.playGemSpawn=function(){this.sr.playGemSpawn()},e.playZombieFart=function(){this.sr.playZombieFart()},e.playLevelTaskComplete=function(){this.sr.playLevelTaskComplete()},e.playLevelTaskFail=function(){this.sr.playLevelTaskFail()},e.playLevelTaskWarn=function(){this.sr.playLevelTaskWarn()},e.play=function(e,o,i){void 0===o&&(o=1),void 0===i&&(i=null),e&&this.sr.play(e,o,i)},e}());Wo.sr=void 0;e("SoundRescourses",(y=Po("SoundRescourses"),d=Do(r),S=Do([r]),f=Do(r),b=Do(r),m=Do([r]),w=Do(r),g=Do(r),C=Do(r),v=Do(r),z=Do(r),F=Do(r),O=Do(r),R=Do([r]),P=Do([r]),D=Do([r]),k=Do([r]),W=Do([r]),X=Do([r]),V=Do([r]),L=Do(r),T=Do([r]),A=Do([r]),U=Do([r]),B=Do([r]),H=Do([r]),M=Do(r),Z=Do(r),I=Do(r),x=Do(r),E=Do(r),G=Do(r),_=Do(r),N=Do(r),j=Do(r),Y=Do([r]),q=Do([r]),J=Do(r),K=Do([r]),Q=Do([r]),$=Do([r]),ee=Do([r]),oe=Do([r]),ie=Do([r]),te=Do([r]),ne=Do(r),ae=Do(r),le=Do(r),re=Do(r),ue=Do(r),pe=Do(r),se=Do([r]),ce=Do(r),he=Do(r),ye=Do([r]),de=Do(r),Se=Do(r),fe=Do(r),be=Do(r),me=Do(r),y((Ce=o((ge=function(e){function o(){for(var o,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=e.call.apply(e,[this].concat(a))||this,t(o,"plantFoodStart",Ce,n(o)),t(o,"zombieLie",ve,n(o)),t(o,"zombieLimbPop",ze,n(o)),t(o,"seaSplash",Fe,n(o)),t(o,"waterSplash",Oe,n(o)),t(o,"cardChooseFailed",Re,n(o)),o.cardChooseFailedCD=0,t(o,"cardChosen",Pe,n(o)),t(o,"cardCancel",De,n(o)),t(o,"rightButtonCancel",ke,n(o)),t(o,"shovelActive",We,n(o)),t(o,"speedUp",Xe,n(o)),t(o,"speedLower",Ve,n(o)),t(o,"shovelDig",Le,n(o)),t(o,"shovelDigWater",Te,n(o)),t(o,"plantOnWater",Ae,n(o)),t(o,"plantOnFloor",Ue,n(o)),t(o,"tileShadowSpawn",Be,n(o)),o.coolingDownSounds=[],o.tickPlaySounds=[],t(o,"zombieShock",He,n(o)),t(o,"gargantuarShock",Me,n(o)),t(o,"gargantuarAsh",Ze,n(o)),t(o,"dirtRise",Ie,n(o)),t(o,"dirtRiseHeavy",xe,n(o)),o.dirtRiseCooldown=0,t(o,"tombRiseMagical",Ee,n(o)),t(o,"spudow",Ge,n(o)),t(o,"explosion",_e,n(o)),t(o,"cameraMove",Ne,n(o)),t(o,"plantBurn",je,n(o)),t(o,"awooga",Ye,n(o)),t(o,"hugeWave",qe,n(o)),t(o,"finalWave",Je,n(o)),t(o,"readySetPlant",Ke,n(o)),t(o,"seedChooserOn",Qe,n(o)),t(o,"seedChooserOff",$e,n(o)),t(o,"letsRock",eo,n(o)),t(o,"butterOn",oo,n(o)),t(o,"tombBreak",io,n(o)),t(o,"tombRiseHeavy",to,n(o)),t(o,"lavaIdle",no,n(o)),o.lavaIdleCooldown=0,t(o,"locateSound",ao,n(o)),t(o,"sniperPlantCancelSound",lo,n(o)),o.audioSource=void 0,t(o,"zombieChew",ro,n(o)),o.zombieChewCoolDown=0,t(o,"zombieGulp",uo,n(o)),o.zombieGulpCoolDown=1,t(o,"armorHitPlastic",po,n(o)),t(o,"armorHitShield",so,n(o)),t(o,"conveyorArrive",co,n(o)),t(o,"pause",ho,n(o)),t(o,"worldMapStart",yo,n(o)),t(o,"sandStormWarn",So,n(o)),t(o,"readyOrSet",fo,n(o)),t(o,"powerUpEnd",bo,n(o)),t(o,"powerUpCD",mo,n(o)),t(o,"powerUpSnowStart",wo,n(o)),t(o,"powerUpCherryStart",go,n(o)),t(o,"birdExpl",Co,n(o)),t(o,"gemSpawn",vo,n(o)),t(o,"zombieFart",zo,n(o)),t(o,"levelTaskComplete",Fo,n(o)),t(o,"levelTaskFail",Oo,n(o)),t(o,"levelTaskWarn",Ro,n(o)),o}i(o,e);var a=o.prototype;return a.playPlantFoodStart=function(){this.audioSource.playOneShot(this.plantFoodStart,s.SoundFXVolume)},a.playZombieLie=function(){this.play(c.getRandom(this.zombieLie),1,.2)},a.playZombieLimbPop=function(){this.play(this.zombieLimbPop)},a.playSeaSplash=function(){this.audioSource.playOneShot(this.seaSplash,s.SoundFXVolume)},a.playWaterSplash=function(){this.audioSource.playOneShot(c.getRandom(this.waterSplash),s.SoundFXVolume)},a.playCardChooseFailed=function(e){void 0===e&&(e=!1),(!e||this.cardChooseFailedCD<=0)&&(this.audioSource.playOneShot(this.cardChooseFailed,s.SoundFXVolume),this.cardChooseFailedCD=.5)},a.playCardChosen=function(){Wo.play(this.cardChosen,1,.02)},a.playCardCancel=function(){this.audioSource.playOneShot(this.cardCancel,s.SoundFXVolume)},a.playRightButtonCancel=function(){this.audioSource.playOneShot(this.rightButtonCancel,s.SoundFXVolume)},a.playShovelActive=function(){this.audioSource.playOneShot(this.shovelActive,s.SoundFXVolume)},a.playSpeedUp=function(){1==h?this.audioSource.playOneShot(this.speedLower,s.SoundFXVolume):this.audioSource.playOneShot(this.speedUp,s.SoundFXVolume)},a.playShovelDig=function(){Wo.play(c.getRandom(this.shovelDig),1,.1)},a.playShovelDigWater=function(){Wo.play(c.getRandom(this.shovelDigWater),1,.1)},a.playPlantOnWater=function(){Wo.play(c.getRandom(this.plantOnWater),1,.1)},a.playPlantOnFloor=function(){Wo.play(c.getRandom(this.plantOnFloor),1,.1)},a.playTileShadowSpawn=function(){this.play(c.getRandom(this.tileShadowSpawn))},a.update=function(e){this.cardChooseFailedCD>0&&(this.cardChooseFailedCD-=e),this.cardChooseFailedCD<0&&(this.cardChooseFailedCD=0),this.dirtRiseCooldown>0&&(this.dirtRiseCooldown-=e),this.dirtRiseCooldown<0&&(this.dirtRiseCooldown=0),this.zombieChewCoolDown>0&&(this.zombieChewCoolDown-=e),this.zombieChewCoolDown<0&&(this.zombieChewCoolDown=0),this.lavaIdleCooldown>0&&(this.lavaIdleCooldown-=e),this.lavaIdleCooldown<0&&(this.lavaIdleCooldown=0)},a.lateUpdate=function(e){var o=this;this.tickPlaySounds.forEach((function(e){e&&o.audioSource.playOneShot(e.clip,s.SoundFXVolume*e.volume)})),this.tickPlaySounds=[],this.coolingDownSounds.concat().forEach((function(i){if(i.cooldown>0&&(i.cooldown-=e),i.cooldown<=0){var t=o.coolingDownSounds.indexOf(i);-1!=t&&o.coolingDownSounds.splice(t,1)}}))},a.playZombieShock=function(e){void 0===e&&(e=!1),this.audioSource.playOneShot(c.getRandom(e?this.gargantuarShock:this.zombieShock),s.SoundFXVolume)},a.playGargantuarAsh=function(){Wo.play(this.gargantuarAsh)},a.playDirtRise=function(e,o){void 0===o&&(o=!0),(this.dirtRiseCooldown<=0||!o)&&(this.audioSource.playOneShot(c.getRandom(e?this.dirtRiseHeavy:this.dirtRise),s.SoundFXVolume),this.dirtRiseCooldown=1)},a.playTombRiseMagical=function(){this.audioSource.playOneShot(c.getRandom(this.tombRiseMagical),s.SoundFXVolume)},a.playSpudow=function(){this.audioSource.playOneShot(c.getRandom(this.spudow),s.SoundFXVolume)},a.playExplosion=function(){this.audioSource.playOneShot(c.getRandom(this.explosion),s.SoundFXVolume)},a.playCameraMove=function(){this.audioSource.playOneShot(this.cameraMove,s.SoundFXVolume)},a.playPlantBurn=function(){this.play(this.plantBurn)},a.playAwooga=function(){this.audioSource.playOneShot(this.awooga,s.SoundFXVolume)},a.playHugeWave=function(){this.audioSource.playOneShot(this.hugeWave,s.SoundFXVolume)},a.playFinalWave=function(){this.audioSource.playOneShot(this.finalWave,s.SoundFXVolume)},a.playReadySetPlant=function(){this.audioSource.playOneShot(this.readySetPlant,s.SoundFXVolume)},a.playSeedChooserOn=function(){this.audioSource.playOneShot(this.seedChooserOn,s.SoundFXVolume)},a.playSeedChooserOff=function(){this.audioSource.playOneShot(this.seedChooserOff,s.SoundFXVolume)},a.playLetsRock=function(){this.audioSource.playOneShot(this.letsRock,s.SoundFXVolume)},a.playButterOn=function(){this.play(c.getRandom(this.butterOn))},a.playTombBreak=function(){this.play(c.getRandom(this.tombBreak))},a.playTombRiseHeavy=function(){this.audioSource.playOneShot(this.tombRiseHeavy,s.SoundFXVolume)},a.playLavaIdle=function(){this.lavaIdleCooldown<=0&&(this.audioSource.playOneShot(c.getRandom(this.lavaIdle),s.SoundFXVolume),this.lavaIdleCooldown=5*Math.random()+2.5)},a.playLocateSound=function(){this.audioSource.playOneShot(this.locateSound,s.SoundFXVolume)},a.playSniperPlantCancelSound=function(){this.audioSource.playOneShot(this.sniperPlantCancelSound,s.SoundFXVolume)},a.onLoad=function(){Wo.sr=this,this.getComponent(u)||this.addComponent(u),this.audioSource=this.getComponent(u)},a.playzombieChew=function(){0==this.zombieChewCoolDown&&(this.audioSource.playOneShot(c.getRandom(this.zombieChew),s.SoundFXVolume),this.zombieChewCoolDown=.5)},a.playZombieGulp=function(){this.play(c.getRandom(this.zombieGulp))},a.playArmorHitPlastic=function(){this.play(c.getRandom(this.armorHitPlastic))},a.playArmorHitShield=function(){this.play(c.getRandom(this.armorHitShield))},a.playConveyorArrive=function(){this.audioSource.playOneShot(this.conveyorArrive,s.SoundFXVolume)},a.playPause=function(){this.audioSource.playOneShot(this.pause,s.SoundFXVolume)},a.playWorldMapStart=function(){this.audioSource.playOneShot(this.worldMapStart,s.SoundFXVolume)},a.playSandStormWarn=function(){this.audioSource.playOneShot(this.sandStormWarn,s.SoundFXVolume)},a.playReadyOrSet=function(){this.audioSource.playOneShot(this.readyOrSet,s.SoundFXVolume)},a.playPowerUpCD=function(e){if(e<=0)this.audioSource.playOneShot(this.powerUpEnd,s.SoundFXVolume);else if(this.powerUpCD.length>0){var o=Math.ceil(e*(this.powerUpCD.length-1));this.audioSource.playOneShot(this.powerUpCD[this.powerUpCD.length-1-o],s.SoundFXVolume)}},a.playPowerUpStart=function(e){switch(e){case 1:this.audioSource.playOneShot(this.powerUpSnowStart,s.SoundFXVolume);break;case 4:this.audioSource.playOneShot(this.powerUpCherryStart,s.SoundFXVolume)}},a.playBirdExpl=function(){this.play(c.getRandom(this.birdExpl))},a.playGemSpawn=function(){this.audioSource.playOneShot(this.gemSpawn,s.SoundFXVolume)},a.playZombieFart=function(){this.audioSource.playOneShot(this.zombieFart,s.SoundFXVolume)},a.playLevelTaskComplete=function(){Wo.play(this.levelTaskComplete,1,.02)},a.playLevelTaskFail=function(){Wo.play(this.levelTaskFail,1,.02)},a.playLevelTaskWarn=function(){Wo.play(this.levelTaskWarn,1,.5)},a.play=function(e,o,i){if(void 0===o&&(o=1),void 0===i&&(i=null),e&&null==i&&(i=e.getDuration()/2),e){for(var t=0;t<this.coolingDownSounds.length;t++)if(this.coolingDownSounds[t].clip==e)return;for(var n=0;n<this.tickPlaySounds.length;n++)if(this.tickPlaySounds[n].clip==e)return void(this.tickPlaySounds[n].volume=Math.min(1,this.tickPlaySounds[n].volume+o));i<0&&(i=0);var a=new ko(e,o,i);this.tickPlaySounds.push(a),i>0&&this.coolingDownSounds.push(a)}},o}(p)).prototype,"plantFoodStart",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=o(ge.prototype,"zombieLie",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ze=o(ge.prototype,"zombieLimbPop",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=o(ge.prototype,"seaSplash",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=o(ge.prototype,"waterSplash",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=o(ge.prototype,"cardChooseFailed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=o(ge.prototype,"cardChosen",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=o(ge.prototype,"cardCancel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=o(ge.prototype,"rightButtonCancel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=o(ge.prototype,"shovelActive",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=o(ge.prototype,"speedUp",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=o(ge.prototype,"speedLower",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=o(ge.prototype,"shovelDig",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=o(ge.prototype,"shovelDigWater",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=o(ge.prototype,"plantOnWater",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=o(ge.prototype,"plantOnFloor",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Be=o(ge.prototype,"tileShadowSpawn",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=o(ge.prototype,"zombieShock",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Me=o(ge.prototype,"gargantuarShock",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ze=o(ge.prototype,"gargantuarAsh",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=o(ge.prototype,"dirtRise",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=o(ge.prototype,"dirtRiseHeavy",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=o(ge.prototype,"tombRiseMagical",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ge=o(ge.prototype,"spudow",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=o(ge.prototype,"explosion",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ne=o(ge.prototype,"cameraMove",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=o(ge.prototype,"plantBurn",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=o(ge.prototype,"awooga",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=o(ge.prototype,"hugeWave",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Je=o(ge.prototype,"finalWave",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=o(ge.prototype,"readySetPlant",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=o(ge.prototype,"seedChooserOn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=o(ge.prototype,"seedChooserOff",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),eo=o(ge.prototype,"letsRock",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oo=o(ge.prototype,"butterOn",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),io=o(ge.prototype,"tombBreak",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),to=o(ge.prototype,"tombRiseHeavy",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),no=o(ge.prototype,"lavaIdle",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ao=o(ge.prototype,"locateSound",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lo=o(ge.prototype,"sniperPlantCancelSound",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ro=o(ge.prototype,"zombieChew",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),uo=o(ge.prototype,"zombieGulp",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),po=o(ge.prototype,"armorHitPlastic",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),so=o(ge.prototype,"armorHitShield",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),co=o(ge.prototype,"conveyorArrive",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ho=o(ge.prototype,"pause",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yo=o(ge.prototype,"worldMapStart",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),So=o(ge.prototype,"sandStormWarn",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fo=o(ge.prototype,"readyOrSet",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bo=o(ge.prototype,"powerUpEnd",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo=o(ge.prototype,"powerUpCD",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wo=o(ge.prototype,"powerUpSnowStart",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go=o(ge.prototype,"powerUpCherryStart",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Co=o(ge.prototype,"birdExpl",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vo=o(ge.prototype,"gemSpawn",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zo=o(ge.prototype,"zombieFart",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fo=o(ge.prototype,"levelTaskComplete",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oo=o(ge.prototype,"levelTaskFail",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ro=o(ge.prototype,"levelTaskWarn",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=ge))||we));a._RF.pop()}}}));

System.register("chunks:///_virtual/SoundsController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./SettingWindow.ts"],(function(n){var t,u,o,s,i,e;return{setters:[function(n){t=n.inheritsLoose},function(n){u=n.cclegacy,o=n._decorator,s=n.find},function(n){i=n.SoundManager},function(n){e=n.Setting}],execute:function(){u._RF.push({},"48b91/HEXVLkrHSK09gtryZ","SoundsController",void 0);o.ccclass,o.property;var c=function(){function n(){}return n.Instance=function(){return n.instance||(n.instance=new n),n.instance},n}();c.instance=void 0,c.SoundFXVolume=1,c.totalVolume=1,n("SoundFXController",function(n){function u(){return n.apply(this,arguments)||this}return t(u,n),u.setSoundFxVolume=function(n){this.SoundFXVolume=n*this.totalVolume,e.saveSettings()},u}(c)).SoundFXVolume=1,n("MusicController",function(n){function u(){return n.apply(this,arguments)||this}return t(u,n),u.soundManager=function(){return s("Resources/Music").getComponent(i)},u.playMusic=function(n,t){void 0===t&&(t=!1),this.soundManager().playBGM(n,t)},u.switchMusic=function(n,t){this.soundManager().switchMusic(n,t)},u.switchWorldMusic=function(n){this.soundManager().switchWorldMusic(n)},u.switchMusicSort=function(n){this.soundManager().switchMusicSort(n)},u.pauseMusic=function(){this.soundManager().pauseBGM()},u.resumeMusic=function(){this.soundManager().resumeBGM()},u.setMusicVolume=function(n){this.MusicVolume=n*this.totalVolume,e.saveSettings()},u}(c)).MusicVolume=1,u._RF.pop()}}}));

System.register("chunks:///_virtual/Spikerock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Spikeweed.ts"],(function(e){var t,i,s,n,p;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,s=e._decorator},function(e){n=e.spikeweed,p=e.SpikeweedPlant}],execute:function(){var l;i._RF.push({},"41857lcip1ILqlkdZGd44Ij","Spikerock",void 0);var o=s.ccclass;s.property,e("SpikerockPlant",o("SpikerockPlant")(l=function(e){function i(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).spikeLeft=3,t}t(i,e);var s=i.prototype;return s.normalSmash=function(e){n.stabOnZombie(null,e,this.damage),this.fooding||this.invincible||this.setSpikeSlot(this.spikeLeft-1)},s.specialSpikeweedOnEnable=function(){this.setSpikeSlot()},s.specialSpikeweedFood=function(){this.setSpikeSlot()},s.replantable=function(){return this.spikeLeft<3},s.replant=function(){this.setSpikeSlot(3)},s.setSpikeSlot=function(e){void 0===e&&(e=3);var t=this.anmControl.body.armature();switch(e){case 2:t.getSlot("spikeL")._setDisplayIndex(0),t.getSlot("spikeM")._setDisplayIndex(0),t.getSlot("spikeR")._setDisplayIndex(-1),this.spikeLeft=2;break;case 1:t.getSlot("spikeL")._setDisplayIndex(0),t.getSlot("spikeM")._setDisplayIndex(-1),t.getSlot("spikeR")._setDisplayIndex(-1),this.spikeLeft=1;break;case 0:t.getSlot("spikeL")._setDisplayIndex(-1),t.getSlot("spikeM")._setDisplayIndex(-1),t.getSlot("spikeR")._setDisplayIndex(-1),this.spikeLeft=0,this.die();break;default:t.getSlot("spikeL")._setDisplayIndex(0),t.getSlot("spikeM")._setDisplayIndex(0),t.getSlot("spikeR")._setDisplayIndex(0),this.spikeLeft=3}!this.dead&&this.replantable()&&this.inLnC.readIndex()},i}(p))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/Spikeweed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Zombie.ts","./LnC.ts","./Square.ts","./spikeweedSound.ts","./NodePools.ts","./Zombies.ts"],(function(e){var t,n,i,o,a,r,s,c,l,u,d,p,f,h,m,b,g,y,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.CCFloat,c=e.Prefab,l=e.Vec2,u=e.dragonBones},function(e){d=e.Plant},function(e){p=e.Rectangle},function(e){f=e.zombieDamageType},function(e){h=e.LnC,m=e.TileType},function(e){b=e.Square},function(e){g=e.spikeweedSound},function(e){y=e.NodePools},function(e){k=e.ZombieEnum}],execute:function(){var S,P,w,D,C,v,L,E,Z,z,A,O,R,F,T;a._RF.push({},"4a5dc2VkfZMjLpTKsKE4QSn","Spikeweed",void 0);var I=r.ccclass,M=r.property,_=e("spikeweed",function(){function e(){}return e.stabOnZombie=function(e,t,n){switch(null==t?void 0:t.ID){case k.modern_sleighCart:t.body.DeathAnm=Math.random()>.3?"Death":"Lie";case k.pirate_barrel:case k.cowboy_piano:case k.modern_catapult:null==t||t.playDie(),null==e||e.normalSmash(t);break;default:null==t||t.dealDamage(n,!0,!1,!0,null,f.physicle)}},e}());e("SpikeweedPlant",(S=I("SpikeweedPlant"),P=M(s),w=M(s),D=M(s),C=M(s),v=M(s),L=M(c),S((z=t((Z=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"damage",z,o(t)),i(t,"attackInterval",A,o(t)),i(t,"foodDuration",O,o(t)),i(t,"foodSideDPS",R,o(t)),i(t,"foodMainDPS",F,o(t)),i(t,"pfSpikeParticle",T,o(t)),t.detector=p.createRectangleCenter(new l(2,2),2,2),t.foodSpikes=[],t.attacking=!1,t.busy=0,t}n(t,e);var a=t.prototype;return a.animationListener=function(e){var t=this;"attack"==e.name&&(this.inLane.zombiePool().forEach((function(e){!e.flying&&e.bodyRec.judgeCrossRec(t.detector)&&t.damageOnZombie(e)})),this.attacking=!1)},a.setDetector=function(e){this.detector=p.createRectangleNodeCenter(e.node,b.SquareDisW,b.SquareDisH)},a.specialPlantOnSquareChange=function(e,t){this.setDetector(t)},a.specialSpikeweedFood=function(){},a.specialPlantFood=function(e){this.foodSpikes=[],this.anmControl.playAnimation("Food",1/0),this.scheduleOnce(this.foodEnd,this.foodDuration),this.getComponent(g).playFoodSound();for(var t=0;t<=8;t++){var n=b.getSquare(this.inLnC.lIndex,t).getComponent(h);if(n!=this.inLnC&&(n.getTileType()==m.deck||n.getTileType()==m.floor)){var i=y.instantiatePooly(this.pfSpikeParticle);i.parent=n.inLane.prjLayer,i.worldPosition=n.plantPoint.worldPosition,i.getComponent(u.ArmatureDisplay).playAnimation("Idle"),this.foodSpikes.push(i.getComponent(u.ArmatureDisplay))}}this.specialSpikeweedFood()},a.specialPlantFoodEnd=function(){this.foodSpikes.forEach((function(e){e.playAnimation("Die")})),this.foodSpikes=[],this.anmControl.playRandom(),this.getComponent(g).playFoodEndSound()},a.attackAnimation=function(){this.attacking=!0,this.getComponent(g).playAttackSound(),this.anmControl.playAnimation("Attack",1,0,Math.min(1,this.attackInterval/.5))},a.detectZombie=function(){var e=this,t=!1;return this.inLane.zombiePool().forEach((function(n){t||!n.flying&&e.detector.judgeCrossRec(n.bodyRec)&&(t=!0)})),t},a.specialPlantUpdate=function(e){var t=this;this.busy>0&&(this.busy-=e),this.busy<=0&&(this.busy=0,!this.fooding&&this.detectZombie()&&(this.busy=this.attackInterval,this.attackAnimation())),this.fooding&&(this.inLane.zombiePool().forEach((function(n){n.flying||(n.stun(.2),t.damageOnZombie(n,t.foodSideDPS*e),n.bodyRec.judgeCrossRec(t.detector)?t.damageOnZombie(n,t.foodMainDPS*e):n.knockBackable&&(n.node.worldPosition.x>t.node.worldPosition.x?n.knockBackBy(new l(-.4,0),!1):n.node.worldPosition.x<=t.node.worldPosition.x&&n.knockBackBy(new l(.4,0),!1)))})),this.inLane.tombPool().forEach((function(n){n.dealDamage(t.foodSideDPS*e)})))},a.specialSpikeweedOnEnable=function(){},a.specialPlantOnEnable=function(){this.busy=0,this.eaterDetectable=!1,this.attacking=!1,this.foodSpikes=[],this.specialSpikeweedOnEnable()},a.waterable=function(){return!this.attacking},a.normalSmash=function(e){_.stabOnZombie(null,e,this.damage),this.fooding||this.invincible||this.die()},a.damageOnZombie=function(e,t){void 0===t&&(t=this.damage),_.stabOnZombie(this,e,t)},t}(d)).prototype,"damage",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),A=t(Z.prototype,"attackInterval",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),O=t(Z.prototype,"foodDuration",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),R=t(Z.prototype,"foodSideDPS",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),F=t(Z.prototype,"foodMainDPS",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 400}}),T=t(Z.prototype,"pfSpikeParticle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=Z))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/spikeweedSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./plantSound.ts","./SoundRescourses.ts"],(function(o){var n,t,e,i,r,u,a,d,c,l;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){r=o.cclegacy,u=o._decorator,a=o.AudioClip},function(o){d=o.ArrayGet},function(o){c=o.plantSound},function(o){l=o.sounds}],execute:function(){var s,p,f,S,y,h,b,g,k;r._RF.push({},"6c1c8ealqJDJ7/0UD6hYUYO","spikeweedSound",void 0);var w=u.ccclass,m=u.property;o("spikeweedSound",(s=w("spikeweedSound"),p=m([a]),f=m([a]),S=m([a]),s((b=n((h=function(o){function n(){for(var n,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return n=o.call.apply(o,[this].concat(r))||this,e(n,"attackSound",b,i(n)),e(n,"foodSound",g,i(n)),e(n,"foodEndSound",k,i(n)),n}t(n,o);var r=n.prototype;return r.playAttackSound=function(){l.play(d.getRandom(this.attackSound),1,.2)},r.playFoodSound=function(){this.playOneShot(d.getRandom(this.foodSound))},r.playFoodEndSound=function(){this.playOneShot(d.getRandom(this.foodEndSound))},n}(c)).prototype,"attackSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=n(h.prototype,"foodSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(h.prototype,"foodEndSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=h))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/splashScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingWindow.ts"],(function(e){var s,r,o,a,t,n,i,l,c,g,d,u,P,p,f,b;return{setters:[function(e){s=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){t=e.cclegacy,n=e._decorator,i=e.ProgressBar,l=e.Label,c=e.Color,g=e.tween,d=e.resources,u=e.Prefab,P=e.director,p=e.Sprite,f=e.Component},function(e){b=e.SettingWindow}],execute:function(){var L,h,R,S,v,_,C;t._RF.push({},"6ca297FSrxEoo6+4c+jGGKn","splashScene",void 0);var m=n.ccclass,y=n.property;e("splashScene",(L=m("splashScene"),h=y(i),R=y(l),L((_=s((v=function(e){function s(){for(var s,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return(s=e.call.apply(e,[this].concat(t))||this).screenColor=new c(0,0,0,255),o(s,"loadProgressBar",_,a(s)),o(s,"loadProgressLabel",C,a(s)),s}r(s,e);var t=s.prototype;return t.onLoad=function(){null==b.defaultResolution&&(b.defaultResolution=b.getDefaultResolution())},t.setProgress=function(e,s){if(void 0===s&&(s=.2),this.loadProgressBar){var r=e/11;s>0?g(this.loadProgressBar).to(s,{progress:r}).start():this.loadProgressBar.progress=r}},t.loadRes=function(){var e=this;this.setProgress(0,0),this.loadProgressLabel.string="Loading Materials...",d.load("resouce_prefabs/MaterialsRP",u,(function(s,r){e.setProgress(1),e.loadProgressLabel.string="Loading Plants...",d.load("resouce_prefabs/PlantsRP",u,(function(s,r){e.setProgress(2),e.loadProgressLabel.string="Loading Zombies...",d.load("resouce_prefabs/ZombiesRP",u,(function(s,r){e.setProgress(3),e.loadProgressLabel.string="Loading Musics...",d.load("resouce_prefabs/MusicRP",u,(function(s,r){e.setProgress(4),e.loadProgressLabel.string="Loading SFXs...",d.load("resouce_prefabs/SoundsRP",u,(function(s,r){e.setProgress(5),e.loadProgressLabel.string="Loading Levels...",d.load("resouce_prefabs/LevelNodesRP",u,(function(s,r){e.setProgress(6),e.loadProgressLabel.string="Loading Droppings...",d.load("resouce_prefabs/DroppingsRP",u,(function(s,r){e.setProgress(7),e.loadProgressLabel.string="Loading Trophies...",d.load("resouce_prefabs/TrophiesRP",u,(function(s,r){e.setProgress(8),e.loadProgressLabel.string="Loading Particles...",d.load("resouce_prefabs/ParticlesRP",u,(function(s,r){e.setProgress(9),e.loadProgressLabel.string="Loading Worldmaps...",d.load("resouce_prefabs/WorldMapsRP",u,(function(s,r){e.setProgress(10),e.loadProgressLabel.string="Loading Others...",d.load("resouce_prefabs/ScenesRP",u,(function(s,r){e.setProgress(11),P.loadScene("mainScene")}))}))}))}))}))}))}))}))}))}))}))},t.start=function(){var e=this;this.screenColor=new c(0,0,0,255),this.node.getChildByName("ScreenCover").getComponent(p).color=this.screenColor,g(this.screenColor).to(1.33,{a:0}).call((function(){e.loadRes()})).start()},t.update=function(e){this.node.getChildByName("ScreenCover").getComponent(p).color=this.screenColor},s}(f)).prototype,"loadProgressBar",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=s(v.prototype,"loadProgressLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=v))||S));t._RF.pop()}}}));

System.register("chunks:///_virtual/SplitPea.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./Square.ts","./CharacterManager.ts","./peaShooterSound.ts"],(function(t){var o,e,n,a,i,r,s,h,c,l,u,f,d,p,P;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,s=t._decorator,h=t.CCInteger,c=t.Prefab,l=t.tween,u=t.Vec2},function(t){f=t.PeashooterPlant},function(t){d=t.Square},function(t){p=t.Rectangle},function(t){P=t.peaShooterSound}],execute:function(){var y,C,S,m,g,v,_;r._RF.push({},"5cfcasdZnJG5Kr0DBCWOIf5","SplitPea",void 0);var B=s.ccclass,k=s.property;t("SplitPeaPlant",(y=B("SplitPeaPlant"),C=k(h),S=k(c),y((v=o((g=function(t){function o(){for(var o,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(o=t.call.apply(t,[this].concat(i))||this)._foodLeftBackPeaCount=0,n(o,"foodBackPeaMaxCount",v,a(o)),n(o,"peaMega",_,a(o)),o}e(o,t);var r=o.prototype;return r.animationListenerAdd=function(t){"ShootL"==t.name?this.fooding?(this._shootBack(!1,!1,this.peaMega),this.getComponent(P).playShootMega(),this.foodEnd()):this._shootBack(!1,!1):"ShootR"==t.name&&this._shoot()},r._shootBack=function(t,o,e){void 0===e&&(e=this.pea);var n=this._shoot(t,o,e);n.linearVelocity.x*=-1,n.worldPositionX-=50},r.foodShooting=function(){var t=this;this._foodLeftBackPeaCount=this.foodBackPeaMaxCount,this._foodLeftPeaCount=this.foodPeaMaxCount,l(this).to(2,{foodLeftPeaCount:0,foodLeftBackPeaCount:0}).call((function(){t.anmControl.playAnimation("ShootL",1)})).start()},r.setDetecter=function(t,o){var e=d.lawnRec.prjX();this.detector=p.createRectangleCenter(new u((e.x+e.y)/2,o.node.worldPosition.y),11*d.SquareDisW,d.SquareDisH)},r.detectEnemySplit=function(){var t=this,o=0;return this.inLane.zombiePool().forEach((function(e){if(!(o>=3)&&e.bodyRec.judgeCrossRec(t.detector)){var n=e.bodyRec.prjX();if(1!=o&&n.y>t._worldPositionX&&(o+=1),o>=3)return;2!=o&&n.x<=t._worldPositionX&&(o+=2)}})),o},r.specialPlantUpdate=function(t){if(this.busy>0&&(this.busy-=t),this.busy<=0&&!this.dead&&!this.fooding){var o=this.detectEnemySplit();if(o>0){1==o&&this.anmControl.playAnimation("ShootR",1,.1,Math.min(this.shootInterval,1)),2==o&&this.anmControl.playAnimation("ShootL",1,.1,Math.min(this.shootInterval,1)),3==o&&this.anmControl.playAnimation("ShootB",1,.1,Math.min(this.shootInterval,1)),this.shooting=!0;var e=.15*Math.random()*(this.shootInterval/1.35);this.busy=this.shootInterval+e}}},i(o,[{key:"foodLeftBackPeaCount",get:function(){return this._foodLeftBackPeaCount},set:function(t){for(var o=Math.floor(this._foodLeftBackPeaCount)-Math.floor(t),e=0;e<o;e++)this._shootBack(!0,!0);this._foodLeftBackPeaCount=t}}]),o}(f)).prototype,"foodBackPeaMaxCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),_=o(g.prototype,"peaMega",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/SpringBean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./springbeanSound.ts"],(function(e){var t,n,i,a,o,s,r,c,l,h,u,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.CCFloat,c=e.Vec2},function(e){l=e.Plant},function(e){h=e.Rectangle,u=e.ZombiePool},function(e){d=e.Square},function(e){p=e.springbeanSound}],execute:function(){var m,y,b,f,g,D,S;o._RF.push({},"a736bTbuoxA64KEceTSlBIx","SpringBean",void 0);var R=s.ccclass,C=s.property;e("SpringBean",(m=R("SpringBean"),y=C(r),b=C(r),m((D=t((g=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"knockBackDistance",D,a(t)),t.readyDetector=void 0,t.bounceDetector=void 0,i(t,"sleepDuration",S,a(t)),t.switching=!1,t.ready=!1,t.asleep=0,t}n(t,e);var o=t.prototype;return o.dealLeapOnZombie=function(e){var t,n,i,a;e.leapable&&((null==(t=e.inLane)||!t.isSea)&&e.inLnC.cIndex>=4&&null!=(n=e.inLane.UpperLane)&&n.isSea?e.leapBy(new c(1,-1)):(null==(i=e.inLane)||!i.isSea)&&e.inLnC.cIndex>=4&&null!=(a=e.inLane.LowerLane)&&a.isSea?e.leapBy(new c(1,1)):e.leapBy(new c(this.knockBackDistance,0),!0,.5,27,!0,!0))},o.setDetector=function(e){this.readyDetector=h.createRectangleNodeCenter(e.node,3*d.SquareDisW,d.SquareDisH),this.bounceDetector=h.createRectangleNodeCenter(e.node,d.SquareDisW,d.SquareDisH)},o.setAnimation=function(e){void 0===e&&(e=0);var t=this.anmControl;1==e?(t.IdleAnim="Idle_Ready",t.RandomAnim=["Random_Ready"]):2==e?(t.IdleAnim="Sleep",t.RandomAnim=[]):(t.IdleAnim="Idle",t.RandomAnim=["Random"])},o.animationListener=function(e){var t=this;switch(e.name){case"sleep":this.damagable=!0,this.short_=!1,this.asleep=this.sleepDuration;break;case"foodBounce":u.pool().forEach((function(e){e.flying||t.dealLeapOnZombie(e)})),this.getComponent(p).playFoodBounceSound();break;case"foodLeap":this.getComponent(p).playFoodLeapSound();break;case"ready":this.ready=!0,this.switching=!1;break;case"recover":this.switching=!1;break;case"foodEnd":this.foodEnd()}},o.specialPlantFood=function(e){this.setAnimation(),this.anmControl.playAnimation("Food",1),this.getComponent(p).playFoodSound(),this.ready=!1,this.asleep=0,this.switching=!1,this.damagable=!0},o.getReady=function(){this.damagable=!1,this.short_=!0,this.switching=!0,this.getComponent(p).playReadySound(),this.anmControl.playAnimation("Ready",1),this.setAnimation(1),this.eaterDetectable=!1,this.smasherDetectable=!1},o.recover=function(){this.ready=!1,this.switching=!0,this.short_=!1,this.damagable=!0,this.anmControl.playAnimation("Recover",1),this.setAnimation(),this.asleep=0,this.eaterDetectable=!0,this.smasherDetectable=!0},o.bounce=function(){this.asleep=1/0,this.getComponent(p).playBounceSound(),this.anmControl.playAnimation("Bounce",1),this.setAnimation(2),this.eaterDetectable=!0,this.smasherDetectable=!0},o.specialPlantOnEnable=function(){this.setAnimation(),this.anmControl.playRandom(),this.ready=!1,this.switching=!1,this.asleep=0},o.detectReadyEnemy=function(){var e,t=this,n=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){n||e.bodyRec.judgeCrossRec(t.readyDetector)&&(n=!0)})),n&&!this.ready?this.getReady():!n&&this.ready&&this.recover()},o.detectBounceEnemy=function(){var e,t=this,n=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){n||e.flying||!e.leapable||e.bodyRec.judgeCrossRec(t.bounceDetector)&&(t.dealLeapOnZombie(e),n=!0,t.bounce())}))},o.waterable=function(){return!this.asleep&&!this.ready&&!this.switching},o.specialPlantUpdate=function(e){this.asleep>0&&(this.asleep-=e,this.asleep<=0&&(this.asleep=0,this.recover())),!this.switching&&!this.fooding&&this.asleep<=0&&(this.detectReadyEnemy(),this.ready&&this.detectBounceEnemy())},o.specialPlantOnSquareChange=function(e,t){this.setDetector(t)},t}(l)).prototype,"knockBackDistance",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.25}}),S=t(g.prototype,"sleepDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),f=g))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/springbeanSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts"],(function(n){var o,e,t,i,u,r,a,l;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){u=n.cclegacy,r=n._decorator,a=n.AudioClip},function(n){l=n.plantSound}],execute:function(){var d,c,p,f,s,S,y,b,h,g,m,v,z;u._RF.push({},"2a2f1aLxRRHS4dm4yG3R06R","springbeanSound",void 0);var L=r.ccclass,R=r.property;n("springbeanSound",(d=L("springbeanSound"),c=R(a),p=R(a),f=R(a),s=R(a),S=R(a),d((h=o((b=function(n){function o(){for(var o,e=arguments.length,u=new Array(e),r=0;r<e;r++)u[r]=arguments[r];return o=n.call.apply(n,[this].concat(u))||this,t(o,"foodSound",h,i(o)),t(o,"foodLeapSound",g,i(o)),t(o,"foodBounceSound",m,i(o)),t(o,"bounceSound",v,i(o)),t(o,"readySound",z,i(o)),o}e(o,n);var u=o.prototype;return u.playFoodSound=function(){this.playOneShot(this.foodSound)},u.playFoodLeapSound=function(){this.playOneShot(this.foodLeapSound)},u.playFoodBounceSound=function(){this.playOneShot(this.foodBounceSound)},u.playBounceSound=function(){this.playOneShot(this.bounceSound)},u.playReadySound=function(){this.playOneShot(this.readySound)},o}(l)).prototype,"foodSound",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=o(b.prototype,"foodLeapSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=o(b.prototype,"foodBounceSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=o(b.prototype,"bounceSound",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=o(b.prototype,"readySound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/Square.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LnC.ts","./UI.ts","./LnCLower.ts","./FrontYard.ts","./Lane.ts","./CharacterManager.ts","./Mouse.ts","./levelController.ts"],(function(e){var n,t,i,o,a,r,s,l,u,h,d,c,g,f,m,p,C,S,L,q,w,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.UITransform,l=e.Node,u=e.Vec2,h=e.find,d=e.Vec3,c=e.instantiate,g=e.Size,f=e.Component},function(e){m=e.LnC},function(e){p=e.UIInGame},function(e){C=e.LnCLower},function(e){S=e.FrontYard},function(e){L=e.Lane},function(e){q=e.Rectangle},function(e){w=e.Mouse},function(e){v=e.LevelPlay}],execute:function(){var y,x,I,P,b,H,R,D,B,N,A,T,z,W,G,E,U,M,F,O;a._RF.push({},"3cbc1qLm3VDPKDOscw+4M6b","Square",void 0);var V=r.ccclass,k=r.property;e("Square",(y=V("Square"),x=k(s),I=k(s),P=k(l),b=k(m),H=k(m),R=k(m),D=k(m),B=k(m),y(((O=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).laneAbstract=void 0,n.laneHere=void 0,n.laneThere=void 0,n.lanesInLawn=[],i(n,"selectCrossingV",T,o(n)),i(n,"selectCrossingH",z,o(n)),n.UIInGame=null,n.indexPlant=0,n.indexVine=0,n.indexFly=0,n.indexFlowerPot=0,n.indexLilyPad=0,n.indexSpikeweed=0,n.indexPotatomine=0,n.indexGravebuster=0,n.indexShovel=0,n.indexPF=0,i(n,"square00",W,o(n)),n.squares=[],n.inLawnLnCs=[],i(n,"LnCHere",G,o(n)),i(n,"LnCThere",E,o(n)),i(n,"LnCLeft",U,o(n)),i(n,"LnCRight",M,o(n)),i(n,"LnCAbstract",F,o(n)),n}t(n,e),n.Square00WorldPosition=function(){return new u(this.Square00.worldPosition.x,this.Square00.worldPosition.y)},n.getSquareWorldPosition=function(e,n,t,i){return void 0===t&&(t=.5),void 0===i&&(i=.5),new u(this.Square00WorldPosition().x+n*this.SquareDisW+(t-.5)*this.SquareDisW,this.Square00WorldPosition().y-e*this.SquareDisH+(i-.5)*this.SquareDisH)},n.getSquare=function(e,n){if(e>=0&&e<=4){if(n>=0&&n<=8)return this.Square00.parent.getChildByName("Square"+e.toString()+n.toString());if(9==n)return this.Square00.parent.getChildByName("SquaresRight");if(-1==n)return this.Square00.parent.getChildByName("SquaresLeft")}else{if(5==e)return this.Square00.parent.getChildByName("SquaresHere");if(-1==e)return this.Square00.parent.getChildByName("SquaresThere")}return this.Square00.parent.getChildByName("SquaresAbstract")},n.getLnC=function(e,n){if(e>=0&&e<=4){if(n>=0&&n<=8)return this.component.inLawnLnCs[e][n];if(9==n)return this.component.LnCRight;if(-1==n)return this.component.LnCLeft}else{if(5==e)return this.component.LnCHere;if(-1==e)return this.component.LnCThere}return this.component.LnCAbstract},n.getAllLnC=function(){for(var e=[],t=0;t<=4;t++)for(var i=0;i<=8;i++)e.push(n.getLnC(t,i));return e},n.getRandomSquare=function(e,n,t,i){void 0===e&&(e=0),void 0===n&&(n=4),void 0===t&&(t=0),void 0===i&&(i=8);var o=Math.floor(e);o<0&&(o=0),o>4&&(o=4);var a=Math.floor(n);a<0&&(a=0),a>4&&(a=4);var r=Math.floor(t);r<0&&(r=0),r>8&&(r=8);var s=Math.floor(i);s<0&&(s=0),s>8&&(s=8);var l=Math.floor(Math.random()*(a-o+1))+o,u=Math.floor(Math.random()*(s-r+1))+r;return this.getSquare(l,u)},n.getRandomSquares=function(e){for(var n=[];n.length<e&&n.length<45;){var t=this.getRandomSquare();-1==n.indexOf(t)&&n.push(t)}return n},n.getLane=function(e){return h(e>=-1&&e<=5?"Canvas/LawnCommon/squaresLower/Row"+e.toString():"Canvas/LawnCommon/squaresLower/Row-2")},n.getLaneComponent=function(e){if(this.component.laneAbstract||(this.component.laneAbstract=this.getLane(-2).getComponent(L)),this.component.laneHere||(this.component.laneHere=this.getLane(5).getComponent(L)),this.component.laneThere||(this.component.laneThere=this.getLane(-1).getComponent(L)),this.component.lanesInLawn.length<=0){this.component.lanesInLawn=[];for(var t=0;t<5;t++)this.component.lanesInLawn.push(n.getLane(t).getComponent(L))}return-1==e?this.component.laneThere:5==e?this.component.laneHere:e>=0&&e<=4?this.component.lanesInLawn[e]:this.component.laneAbstract},n.judgeInLawn=function(e){return this.lawnRec.judgeInRecP(new u(e.x,e.y))},n.moveCrossing=function(e,n){if(void 0===e&&(e=-1),void 0===n&&(n=-1),e>=0&&e<=4&&n>=0&&n<=8){var t=this.getSquareWorldPosition(2,n);this.component.selectCrossingV.node.worldPosition=new d(t.x,t.y,10);var i=this.getSquareWorldPosition(e,4);this.component.selectCrossingH.node.worldPosition=new d(i.x,i.y,10)}else this.component.selectCrossingV.node.worldPosition=new d(-1e3,0),this.component.selectCrossingH.node.worldPosition=new d(0,-1e3)},n.armorOnAllZombies=function(e){for(var n=0;n<5;n++)this.getLaneComponent(n).zombiePool().forEach((function(n){n.addArmor(e)}))},n.foodAllPlants=function(){n.getAllLnC().forEach((function(e){e.getAllPlants().forEach((function(e){e.food()}))}))},n.allLnCSpawnPlant=function(e){n.getAllLnC().forEach((function(n){n.spawnPlantByPlantEnum(e,!0,!0,!0)||n.getAllPlants().forEach((function(n){n.ID==e&&n.replantable()&&(n.replant(),n.health=n.toughness)}))}))},n.shovelAllPlants=function(){n.getAllLnC().forEach((function(e){e.removePlant()}))};var a=n.prototype;return a.plantGhost=function(){this.squares.forEach((function(e){var n=e.getComponent(m);1==n.indexPoint&&(n.index=1,n.ghostPoint.destroyAllChildren(),n.plantGhost())}))},a.readIndex=function(){var e=this.UIInGame.index<=8&&this.UIInGame.index>=0;this.indexSpikeweed=e&&-1!=this.UIInGame.plantInHandType.indexOf("spikeweed")?1:0,this.indexPotatomine=e&&-1!=this.UIInGame.plantInHandType.indexOf("potatomine")?1:0,this.indexLilyPad=e&&-1!=this.UIInGame.plantInHandType.indexOf("lilypad")?1:0,this.indexFlowerPot=e&&-1!=this.UIInGame.plantInHandType.indexOf("floawerPot")?1:0,this.indexPlant=e&&-1!=this.UIInGame.plantInHandType.indexOf("plant")?1:0,this.indexVine=e&&-1!=this.UIInGame.plantInHandType.indexOf("vine")?1:0,this.indexFly=e&&-1!=this.UIInGame.plantInHandType.indexOf("fly")?1:0,this.indexGravebuster=e&&-1!=this.UIInGame.plantInHandType.indexOf("gravebuster")?1:0,this.indexShovel=-2==p.index?1:0,this.indexPF=-3==p.index?1:0,this.inLawnLnCs.forEach((function(e){e.forEach((function(e){e.selection()}))}))},a.deletePlantGhosts=function(){this.squares.forEach((function(e){e.getChildByName("PlantPoint").destroyAllChildren()}))},a.onLoad=function(){var e=this;n.component=this;var t=this.square00;n.Square00=t;var i=null==t?void 0:t.getComponent(m);if(i){i.RowParent=this.node.parent.getChildByName("squaresLower").getChildByName("Row0"),i.SquaresTotal=this,i.inLane=i.RowParent.getComponent(L),i.lIndex=i.cIndex=0,this.squares.push(t);for(var o=0;o<=4;o++){for(var a=1;a<9;a++){var r=null;(r=c(t)).parent=this.node,r.setPosition(this.node.getChildByName("Square"+o.toString()+(a-1).toString()).getPosition().x+n.SquareDisW,this.node.getChildByName("Square"+o.toString()+(a-1).toString()).getPosition().y),r.name="Square"+o.toString()+a.toString();var s=r.getComponent(m);s.RowParent=n.getLane(o),s.inLane=r.getComponent(m).RowParent.getComponent(L),s.SquaresTotal=this,s.lIndex=o,s.cIndex=a,this.squares.push(r)}if(4==o)break;var l=null;(l=c(this.node.getChildByName("Square"+o.toString()+"0"))).parent=this.node,l.setPosition(this.node.getChildByName("Square"+o.toString()+"0").getPosition().x,this.node.getChildByName("Square"+o.toString()+"0").getPosition().y-n.SquareDisH),l.name="Square"+(o+1).toString()+"0";var u=l.getComponent(m);u.RowParent=n.getLane(o+1),u.inLane=l.getComponent(m).RowParent.getComponent(L),u.SquaresTotal=this,u.lIndex=o+1,u.cIndex=0,this.squares.push(l)}var d=this.node.parent.getChildByName("squaresLower").getChildByName("Row0").getChildByName("Square00");d.getComponent(C).standardize(t);for(var g=d.getSiblingIndex(),f=0;f<=4;f++){for(var S=1;S<9;S++){var q=c(d);q.parent=this.node.parent.getChildByName("squaresLower").getChildByName("Row"+f.toString()),q.setSiblingIndex(g),q.name="Square"+f.toString()+S.toString(),q.getComponent(C).standardize(this.node.getChildByName(q.name))}if(4==f)break;var w=c(d);w.parent=this.node.parent.getChildByName("squaresLower").getChildByName("Row"+(f+1).toString()),w.name="Square"+(f+1).toString()+"0",w.setSiblingIndex(g),w.getComponent(C).standardize(this.node.getChildByName(w.name))}this.UIInGame=h("Canvas/UIInGame").getComponent(p),this.indexPlant=0,this.indexVine=0,this.indexFlowerPot=0,this.indexLilyPad=0,this.indexFly=0,this.indexShovel=0,this.indexPF=0,this.indexSpikeweed=0,this.indexPotatomine=0,this.indexGravebuster=0;for(var v=-1;v<=5;v++)n.getLaneComponent(v).midY=n.getSquareWorldPosition(v,0).y}[0,1,2,3,4].forEach((function(n){var t=[];[0,1,2,3,4,5,6,7,8].forEach((function(i){t.push(e.squares[9*n+i].getComponent(m))})),e.inLawnLnCs.push(t)})),[this.LnCAbstract,this.LnCLeft,this.LnCRight].forEach((function(e){e.inLane=n.getLane(-2).getComponent(L)})),this.LnCHere.inLane=n.getLaneComponent(5),this.LnCThere.inLane=n.getLaneComponent(-1)},a.moveCart=function(){if(w.followingCart)for(var e=w.mouseInL-w.followingCart.inLnC.lIndex,n=0;n<Math.abs(e);n++)e<0&&w.followingCart.moveUp(),e>0&&w.followingCart.moveDown()},a.update=function(e){for(var t,i=!1,o=null,a=-1,r=n.getLnC(0,0).node.worldPosition.y+n.SquareDisH/2;a<5&&!(w.position.y>r-(a+1)*n.SquareDisH);)a++;this.inLawnLnCs.forEach((function(e,t){i||e.forEach((function(e){i||e.rec.judgeInRecP(w.position,!0)&&(1==e.index&&(i=!0,1==n.lncSelectionMode&&n.moveCrossing(e.lIndex,e.cIndex)),o=e)}))})),w.mouseInL=a,this.moveCart(),i||n.moveCrossing(-1,-1),o&&null!=(t=o)&&t.mold&&p.index>=0&&p.index<=8?n.getAllLnC().forEach((function(e){var n;null==e||null==(n=e.mold)||n.playHide()})):v.component.gameWon||n.getAllLnC().forEach((function(e){var n;null==e||null==(n=e.mold)||n.playIdle()}))},a.start=function(){n.lawnRec=q.createRectangleNodeCenter(n.getSquare(2,4),9*n.SquareDisW,5*n.SquareDisH),n.zombieWinX=n.Square00WorldPosition().x-1.5*n.SquareDisW,n.zombieSpawnX=n.Square00WorldPosition().x+10.5*n.SquareDisW,this.selectCrossingV.contentSize=new g(n.SquareDisW,5*n.SquareDisH),this.selectCrossingH.contentSize=new g(9*n.SquareDisW,n.SquareDisH)},n.setSquareType=function(){S.currentLawn.initialize(),S.currentLawn.tideOnLoad&&S.addTide()},n}(f)).SquareDisH=84,O.SquareDisW=72,O.Square00=null,O.zombieWinX=0,O.zombieSpawnX=1e3,O.lawnRec=q.createRectangleCenter(new u(0,0),9*O.SquareDisW,5*O.SquareDisH),O.lncSelectionMode=0,O.component=void 0,T=n((A=O).prototype,"selectCrossingV",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(A.prototype,"selectCrossingH",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(A.prototype,"square00",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(A.prototype,"LnCHere",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=n(A.prototype,"LnCThere",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(A.prototype,"LnCLeft",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(A.prototype,"LnCRight",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(A.prototype,"LnCAbstract",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=A))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/Squash.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./squashSound.ts","./CharacterManager.ts","./Square.ts","./LnC.ts","./levelController.ts","./NodePools.ts"],(function(t){var o,i,e,n,s,a,l,r,h,d,c,u,f,m,g,p,y,b;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.CCInteger,r=t.CCFloat,h=t.Vec2,d=t.tween},function(t){c=t.Plant},function(t){u=t.squashSound},function(t){f=t.Rectangle,m=t.ZombiePool},function(t){g=t.Square},function(t){p=t.TileType},function(t){y=t.LevelPlay},function(t){b=t.ArrayGet}],execute:function(){var P,T,L,k,C,w,A;s._RF.push({},"5014euUaBJHzKQjX+6VD5ps","Squash",void 0);var v=a.ccclass,S=a.property;t("SquashPlant",(P=v("SquashPlant"),T=S(l),L=S(r),P((w=o((C=function(t){function o(){for(var o,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(o=t.call.apply(t,[this].concat(s))||this).lockedTarget=void 0,o.lookedAtTarget=void 0,o.facingLeft=!1,o.busy=!1,e(o,"foodSmashTime",w,n(o)),o.foodLeftTime=2,e(o,"smashDamage",A,n(o)),o.detector=new f,o}i(o,t);var s=o.prototype;return s.specialPlantOnEnable=function(){this.busy=!1,this.lockedTarget=null,this.lookedAtTarget=null,this.facingLeft=!1,this.deathAnm="Death",this.eatDamagable=!1},s.normalSmash=function(t){},s.animationListener=function(t){if("judgeTarget"==t.name){if(this.fooding)return;this.lookedAtTarget&&this.lookedAtTarget.isAlive()?(this.getComponent(u).playLeapSay(),this.anmControl.playAnimation("Jump"+(this.facingLeft?"L":"R"),1)):(this.anmControl.playRandom(),this.busy=!1)}else"jump"==t.name?this.lookedAtTarget&&this.lookedAtTarget.isAlive()?this.smashToZombie(this.lookedAtTarget):this.fooding?this.foodLeftTime<0?this.smashToZombie(null):this.smashToZombie(b.getRandom(m.pool())):(this.anmControl.playRandom(),this.facingLeft=!1,this.busy=!1):"die"==t.name&&this.body.setParent(this.node,!0)},s.animationOnComplete=function(){!this.busy||this.dead||this.fooding||this.smashToZombie(null),this.fooding&&(this.anmControl.playAnimation("JumpR",1),this.foodLeftTime--)},s.specialPlantFood=function(t){this.anmControl.playAnimation("LookR",1),this.getComponent(u).playFood(),this.foodLeftTime=this.foodSmashTime},s.lookAtZombie=function(t){this.busy=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.lookedAtTarget=t;var o="LookR";this.facingLeft=!1,t.worldPositionX<this.worldPositionX&&(o="LookL",this.facingLeft=!0),this.getComponent(u).playLook(),this.anmControl.playAnimation(o,2)},s.smashZombies=function(){var t=this,o=f.createRectangleCenter(new h(this.worldPositionX,g.getLnC(this.inLane.LaneIndex,0).node.worldPosition.y),2*g.SquareDisW,g.SquareDisH),i=!1;this.inLane.zombiePool().forEach((function(e){o.judgeCrossRec(e.bodyRec)&&(e.dealDamage(t.smashDamage,!0,!0,!0,new h(0,-20)),i=!0)}));var e=!1;if(!this.fooding){var n=this.inLnC.getTileType();n==p.water||n==p.sea?(this.body.setParent(this.node,!0),this.drown(n==p.sea),e=!0):n==p.sky?(this.body.setParent(this.node,!0),this.fall(),e=!0):i&&(this.deathAnm="null",this.die())}this.lockedTarget=null,this.lookedAtTarget=null,e||(y.shakeScreen(),this.getComponent(u).playSmash()),this.fooding&&this.foodLeftTime<0&&this.foodEnd()},s.smashToZombie=function(t){var o=this;t?(this.body.setParent(t.inLane.prjLayer,!0),d(this).to(.2,{height:120,worldPositionX:t.worldPositionX,worldPositionY:t.worldPositionY},{easing:"quadOut"}).to(.2,{}).call((function(){o.lockedTarget=t,o.anmControl.playAnimation("Fall"+(o.facingLeft?"L":"R")+(o.fooding?"":"Fade"),1)})).to(.1,{height:0}).call((function(){o.smashZombies()})).start()):(this.body.setParent(this.node,!0),this.facingLeft=this.plantInLnC.plantPoint.worldPosition.x<this._worldPositionX,d(this).to(.2,{height:120,worldPositionX:this.plantInLnC.plantPoint.worldPosition.x,worldPositionY:this.plantInLnC.plantPoint.worldPosition.y},{easing:"quadOut"}).to(.2,{}).call((function(){o.anmControl.playAnimation("Fall"+(o.facingLeft?"L":"R")+(o.fooding?"":"Fade"),1)})).to(.1,{height:0}).call((function(){o.smashZombies(),o.busy=!1})).start())},s.specialPlantOnSquareChange=function(t,o){this.detector=f.createRectangleNodeCenter(this.plantInLnC.node,3*g.SquareDisW,g.SquareDisH)},s.waterable=function(){return!this.busy},s.detectEnemies=function(){var t=this,o=1/0,i=null;this.inLane.zombiePool().forEach((function(e){var n=e.bodyRec.prjX().x;n<o&&e.bodyRec.judgeCrossRec(t.detector)&&(i=e,o=n)})),i&&this.lookAtZombie(i)},s.burn=function(){},s.specialPlantUpdate=function(t){this.lockedTarget&&(this.worldPositionX=this.lockedTarget.shadeSocket.worldPosition.x,this.worldPositionY=this.lockedTarget.worldPositionY),(!this.busy||this.lockedTarget&&!this.lockedTarget.isAlive())&&(this.lockedTarget=null),(!this.busy||this.lookedAtTarget&&!this.lookedAtTarget.isAlive())&&(this.lookedAtTarget=null),this.lookedAtTarget||this.busy||this.fooding||this.detectEnemies()},s.specialPlantUpdateForce=function(t){this.body.worldPosition=this.node.worldPosition},o}(c)).prototype,"foodSmashTime",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),A=o(C.prototype,"smashDamage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1800}}),k=C))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/squashSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts"],(function(o){var n,t,r,e,i,a,u,s;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,r=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,u=o.AudioClip},function(o){s=o.plantSound}],execute:function(){var l,p,c,S,d,y,h,f,b,m,g;i._RF.push({},"fa865YF/SVKV4g2J8EXZQnP","squashSound",void 0);var F=a.ccclass,v=a.property;o("squashSound",(l=F("squashSound"),p=v([u]),c=v([u]),S=v([u]),d=v([u]),l((f=n((h=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=o.call.apply(o,[this].concat(i))||this,r(n,"smashSounds",f,e(n)),r(n,"lookSounds",b,e(n)),r(n,"leapSaySounds",m,e(n)),r(n,"foodSounds",g,e(n)),n}t(n,o);var i=n.prototype;return i.playSmash=function(){this.playOneShotFromArray(this.smashSounds)},i.playLook=function(){this.playOneShotFromArray(this.lookSounds)},i.playLeapSay=function(){this.playOneShotFromArray(this.leapSaySounds)},i.playFood=function(){this.playOneShotFromArray(this.foodSounds)},n}(s)).prototype,"smashSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=n(h.prototype,"lookSounds",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=n(h.prototype,"leapSaySounds",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=n(h.prototype,"foodSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=h))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/stageEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./SoundsController.ts"],(function(t){var n,i,e,o,a,r,s,l,u,p,d,c,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.AudioClip,l=t.dragonBones,u=t.find,p=t.AudioSource,d=t.Component},function(t){c=t.ArrayGet},function(t){h=t.SoundFXController}],execute:function(){var f,m,y,g,S,A,C;a._RF.push({},"c9464IbAxdGdJwFFQW8KmBd","stageEffect",void 0);var w=r.ccclass,b=r.property;t("StageEffect",(f=w("stageEffect"),m=b([s]),y=b([s]),f((A=n((S=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this).lower=null,n.upper=null,n.initiated=!1,e(n,"startSound0",A,o(n)),e(n,"startSound1",C,o(n)),n}i(n,t);var a=n.prototype;return a.onEnable=function(){this.lower=this.getComponent(l.ArmatureDisplay),this.upper=u("Canvas/LawnCommon/stageEffect/"+this.node.name).getComponent(l.ArmatureDisplay),this.getComponent(p)||this.addComponent(p),this.playNone()},a.playEnd=function(){this.initiated&&(this.initiated=!1,this.upper.playAnimation("End"),this.lower.playAnimation("End"))},a.playNone=function(){this.initiated&&(this.upper.playAnimation("None"),this.lower.playAnimation("None"),this.initiated=!1)},a.playIdle=function(){this.initiated||(this.upper.playAnimation("Idle"),this.lower.playAnimation("Idle"),this.initiated=!0)},a.playStart=function(){this.initiated||(this.upper.playAnimation("Start"),this.lower.playAnimation("Start"),this.startSound0.length&&this.getComponent(p).playOneShot(c.getRandom(this.startSound0),h.SoundFXVolume),this.startSound1.length&&this.getComponent(p).playOneShot(c.getRandom(this.startSound1),h.SoundFXVolume),this.initiated=!0)},n}(d)).prototype,"startSound0",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(S.prototype,"startSound1",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=S))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/Stallia.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./stalliaSound.ts","./levelController.ts"],(function(e){var t,n,o,i,a,r,l,s,c,u,p,h,d,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.CCFloat,s=e.Color,c=e.tween},function(e){u=e.Plant},function(e){p=e.Rectangle,h=e.ZombiePool},function(e){d=e.Square},function(e){f=e.stalliaSound},function(e){m=e.LevelPlay}],execute:function(){var b,y,C,S,g,P,v,D,L;a._RF.push({},"c8ac1JjQAJDaqryEOtad9Lt","Stallia",void 0);var w=r.ccclass,E=r.property;e("StalliaPlant",(b=w("StalliaPlant"),y=E(l),C=E(s),S=E(s),b((v=t((P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"perfumeDuration",v,i(t)),o(t,"purple1",D,i(t)),o(t,"purple2",L,i(t)),t.screenColor=new s(0,0,0,0),t.detector=void 0,t}n(t,e);var a=t.prototype;return a.specialPlantOnEnable=function(){this.damagable=!1,this.eaterDetectable=!1,this.smasherDetectable=!1},a.specialPlantLateUpdate=function(e){0!=this.screenColor.a&&m.screenFlashColors.push(this.screenColor)},a.specialPlantFood=function(e){this.anmControl.playAnimation("Food")},a.animationListener=function(e){var t=this;if("explode"==e.name){var n,o=p.createRectangleNodeCenter(this.inLnC.node,3*d.SquareDisW,3*d.SquareDisH);this.getComponent(f).playExplodeSound(),null==(n=this.inLane)||n.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(e){e.bodyRec.judgeCrossRec(o)&&e.setPerfume(t.perfumeDuration)}))}else if("foodExplode"==e.name){h.pool().concat().forEach((function(e){e.setPerfume(t.perfumeDuration)}));var i=c(this.screenColor).to(1/60/this.anmControl.body.timeScale,{r:this.purple2.r,g:this.purple2.g,b:this.purple2.b,a:this.purple2.a}).to(1/4/this.anmControl.body.timeScale,{a:0}).start();this.bodyTweens.push(i)}else if("foodEnd"==e.name)this.foodEnd();else if("foodExplodeStart"==e.name){this.getComponent(f).playFoodSound(),this.screenColor=new s(this.purple1.r,this.purple1.g,this.purple1.b,0);var a=c(this.screenColor).to(.4/this.anmControl.body.timeScale,{a:this.purple1.a}).start();this.bodyTweens.push(a)}},a.specialPlantUpdate=function(e){this.fooding||this.detectEnemy()},a.detectEnemy=function(){var e,t=this,n=!1;null==(e=this.inLane)||e.zombiePool().forEach((function(e){n||e.shouldSpeedScale()*e.randomSpeed>0&&e.bodyRec.judgeCrossRec(t.detector)&&(n=!0)})),n&&this.die()},a.specialPlantOnSquareChange=function(e,t){this.detector=p.createRectangleNodeCenter(t.node,.5*d.SquareDisW,d.SquareDisH)},t}(u)).prototype,"perfumeDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),D=t(P.prototype,"purple1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),L=t(P.prototype,"purple2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(255,255,255,255)}}),g=P))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/stalliaSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts"],(function(o){var n,t,e,r,i,a,l,u;return{setters:[function(o){n=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,l=o.AudioClip},function(o){u=o.plantSound}],execute:function(){var d,p,c,s,f,S,y;i._RF.push({},"dd72esMSwhIvJfkd2y8xG78","stalliaSound",void 0);var h=a.ccclass,v=a.property;o("stalliaSound",(d=h("stalliaSound"),p=v([l]),c=v([l]),d((S=n((f=function(o){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=o.call.apply(o,[this].concat(i))||this,e(n,"foodSound",S,r(n)),e(n,"explodeSound",y,r(n)),n}t(n,o);var i=n.prototype;return i.playFoodSound=function(){this.playOneShotFromArray(this.foodSound)},i.playExplodeSound=function(){this.playOneShotFromArray(this.explodeSound)},n}(u)).prototype,"foodSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=n(f.prototype,"explodeSound",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=f))||s));i._RF.pop()}}}));

System.register("chunks:///_virtual/StarFruit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./Square.ts","./starFruitSound.ts","./CharacterManager.ts"],(function(e){var t,o,n,i,a,r,s,c,u,d,l,h,f,S,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Prefab,c=e.HALF_PI,u=e.Vec2},function(e){d=e.PeashooterPlant},function(e){l=e.Square},function(e){h=e.starFruitSound},function(e){f=e.Rectangle,S=e.ZombiePool,p=e.TombPool}],execute:function(){var D,y,g,m,F;a._RF.push({},"e7d20dLX0JKjqlLE9Yio589","StarFruit",void 0);var q=r.ccclass,b=r.property;e("StarFruitPlant",(D=q("StarFruit"),y=b(s),D((F=t((m=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"peaFood",F,i(t)),t.sideDetectors=[],t.laneDetector=null,t}o(t,e);var a=t.prototype;return a.specialPlantFood=function(){this.anmControl.playAnimation("FoodStart",1/0),this.busy=1/0},a.setDetecter=function(e,t){this.sideDetectors=[],this.sideDetectors.push(f.createRectangleNodeCenter(t.node,30,5*l.SquareDisH),f.createRectangleNodeSide(t.node,10*l.SquareDisW,30,90*Math.atan2(l.SquareDisH,1.732*l.SquareDisW)/c),f.createRectangleNodeSide(t.node,10*l.SquareDisW,30,90*-Math.atan2(l.SquareDisH,1.732*l.SquareDisW)/c)),this.laneDetector=f.createRectangleNodeSide(t.node,-(t.cIndex+1)*l.SquareDisW,l.SquareDisH)},a.detectEnemy=function(){var e=this,t=!1;return this.inLane.zombiePool().forEach((function(o){t||o.isAlive()&&o.bodyRec.judgeCrossRec(e.laneDetector)&&(t=!0)})),!!t||(this.inLane.tombPool().forEach((function(o){t||o.bodyRec.judgeCrossRec(e.laneDetector)&&(t=!0)})),!!t||(S.pool().concat().forEach((function(o){t||e.sideDetectors.forEach((function(e){t||e.judgeCrossRec(o.bodyRec)&&(t=!0)}))})),!!t||(p.pool().concat().forEach((function(o){t||e.sideDetectors.forEach((function(e){t||e.judgeCrossRec(o.bodyRec)&&(t=!0)}))})),t)))},a.specialPlantFoodEnd=function(){this.busy=0,this.anmControl.playAnimation("FoodEnd",1)},a._shootStars=function(e,t,o,n){var i=this;void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===o&&(o=this.pea),void 0===n&&(n=20),[new u(-1,0),new u(0,1),new u(0,-1),new u(1.732*l.SquareDisW,l.SquareDisH),new u(1.732*l.SquareDisW,-l.SquareDisH)].forEach((function(a){i._shoot(e,t,o,n,a)}))},a.onFoodLeftPeaCountDec=function(){this._shootStars(!0,!0,this.peaFood,20)},a.animationListener=function(e){"Shoot"==e.name&&(this._shootStars(),this.getComponent(h).playShootSound()),"foodStart"==e.name&&(this.getComponent(h).playFoodSound(),this.anmControl.playAnimation("Fooding",1/0),this.anmControl.playAnimation("Fooding",1/0),this.foodShooting())},t}(d)).prototype,"peaFood",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/starFruitSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./plantSound.ts"],(function(o){var t,n,i,r,e,a,u,l,s;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){e=o.cclegacy,a=o._decorator,u=o.AudioClip},function(o){l=o.ArrayGet},function(o){s=o.plantSound}],execute:function(){var p,c,d,f,h,S,y,b,g;e._RF.push({},"f3256b6vk1HN4BGjsa6spjx","starFruitSound",void 0);var v=a.ccclass,F=a.property;o("starFruitSound",(p=v("starFruitSound"),c=F([u]),d=F([u]),f=F([u]),p((y=t((S=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return t=o.call.apply(o,[this].concat(e))||this,i(t,"shootSound",y,r(t)),i(t,"foodSound",b,r(t)),i(t,"piano",g,r(t)),t}n(t,o);var e=t.prototype;return e.playShootSound=function(){this.playOneShot(l.getRandom(this.shootSound))},e.playFoodSound=function(){this.playOneShot(l.getRandom(this.foodSound))},e.playPiano=function(o){o>=1&&o<=6&&this.playOneShot(this.piano[o-1],2)},t}(s)).prototype,"shootSound",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=t(S.prototype,"foodSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=t(S.prototype,"piano",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=S))||h));e._RF.pop()}}}));

System.register("chunks:///_virtual/sun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SunCount.ts","./dropping.ts","./Square.ts","./Droppings.ts"],(function(o){var i,t,n,s,e,r,l,a,h,d,b,u,c;return{setters:[function(o){i=o.applyDecoratedDescriptor,t=o.inheritsLoose,n=o.initializerDefineProperty,s=o.assertThisInitialized,e=o.createClass},function(o){r=o.cclegacy,l=o._decorator,a=o.Vec2,h=o.tween},function(o){d=o.SunCount},function(o){b=o.dropping},function(o){u=o.Square},function(o){c=o.droppings}],execute:function(){var p,w,P,f,m;r._RF.push({},"36a5cpi8YZHxrqdx/7BmhHo","sun",void 0);var y=l.ccclass,g=l.property;o("sun",(p=y("sun"),w=g([Number]),p((m=i((f=function(o){function i(){for(var i,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return i=o.call.apply(o,[this].concat(e))||this,n(i,"value",m,s(i)),i.mode="Normal",i.absorbTween=[],i._absorber=null,i}t(i,o);var r=i.prototype;return r.specialOnGroundHit=function(){this.willFade=!0,this.fadingOn()},r.specialDroppingFadable=function(){return"Normal"==this.mode},r.specialDroppingOnEnable=function(){this.absorbTween.forEach((function(o){o.stop()})),this.absorbTween=[],this.absorber=null,this.mode="Normal",this.db.playAnimation("Normal",1/0),this.willFade=!1},r.goToUIPath=function(){return"Canvas/UIInGame/SunSlot"},r.specialDroppingUpdate=function(o,i){var t;(!this.collected&&u.judgeInLawn(this.node.worldPosition)?c.registerSun(this):c.deleteSun(this),this._absorber)&&(!this.collected&&i.judgeInRecNode(this._absorber.absorber)&&(this.fade(),null==(t=this.absorber)||null==(t=t.absorbedValue)||t.push(this.value)))},r.switchMode=function(o){"Red"==o?("Normal"==this.mode?this.db.playAnimation("N-R"):"Blue"==this.mode&&this.db.playAnimation("B-R"),this.mode="Red"):"Blue"==o?("Normal"==this.mode?this.db.playAnimation("N-B"):"Red"==this.mode&&this.db.playAnimation("R-B"),this.mode="Blue"):("Blue"==this.mode?this.db.playAnimation("B-N"):"Red"==this.mode&&this.db.playAnimation("R-N"),this.mode="Normal")},r.specialGoToUI=function(o){c.deleteSun(this),this.switchMode("Normal"),d.component.playCollect(),d.component.SunAdd(this.value,!1),this.absorbTween.forEach((function(o){o.stop()})),this.absorbTween=[],this.absorber=null},r.specialUICall=function(o){d.component.SunAdd()},e(i,[{key:"absorber",get:function(){return this._absorber},set:function(o){var i=this;if(this._absorber=o,o){this.linearVelocity=new a,this.gravity=0,this.bodyLinearVelocity=0;var t=.4,n=this;o.absorber.worldPosition.x,this._worldPositionX,o._worldPositionY,this._worldPositionY,o.absorber.worldPosition.y,o._worldPositionY,this.height;this.absorbTween=[h(n).by(t,{height:(o.absorber.worldPosition.y-o._worldPositionY-this.height)/4,worldPositionX:(o.absorber.worldPosition.x-this._worldPositionX)/4,worldPositionY:(o._worldPositionY-this._worldPositionY)/4}).by(t,{height:0}).call((function(){i.absorbTween.push(h(n).by(t,{height:(o.absorber.worldPosition.y-o._worldPositionY-i.height)/3,worldPositionX:(o.absorber.worldPosition.x-i._worldPositionX)/3,worldPositionY:(o._worldPositionY-i._worldPositionY)/3}).by(t,{height:0}).call((function(){i.absorbTween.push(h(n).by(t,{height:(o.absorber.worldPosition.y-o._worldPositionY-i.height)/2,worldPositionX:(o.absorber.worldPosition.x-i._worldPositionX)/2,worldPositionY:(o._worldPositionY-i._worldPositionY)/2}).by(t,{height:0}).call((function(){i.absorbTween.push(h(n).to(t,{height:o.absorber.worldPosition.y-o._worldPositionY,worldPositionX:o.absorber.worldPosition.x,worldPositionY:o._worldPositionY}).call((function(){i.absorber=null})).start())})).start())})).start())})).start()]}else this.absorbTween.forEach((function(o){o.stop()})),this.mode="Normal",this.absorbTween=[]}}]),i}(b)).prototype,"value",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),P=f))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/SunCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cards.ts","./SoundsController.ts","./NodePools.ts","./SettingWindow.ts","./levelController.ts","./UI.ts","./LevelTaskCount.ts"],(function(t){var n,o,u,i,e,s,a,r,d,h,S,l,C,c,p,g,f,m,y,T,v,b,E;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,u=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){e=t.cclegacy,s=t._decorator,a=t.AudioClip,r=t.Node,d=t.Vec3,h=t.EventMouse,S=t.Label,l=t.dragonBones,C=t.AudioSource,c=t.AnimationComponent,p=t.tween,g=t.Component},function(t){f=t.Cards},function(t){m=t.SoundFXController},function(t){y=t.ArrayGet},function(t){T=t.SettingWindow},function(t){v=t.LevelPlay},function(t){b=t.UIInGame},function(t){E=t.LevelTaskCountModeEnum}],execute:function(){var w,x,A,M,B,O,D,L,_,N;e._RF.push({},"1d63d0cB5hDTobysSOpxOPK","SunCount",void 0);var F=s.ccclass,I=s.property;t("SunCount",(w=F("SunCount"),x=I([a]),A=I(a),M=I(r),w(((N=function(t){function n(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).initialSunCount=1e3,n.SunCount=0,n.SunCountTarget=0,n.ExpressedSunCount=0,u(n,"addSound",D,i(n)),u(n,"cheatAddSound",L,i(n)),u(n,"addButton",_,i(n)),n.audioSource=void 0,n.icon=void 0,n.oldpos=new d(0,0,0),n.shown=!0,n.count=void 0,n}o(n,t);var e=n.prototype;return e.setSunCount=function(t){t||(t=50),this.SunCount=t,this.SunCountTarget=t,this.ExpressedSunCount=t,this.count.string=this.ExpressedSunCount.toString()},e.playCollect=function(){this.audioSource.playOneShot(y.getRandom(this.addSound),m.SoundFXVolume)},e.SunAdd=function(t,n){void 0===t&&(t=0),void 0===n&&(n=!0),this.SunCount=Math.min(this.SunCount+t,9900),this.JudgeCardAffordable(),n&&(this.SunCountTarget=this.SunCount)},e.SunDec=function(t,n,o){void 0===t&&(t=0),void 0===n&&(n=!0),void 0===o&&(o=!0),o&&b.uiingame.calculateLevelTask(E.SunCostLimit,{CostSun:t}),this.SunCount=Math.max(this.SunCount-t,0),this.JudgeCardAffordable(),n&&(this.SunCountTarget=this.SunCount)},e.JudgeCardAffordable=function(){f.cardsController.JudgeCardsSelectable()},e.onMouseDown=function(t){t.preventSwallow=!0,t.getButton()==h.BUTTON_LEFT?(9900!=this.SunCount&&(this.audioSource.playOneShot(this.cheatAddSound,m.SoundFXVolume),this.audioSource.playOneShot(y.getRandom(this.addSound),m.SoundFXVolume)),this.SunAdd(1e3)):t.getButton()==h.BUTTON_RIGHT&&this.SunDec(1e3),this.SunCountTarget=this.SunCount},e.onLoad=function(){this.count=this.node.getChildByName("SunCount").getComponent(S),n.component=this,this.icon=this.node.getChildByName("SunSlotIcon").getComponent(l.ArmatureDisplay),this.oldpos=this.node.position.clone(),this.node.position.add3f(0,400,0),this.shown=!1,this.getComponent(C)||this.addComponent(C),this.audioSource=this.getComponent(C),this.node.getChildByName("add").on(r.EventType.MOUSE_DOWN,this.onMouseDown,this),this.SunCount=this.initialSunCount,this.SunCountTarget=this.initialSunCount,this.ExpressedSunCount=this.initialSunCount,this.count.string=this.ExpressedSunCount.toString()},e.playWarn=function(){this.getComponent(c).play("sunCountWarn")},n.show=function(){var t;null==(t=this.component)||t._show()},e._show=function(){T.allowCheat||v.sandBoxModeOn||this.addButton.position.add(new d(-1e3,1e3,0)),this.shown||(this.shown=!0,p(this.node).to(.4,{position:this.oldpos},{easing:"cubicInOut"}).start())},e.update=function(t){if(this.ExpressedSunCount<this.SunCountTarget?this.icon.playAnimation("sunRising"):this.icon.playAnimation("sun"),this.ExpressedSunCount!=this.SunCountTarget){var n=1;n=Math.abs(this.ExpressedSunCount-this.SunCountTarget)>500?75:Math.abs(this.ExpressedSunCount-this.SunCountTarget)<=500&&Math.abs(this.ExpressedSunCount-this.SunCountTarget)>100?25:Math.abs(this.ExpressedSunCount-this.SunCountTarget)<=100&&Math.abs(this.ExpressedSunCount-this.SunCountTarget)>5?5:1,this.ExpressedSunCount>this.SunCountTarget?this.ExpressedSunCount-=n:this.ExpressedSunCount<this.SunCountTarget&&(this.ExpressedSunCount+=n),this.count.string=Math.round(this.ExpressedSunCount).toString()}},n}(g)).component=void 0,D=n((O=N).prototype,"addSound",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(O.prototype,"cheatAddSound",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(O.prototype,"addButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=O))||B));e._RF.pop()}}}));

System.register("chunks:///_virtual/Sunflower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./sunflowerSound.ts","./NodePools.ts","./dropping.ts","./Droppings.ts","./Square.ts","./sun.ts","./plantFood.ts","./coin.ts","./gem.ts","./SoundRescourses.ts","./UI.ts","./LevelTaskCount.ts"],(function(n){var o,t,e,i,a,r,u,l,s,c,d,y,p,h,f,m,P,g,v,w,S,x;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,u=n.Node,l=n.Vec2,s=n.dragonBones},function(n){c=n.Plant},function(n){d=n.sunflowerSound},function(n){y=n.NodePools},function(n){p=n.dropping},function(n){h=n.droppings},function(n){f=n.Square},function(n){m=n.sun},function(n){P=n.plantFood},function(n){g=n.coin},function(n){v=n.gem},function(n){w=n.sounds},function(n){S=n.UIInGame},function(n){x=n.LevelTaskCountModeEnum}],execute:function(){var b,M,C,L,R,A,F;a._RF.push({},"463e4u984hEbLGhv6WBjBYc","Sunflower",void 0);var V=r.ccclass,j=r.property,k=n("sunflower",function(){function n(){}return n.producePlantFood=function(n){var o=y.instantiatePooly(h.plantFood);o.parent=h.layer;var t=n.clone(),e=f.lawnRec.prjX(),i=f.lawnRec.prjY();t.x<e.x?t.x=e.x:t.x>e.y&&(t.x=e.y),t.y<i.x?t.y=i.x:t.y>i.y&&(t.y=i.y);var a=o.getComponent(P);a.worldPosition=t,a.linearVelocity=new l(Math.random()-.5,Math.random()-.5).normalize().multiplyScalar(5),a.gravity=0},n.dropOneCoin=function(n,o){void 0===o&&(o=0);var t=h.CoinSilver;1==o&&(t=h.CoinGold);var e=y.instantiatePooly(t);e.parent=h.layer;var i=n.clone(),a=f.lawnRec.prjX(),r=f.lawnRec.prjY();i.x<a.x?i.x=a.x:i.x>a.y&&(i.x=a.y),i.y<r.x?i.y=r.x:i.y>r.y&&(i.y=r.y);var u=e.getComponent(g),s=Math.round(6*Math.random());return u.linearVelocity=new l(-3+s,0),u.bodyLinearVelocity=10,u.worldPosition=i,u.gravity=1,u},n.dropOneGem=function(n){var o=h.Gem,t=y.instantiatePooly(o);t.parent=h.layer;var e=n.clone(),i=f.lawnRec.prjX(),a=f.lawnRec.prjY();e.x<i.x?e.x=i.x:e.x>i.y&&(e.x=i.y),e.y<a.x?e.y=a.x:e.y>a.y&&(e.y=a.y);var r=t.getComponent(v),u=Math.round(6*Math.random());return r.linearVelocity=new l(-3+u,0),r.bodyLinearVelocity=10,r.worldPosition=e,r.gravity=1,w.playGemSpawn(),r},n.produceSun=function(n,o,t,e){void 0===e&&(e=!0);var i=f.getSquareWorldPosition(0,0,0,0),a=f.getSquareWorldPosition(4,8,1,1),r=o.clone();r.x<i.x?r.x=i.x:r.x>a.x&&(r.x=a.x),e&&S.uiingame.calculateLevelTask(x.SunProduceRequest,{SunProduceAdd:n});var u=[];switch(n){case 5:u=[y.instantiatePooly(h.SunTiny)];break;case 25:u=[y.instantiatePooly(h.SunSmall)];break;case 50:u=[y.instantiatePooly(h.SunMid)];break;case 75:u=[y.instantiatePooly(h.SunLarge)];break;case 100:u=[y.instantiatePooly(h.SunMid),y.instantiatePooly(h.SunMid)];break;default:for(var s=n+0;s>=75;)s-=75,u.push(y.instantiatePooly(h.SunLarge));for(;s>=50;)s-=50,u.push(y.instantiatePooly(h.SunMid));for(;s>=25;)s-=25,u.push(y.instantiatePooly(h.SunSmall));for(;s>=5;)s-=5,u.push(y.instantiatePooly(h.SunTiny))}for(var c=0;c<u.length;c++){var d=u[c],P=u.length;d.parent=h.layer;var g=d.getComponent(p);g.height=t,g.worldPosition=new l(P<=1?r.x:r.x-15+30/(P-1)*c,r.y),g.gravity=1;var v=Math.round(6*Math.random());g.linearVelocity=new l(-3+v,0),g.bodyLinearVelocity=10}var w=[];return u.forEach((function(n){w.push(n.getComponent(m))})),w},n}());n("SunflowerPlant",(b=V("Sunflower"),M=j(Number),C=j(u),b((A=o((R=function(n){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return o=n.call.apply(n,[this].concat(a))||this,e(o,"foodProduceAmount",A,i(o)),o.sunValue=50,o.twin=!1,e(o,"sunSpawnpoint",F,i(o)),o.producing=!1,o.busy=0,o}t(o,n);var a=o.prototype;return a.playProduceAnimation=function(){this.producing=!0,this.busy=23.5+1.5*Math.random(),this.anmControl.playAnimation("Produce",1,.1)},a.specialPlantFood=function(){var n;this.producing=!1,this.busy=1/0,null==(n=this.getComponent(d))||n.playFoodSound(),this.anmControl.playAnimation("Food",this.foodProduceAmount),this.anmControl.body.once(s.EventObject.COMPLETE,this.foodEnd,this)},a.waterable=function(){return!this.producing},a.specialPlantFoodEnd=function(){this.producing=!1,this.busy=23.5+1.5*Math.random(),this.anmControl.playRandom()},a._produce=function(){var n;this.producing=!1,null==(n=this.getComponent(d))||n.playProduceSound(),k.produceSun(this.sunValue*(this.twin?2:1),this.node.worldPosition,this.sunSpawnpoint.getWorldPosition().y-this.node.getWorldPosition().y)},a.animationListener=function(n){"Produce"==n.name&&this._produce()},a.specialPlantOnEnable=function(){this.twin="SunflowerTwinPLANT"==this.node.name,this.producing=!1,this.busy=5+5*Math.random()},a.specialPlantUpdate=function(n){this.busy>0&&(this.busy-=n),this.busy<=0&&this.playProduceAnimation()},o}(c)).prototype,"foodProduceAmount",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),F=o(R.prototype,"sunSpawnpoint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=R))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/sunflowerSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts","./SoundRescourses.ts"],(function(o){var n,e,r,t,u,i,l,c,a;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,r=o.initializerDefineProperty,t=o.assertThisInitialized},function(o){u=o.cclegacy,i=o._decorator,l=o.AudioClip},function(o){c=o.plantSound},function(o){a=o.sounds}],execute:function(){var s,d,p,f,S,y,h;u._RF.push({},"7506bWbU51J5oF21T6E1YSd","sunflowerSound",void 0);var b=i.ccclass,v=i.property;o("sunflowerSound",(s=b("sunflowerSound"),d=v(l),p=v(l),s((y=n((S=function(o){function n(){for(var n,e=arguments.length,u=new Array(e),i=0;i<e;i++)u[i]=arguments[i];return n=o.call.apply(o,[this].concat(u))||this,r(n,"foodSound",y,t(n)),r(n,"produceSound",h,t(n)),n}e(n,o);var u=n.prototype;return u.playFoodSound=function(){this.playOneShot(this.foodSound)},u.playProduceSound=function(){a.play(this.produceSound,1,.2)},n}(c)).prototype,"foodSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=n(S.prototype,"produceSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=S))||f));u._RF.pop()}}}));

System.register("chunks:///_virtual/SunShroom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sunflower.ts","./sunShroomSound.ts"],(function(t){var o,n,i,e,r,s,a,h,l,u;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.dragonBones,h=t.Vec3},function(t){l=t.SunflowerPlant},function(t){u=t.sunShroomSound}],execute:function(){var c,d,m,S,p;r._RF.push({},"6fd60koRUVMwqjBq2Zaw4u+","SunShroom",void 0);var g=s.ccclass,w=s.property;t("SunShroomPlant",(c=g("SunShroom"),d=w(Number),c((p=o((S=function(t){function o(){for(var o,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return o=t.call.apply(t,[this].concat(r))||this,i(o,"growthInterval",p,e(o)),o.growthCountdown=0,o.growthStage=0,o.shouldScale=.3,o.currentScale=.3,o.orgWorldScale=0,o.produceAnm="Produce",o.step=void 0,o}n(o,t);var r=o.prototype;return r.specialPlantFood=function(){var t=this;this.busy=1/0,this.growthStage>=2?(this.anmControl.playAnimation("Food",1),this.getComponent(u).playFoodSound()):(this.growthStage=1,this.grow(),this.anmControl.body.once(a.EventObject.COMPLETE,(function(){t.anmControl.playAnimation("Food",1),t.getComponent(u).playFoodSound()}),this))},r.specialPlantFoodEnd=function(){this.producing=!1,this.busy=23.5+1.5*Math.random()},r.specialPlantOnEnable=function(){this.orgWorldScale=this.body.worldScale.x,this.shouldScale=.6*this.orgWorldScale,this.currentScale=this.shouldScale,this.producing=!1,this.growthCountdown=18,this.busy=5+5*Math.random(),this.growthStage=0,this.sunValue=25,this.produceAnm="Produce_Small",this.anmControl.IdleAnim="Idle_Small",this.anmControl.RandomAnim=["Random_Small"],this.anmControl.playRandom(),this.body.worldScale=new h(this.currentScale,this.currentScale,this.currentScale)},r.animationListener=function(t){"Produce"==t.name?this._produce():"ProduceFood"==t.name?(this._produce(),this._produce(),this._produce()):"foodEnd"==t.name&&this.foodEnd()},r.playProduceAnimation=function(){this.producing=!0,this.busy=23.5+1.5*Math.random(),this.anmControl.playAnimation(this.produceAnm,1,.1),this.getComponent(u).playProduceSound()},r.grow=function(){this.getComponent(u).playGrowSound(),this.anmControl.playAnimation("Grow",1),this.growthCountdown=54,this.growthStage++,0==this.growthStage?(this.shouldScale=.6*this.orgWorldScale,this.anmControl.IdleAnim="Idle_Small",this.anmControl.RandomAnim=["Random_Small"],this.produceAnm="Produce_Small",this.sunValue=25):1==this.growthStage?(this.shouldScale=.8*this.orgWorldScale,this.anmControl.IdleAnim="Idle_Mid",this.anmControl.RandomAnim=["Random_Mid"],this.produceAnm="Produce_Mid",this.sunValue=50):(this.shouldScale=1*this.orgWorldScale,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.produceAnm="Produce",this.sunValue=75)},r.specialPlantUpdate=function(t){if(this.busy>0&&(this.busy-=t),this.busy<=0&&this.playProduceAnimation(),this.growthCountdown>0&&this.growthStage<2&&(this.growthCountdown-=t),this.growthCountdown<=0&&(this.growthCountdown=0,!this.producing&&this.growthStage<2&&this.grow()),this.currentScale!=this.shouldScale){var o=this.shouldScale-this.currentScale;0==this.step&&(this.step=o/60),this.currentScale+=this.step*t*60,o*this.step<0&&(this.currentScale=this.shouldScale)}else this.step=0;this.body.worldScale.x!=this.shouldScale&&(this.body.worldScale=new h(this.currentScale,this.currentScale,this.currentScale))},o}(l)).prototype,"growthInterval",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),m=S))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/sunShroomSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./NodePools.ts"],(function(o){var n,e,t,r,u,i,a,l,d,c,p;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){u=o.cclegacy,i=o._decorator,a=o.AudioClip,l=o.AudioSource,d=o.Component},function(o){c=o.SoundFXController},function(o){p=o.ArrayGet}],execute:function(){var s,S,f,h,m,y,g,b,C;u._RF.push({},"f1c7febNfRI54is2sJ2mHuS","sunShroomSound",void 0);var w=i.ccclass,v=i.property;o("sunShroomSound",(s=w("sunShroomSound"),S=v([a]),f=v([a]),h=v([a]),s((g=n((y=function(o){function n(){for(var n,e=arguments.length,u=new Array(e),i=0;i<e;i++)u[i]=arguments[i];return n=o.call.apply(o,[this].concat(u))||this,t(n,"growSound",g,r(n)),t(n,"produceSound",b,r(n)),t(n,"foodSound",C,r(n)),n}e(n,o);var u=n.prototype;return u.onEnable=function(){this.getComponent(l)||this.addComponent(l)},u.playGrowSound=function(){this.getComponent(l).playOneShot(p.getRandom(this.growSound),c.SoundFXVolume)},u.playProduceSound=function(){this.getComponent(l).playOneShot(p.getRandom(this.produceSound),c.SoundFXVolume)},u.playFoodSound=function(){this.getComponent(l).playOneShot(p.getRandom(this.foodSound),c.SoundFXVolume)},n}(d)).prototype,"growSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=n(y.prototype,"produceSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=n(y.prototype,"foodSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=y))||m));u._RF.pop()}}}));

System.register("chunks:///_virtual/TallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WallNut.ts","./wallnutSound.ts"],(function(t){var n,e,a,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){i=t.WallNutPlant},function(t){o=t.wallnutSound}],execute:function(){var s;e._RF.push({},"32029KEr/9LPa6AKkS+xB/b","TallNut",void 0);var l=a.ccclass;a.property,t("TallNutPlant",l("TallNutPlant")(s=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var a=e.prototype;return a.specialPlantFood=function(t){this.getComponent(o).playFoodSound(),this.setArmor(0),this.armorHealth=this.armorToughness,this.foodable=!1,this.foodEnd(),this.setAnimation(0)},a.setAnimation=function(t){void 0===t&&(t=0),this.hurtStage=t;var n,e=this.anmControl;switch(t){case 1:e.IdleAnim="Idle1",this.deathAnm="Death1";break;case 2:e.IdleAnim="Idle2",this.deathAnm="Death2";break;default:e.IdleAnim="Idle0",this.deathAnm="Death0",this.hurtStage=0}this.dead||(e.playRandom(),this.replantable()&&(null==(n=this.inLnC)||n.readIndex()))},a.onDamaged=function(t,n,e){for(var a=1;a<=3;a++)n>=this.toughness/3*a&&e<=this.toughness/3*a&&this.setAnimation(3-a)},a.animationListener=function(t){},e}(i))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/testScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts"],(function(i){var n,t,e,a,o,s,l,r,h,d,p,m,u,c,y,g,S,w;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,s=i._decorator,l=i.dragonBones,r=i.Label,h=i.AudioClip,d=i.EventMouse,p=i.Color,m=i.AudioSource,u=i.input,c=i.Input,y=i.KeyCode,g=i.Node,S=i.Component},function(i){w=i.ArrayGet}],execute:function(){var A,f,F,E,O,b,_,C,D,P,I,L,W,T,v,z,R,N,H,k,G,M,x;o._RF.push({},"1d57cs/IpdP/J12KO9nu/kj","testScene",void 0);var j=s.ccclass,K=s.property,B=function(i,n,t,e){void 0===e&&(e=!1),this.animationName="",this.playTime=3,this.animation="",this.lit=!1,this.animationName=n,this.animation=i,this.playTime=t,this.lit=e};i("testScene",(A=j("testScene"),f=K(l.ArmatureDisplay),F=K(l.ArmatureDisplay),E=K(l.ArmatureDisplay),O=K(l.ArmatureDisplay),b=K(r),_=K([h]),C=K([h]),D=K(h),P=K(h),I=K(h),A((T=n((W=function(i){function n(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(n=i.call.apply(i,[this].concat(o))||this).shroomAnimations=[new B("Idle","IDLE_1",2),new B("Rand1","IDLE_2",2),new B("Rand2","IDLE_3",3),new B("Freeze","ATTACK",3),new B("Sleep","COOLDOWN",3),new B("Wake","RECHARGED",3),new B("Food","PLANT_FOOD",3),new B("Idle","IDLE_1_PF",2,!0),new B("Rand1","IDLE_2_PF",2,!0),new B("Rand2","IDLE_3_PF",3,!0),new B("Freeze","ATTACK_PF",3,!0)],n.fogAnimations=[new B("Spawn","FOG_SPAWN",1),new B("Idle","FOG_LOOP",3),new B("Fade","FOG_FADE",1),new B("Spawn","FOG_SPAWN_PF",1,!0),new B("Idle","FOG_LOOP_PF",3,!0),new B("Fade","FOG_FADE_PF",1,!0)],n.showcaseAnimations=[new B("Idle","SHOWCASE",2),new B("Rand1","SHOWCASE",1),new B("Idle","SHOWCASE",2),new B("Rand2","SHOWCASE",1),new B("Rand1","SHOWCASE",1),new B("Freeze","SHOWCASE",1),new B("Sleep","SHOWCASE",3),new B("Wake","SHOWCASE",1),new B("Food","SHOWCASE",1),new B("Idle","SHOWCASE",1,!0),new B("Rand1","SHOWCASE",1,!0),new B("Rand2","SHOWCASE",1,!0),new B("Freeze","SHOWCASE",1,!0),new B("Food","SHOWCASE",1,!0),new B("Water","WATERING",4),new B("Water","WATERING",4,!0)],e(n,"displayPlant",T,a(n)),e(n,"displayFog",v,a(n)),e(n,"displayFog1",z,a(n)),e(n,"displayFog2",R,a(n)),n.animationStage=0,e(n,"displayLabel",N,a(n)),e(n,"freezeSound",H,a(n)),e(n,"steadySound",k,a(n)),e(n,"wakeSound",G,a(n)),e(n,"wakeSound2",M,a(n)),e(n,"tornadoSound",x,a(n)),n}t(n,i);var o=n.prototype;return o.onMouseDown=function(i){i.getButton()==d.BUTTON_MIDDLE&&(this.animationStage=0,this.switchAnimation())},o.switchAnimation=function(){if(this.animationStage<this.shroomAnimations.length){0==this.animationStage&&(this.displayPlant.color=new p(255,255,255,255),this.displayFog.color=new p(255,255,255,0),this.displayFog1.color=new p(255,255,255,0),this.displayFog2.color=new p(255,255,255,0));var i=this.shroomAnimations[this.animationStage];this.displayPlant.playAnimation(i.animation,i.playTime),this.displayLabel.string=i.animationName,this.displayPlant.armature().getSlots().forEach((function(n){n.name.includes("_LIT")&&n._setDisplayIndex(i.lit?0:-1)}))}else if(this.animationStage<this.fogAnimations.length+this.shroomAnimations.length){this.animationStage==this.shroomAnimations.length&&(this.displayPlant.color=new p(255,255,255,0),this.displayFog.color=new p(255,255,255,255),this.displayFog1.color=new p(255,255,255,0),this.displayFog2.color=new p(255,255,255,0));var n=this.fogAnimations[this.animationStage-this.shroomAnimations.length];this.displayFog.playAnimation(n.animation,n.playTime),this.displayLabel.string=n.animationName,this.displayFog.armature().getSlots().forEach((function(i){i.name.includes("falling_snow")&&i._setDisplayIndex(n.lit?0:-1)}))}else{if(!(this.animationStage<this.fogAnimations.length+this.shroomAnimations.length+this.showcaseAnimations.length))return this.animationStage=0,void this.switchAnimation();this.animationStage==this.shroomAnimations.length+this.fogAnimations.length&&(this.displayPlant.color=new p(255,255,255,255),this.displayFog.color=new p(255,255,255,0),this.displayFog1.color=new p(255,255,255,255),this.displayFog2.color=new p(255,255,255,255));var t=this.animationStage-this.shroomAnimations.length-this.fogAnimations.length;0==t||this.showcaseAnimations[t].lit&&!this.showcaseAnimations[t-1].lit?(this.displayFog1.playAnimation("Spawn",1),this.displayFog2.playAnimation("Spawn",1)):(t==this.showcaseAnimations.length-1||!this.showcaseAnimations[t].lit&&this.showcaseAnimations[t+1].lit)&&(this.displayFog1.playAnimation("Fade",1),this.displayFog2.playAnimation("Fade",1));var e=this.showcaseAnimations[t];this.displayPlant.playAnimation(e.animation,e.playTime),this.displayLabel.string=e.animationName,this.displayFog1.armature().getSlots().forEach((function(i){i.name.includes("falling_snow")&&i._setDisplayIndex(e.lit?0:-1)})),this.displayFog2.armature().getSlots().forEach((function(i){i.name.includes("falling_snow")&&i._setDisplayIndex(e.lit?0:-1)})),this.displayPlant.armature().getSlots().forEach((function(i){i.name.includes("_LIT")&&i._setDisplayIndex(e.lit?0:-1)}))}this.animationStage++},o.animationListener=function(i){"freezeSound"==i.name?this.getComponent(m).playOneShot(w.getRandom(this.freezeSound)):"steadySound"==i.name?this.getComponent(m).playOneShot(w.getRandom(this.steadySound)):"tornadoSound"==i.name?(this.displayPlant.armature().getSlots().forEach((function(i){i.name.includes("_LIT")&&i._setDisplayIndex(0)})),this.getComponent(m).playOneShot(this.tornadoSound)):"wakeSound"==i.name&&(this.getComponent(m).playOneShot(this.wakeSound),this.getComponent(m).playOneShot(this.wakeSound2))},o.start=function(){var i=this;this.addComponent(m),u.on(c.EventType.KEY_DOWN,(function(n){n.keyCode==y.ENTER&&(i.animationStage=0,i.switchAnimation())}),this),this.node.on(g.EventType.MOUSE_DOWN,this.onMouseDown,this),this.displayPlant.on(l.EventObject.COMPLETE,this.switchAnimation,this),this.displayPlant.on(l.EventObject.FRAME_EVENT,this.animationListener,this),this.displayFog.on(l.EventObject.COMPLETE,this.switchAnimation,this)},n}(S)).prototype,"displayPlant",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(W.prototype,"displayFog",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(W.prototype,"displayFog1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(W.prototype,"displayFog2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(W.prototype,"displayLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(W.prototype,"freezeSound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(W.prototype,"steadySound",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=n(W.prototype,"wakeSound",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(W.prototype,"wakeSound2",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(W.prototype,"tornadoSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=W))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/ThreePeater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Peashooter.ts","./peaShooterSound.ts","./NodePools.ts","./Character.ts","./commonShot.ts","./Square.ts","./CharacterManager.ts"],(function(o){var t,n,e,a,i,s,r,h,c,u,d,l,L,p;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,a=o.Vec2,i=o.Vec3,s=o.HALF_PI},function(o){r=o.peaShooter,h=o.PeashooterPlant},function(o){c=o.peaShooterSound},function(o){u=o.NodePools},function(o){d=o.CharacterType},function(o){l=o.commonShot},function(o){L=o.Square},function(o){p=o.Rectangle}],execute:function(){var f;n._RF.push({},"f6610F4CzZNQrwBOcJg3XSi","ThreePeater",void 0);var P=e.ccclass;e.property,o("ThreePeaterPlant",P("ThreePeater")(f=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e._shoot3=function(o,t,n){void 0===o&&(o=4),void 0===t&&(t=new a(15,0)),void 0===n&&(n=this.pea);var e=u.instantiatePooly(n),s=this.inLane.prjLayer;if(e){var h=r.shootOnePea(e,new i(this.peaSpawnpoint.getWorldPosition().x,this.inLnC.plantPoint.worldPosition.y,0),Math.max(1,this.peaSpawnpoint.getWorldPosition().y-this.inLnC.plantPoint.worldPosition.y),s,t,d.zombie).getComponent(l);this.inLnC.havePeaBuff&&h.addPeaBuff(),0!=o&&2!=o||(0==o?h.setLockLane(this.inLane.UpperLane):2==o&&h.setLockLane(this.inLane.LowerLane),h.linearVelocity=new a(15,17*(1-o)),h.deceleration=new a(0,.9*(o-1)))}},e.setDetecter=function(){this.detector=p.createRectangleNodeSide(this.inLnC.node,L.SquareDisW*(9-this.inLnC.cIndex),3*L.SquareDisH)},e.detectEnemy=function(){for(var o=this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()),t=this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()),n=0;n<o.length;n++)if(this.detector.judgeCrossRec(o[n].bodyRec))return!0;for(var e=0;e<t.length;e++)if(t[e].inLnC.cIndex>this.inLnC.cIndex)return!0;return!1},e.animationListener=function(o){"shootM"==o.name&&(this._shoot3(1),this.getComponent(c).playShootSound()),"shootU"==o.name&&0!=this.inLane.LaneIndex&&this._shoot3(0),"shootD"==o.name&&5!=this.inLane.LaneIndex&&this._shoot3(2)},e.specialPlantFood=function(){var o=this;this.isGatling()&&this.upgrade(),this.anmControl.playAnimation("Food",1/0),this.getComponent(c).playFood(),this.busy=1/0;var t=0;this.schedule((function(){var n=2*s*(o.foodPeaMaxCount/2-Math.abs(t%o.foodPeaMaxCount-o.foodPeaMaxCount/2))/o.foodPeaMaxCount;o._shoot3(3,new a(15*Math.cos(n),15*Math.sin(n))),o._shoot3(3,new a(15*Math.cos(n),-15*Math.sin(n))),o._shoot3(3),++t>o.foodPeaMaxCount&&o.foodEnd()}),2/this.foodPeaMaxCount,this.foodPeaMaxCount,.01)},e._shootPeaAnimation=function(){var o="Shoot111";0==this.inLane.LaneIndex&&(o="Shoot110"),4==this.inLane.LaneIndex&&(o="Shoot011"),this.anmControl.playAnimation(o,1,.1,Math.max(1.35/this.shootInterval,1))},n}(h))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/Tide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Square.ts","./NodePools.ts","./SoundsController.ts","./LnC.ts","./FrontYard.ts"],(function(t){var e,n,i,o,r,s,a,u,l,h,d,c,p,f,b,m,g,v,y,S,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Prefab,u=t.AudioClip,l=t.dragonBones,h=t.AudioSource,d=t.Vec3,c=t.instantiate,p=t.tween,f=t.Color,b=t.Component},function(t){m=t.Square},function(t){g=t.ArrayGet},function(t){v=t.SoundFXController},function(t){y=t.LnC,S=t.TileType},function(t){w=t.FrontYard}],execute:function(){var C,P,q,T,A,D,L,W,x,F,z;r._RF.push({},"c9fecsnRNZLHZrYMy0mtb8t","Tide",void 0);var M=s.ccclass,N=s.property,X=function(t,e){this.master=void 0,this.node=void 0,this.node=t,this.master=e};t("Tide",(C=M("Tide"),P=N(a),q=N(u),T=N(u),A=N([u]),C((W=e((L=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).blueSquares=[],i(e,"blue",W,o(e)),e.db=void 0,e.tweening=void 0,e.moving=!1,e.pos=9,i(e,"pullSound",x,o(e)),i(e,"pushSound",F,o(e)),i(e,"ambience",z,o(e)),e.busyAmb=0,e.leftestX=0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.db=this.node.getChildByName("Main").getComponent(l.ArmatureDisplay),this.getComponent(h)||this.addComponent(h)},r.standardize=function(t){void 0===t&&(t=9),this.leftestX=m.getSquareWorldPosition(0,0,0).x;var e=m.getSquareWorldPosition(2,t-1,1);this.pos=t,this.node.worldPosition=new d(e.x,e.y);for(var n=0;n<5;n++)for(var i=0;i<9;i++)if((n+i)%2==0){var o=c(this.blue);o.parent=this.node.getChildByName("BlueSquares");var r=new X(o,m.getSquare(n,i)),s=m.getSquareWorldPosition(n,i);r.node.worldPosition=new d(s.x,s.y),this.blueSquares.push(r)}this.onPosChange(t-1,t)},r.pushTide=function(t){var e=this;if(!(this.moving||t<=0)){this.pos-t<0&&(t=this.pos),this.moving=!0;var n=p(this.node).by(3,{worldPosition:new d(-t*m.SquareDisW,0,0)},{easing:"cubicInOut"}).call((function(){e.moving=!1})).start();this.tweening=n,this.getComponent(h).playOneShot(this.pushSound,v.SoundFXVolume)}},r.pullTide=function(t){var e=this;if(!(this.moving||t<=0)){this.pos+t>9&&(t=9-this.pos),this.moving=!0;var n=p(this.node).by(3,{worldPosition:new d(t*m.SquareDisW,0,0)},{easing:"cubicInOut"}).call((function(){e.moving=!1})).start();this.tweening=n,this.getComponent(h).playOneShot(this.pullSound,v.SoundFXVolume)}},r.moveTide=function(t){var e=t;t>9&&(e=9),t<0&&(e=0);var n=e-this.pos;n<0&&this.pushTide(-n),n>0&&this.pullTide(n)},r.onDisable=function(){this.tweening.stop()},r.playAmbience=function(){if(this.busyAmb>0&&this.busyAmb--,this.busyAmb<=0&&(this.busyAmb=0,this.ambience.length)){var t=5+Math.round(5*Math.random());this.busyAmb=60*t,this.getComponent(h).playOneShot(g.getRandom(this.ambience),v.SoundFXVolume)}},r.onPosChange=function(t,e){for(var n=e;n<=9;n++)for(var i=0;i<5;i++){var o;null==(o=m.getSquare(i,n))||null==(o=o.getComponent(y))||o.setTileType(S.water)}for(var r=0;r<e;r++)for(var s=0;s<5;s++){var a;null==(a=m.getSquare(s,r))||null==(a=a.getComponent(y))||a.setTileType(w.currentLawn.oldSquaresTypes[s][r])}},r.judgePos=function(){for(var t=this.pos,e=9,n=this.node.worldPosition.x,i=m.getSquareWorldPosition(0,0).x,o=0;o<9;o++){var r=i+m.SquareDisW*(o-1),s=i+m.SquareDisW*o;if(r<=n&&s>n){e=o;break}}this.pos=e,t!=e&&this.onPosChange(t,e)},r.update=function(t){var e=this,n=this.db.color,i=this.db.customMaterial,o=i.passes[0].getHandle("chillColor");i.passes[0].setUniform(o,w.currentLawn.atNight?1:0);var r=w.currentLawn.atNight?177:255;this.db.color=n=new f(r,r,255,255),this.blueSquares.forEach((function(t){var i;t.node.worldPosition=null==(i=t.master)?void 0:i.worldPosition;var o=(t.node.worldPosition.x-e.node.worldPosition.x)/m.SquareDisW,r=255*(o<0?0:Math.min(1,o/2));t.node.getComponent(l.ArmatureDisplay).color=new f(n.r,n.g,n.b,r)})),this.playAmbience(),this.judgePos()},e}(b)).prototype,"blue",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(L.prototype,"pullSound",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(L.prototype,"pushSound",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(L.prototype,"ambience",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=L))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./Square.ts"],(function(e){var i,t,r,n,l,a,c,o,s,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,c=e.Vec2,o=e.Vec3},function(e){s=e.ParticleSelfdestroy},function(e){u=e.Square}],execute:function(){var p,f,d,h,v;l._RF.push({},"c7175wUllRAN4BK3lvhsK+r","Tile",void 0);var y=a.ccclass,S=a.property;e("Tile",(p=y("Tile"),f=S(c),p((v=i((h=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return i=e.call.apply(e,[this].concat(l))||this,r(i,"validSize",v,n(i)),i}t(i,e);var l=i.prototype;return l.tileOnEnable=function(){},l.specialOnEnable=function(){this.tileOnEnable(),this.node.worldScale=new o(u.SquareDisW/this.validSize.x,u.SquareDisH/this.validSize.y,1)},i}(s)).prototype,"validSize",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(72,84)}}),d=h))||d));l._RF.pop()}}}));

System.register("chunks:///_virtual/Tiles.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,n,t,l,o,a,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Prefab,u=e.Component}],execute:function(){var c,s,f,p,d,b,y,g,h,m,w,T,v;l._RF.push({},"aeb05Pyx3NEA6fSKLUD+AAV","Tiles",void 0);var z=o.ccclass,A=o.property,D=e("tiles",function(){function e(){}return e.rail=function(){return this.res.rail},e.cart=function(){return this.res.cart},e.endangeredTile=function(){return this.res.endangeredTile},e.mold=function(){return this.res.mold},e.flower=function(){return this.res.flower},e}());D.res=void 0;e("TileRes",(c=z("TilesRe"),s=A(a),f=A(a),p=A(a),d=A(a),b=A(a),c((h=r((g=function(e){function r(){for(var r,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return r=e.call.apply(e,[this].concat(l))||this,n(r,"endangeredTile",h,t(r)),n(r,"rail",m,t(r)),n(r,"cart",w,t(r)),n(r,"mold",T,t(r)),n(r,"flower",v,t(r)),r}return i(r,e),r.prototype.onLoad=function(){D.res=this},r}(u)).prototype,"endangeredTile",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=r(g.prototype,"rail",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=r(g.prototype,"cart",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=r(g.prototype,"mold",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(g.prototype,"flower",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/Tomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Materials.ts","./NodePools.ts","./CharacterManager.ts","./SoundRescourses.ts","./Particles.ts","./Character.ts"],(function(t){var e,i,n,a,o,s,r,h,l,d,c,u,g,b,p,y,f,m,S,P,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,h=t.Prefab,l=t.CCFloat,d=t.Size,c=t.Vec2,u=t.dragonBones,g=t.Material,b=t.Color},function(t){p=t.materialRes},function(t){y=t.NodePools},function(t){f=t.Rectangle,m=t.TombPool},function(t){S=t.sounds},function(t){P=t.particle},function(t){C=t.Character}],execute:function(){var v,w,R,L,T,D,z,_,A,B,M;s._RF.push({},"f6bb0i5zL9AkK46tHIhjk6U","Tomb",void 0);var I=r.ccclass,N=r.property;t("Tomb",(v=I("Tomb"),w=N(h),R=N(l),L=N(Boolean),T=N(d),v((_=e((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"damageParticle",_,a(e)),e.health=0,n(e,"toughness",A,a(e)),e.hurting=0,e.body=null,e.stage=0,n(e,"bustable",B,a(e)),e.dead=!1,n(e,"bodyRecSize",M,a(e)),e.bodyRec=f.createRectangleSide(new c(1e5,1e5),0,0),e._hidden=!1,e.material=void 0,e}i(e,t);var s=e.prototype;return s.isAlive=function(){return!this.dead},s.onDamaged=function(t,e){if(e<=0)this.die();else{var i,n=0;if(e>=this.toughness?n=0:e>=this.toughness/4*3?n=1:e>=this.toughness/2?n=2:e>=this.toughness/4?n=3:e>=0&&(n=4),n!=this.stage)this.stage=n,n>1&&this.playParticle(n-1),null==(i=this.body.armature().getSlot("MAIN"))||i._setDisplayIndex(n)}},s.playSpawnParticle=function(){var t=y.instantiatePooly(P.dirtSpawn());t.parent=this.node.parent,t.worldPosition=this.node.worldPosition,S.playDirtRise(!1)},s.playParticle=function(t){var e=y.instantiatePooly(this.damageParticle);e.parent=this.node.parent,e.worldPosition=this.node.worldPosition,e.worldScale=this.node.worldScale,e.getComponent(u.ArmatureDisplay).playAnimation("Play"+t.toString()),S.playTombBreak()},s.die=function(t){var e;void 0===t&&(t=!0),t&&this.playParticle(4),this.dead=!0,m.deleteTomb(this),null==(e=this.inLane)||e.deleteTomb(this),this.inLnC&&(this.inLnC.tombStone=null,this.inLnC.readIndex()),y.destroyPooly(this.node)},s.characterOnLoad=function(){this.body=this.node.getChildByName("Body").getComponent(u.ArmatureDisplay);var t=new g;t.initialize({effectAsset:p.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=t,this.material.setProperty("chillColor",0)},s.characterOnEnable=function(){this.dead=!1,m.registerTomb(this),this._hidden=!1,this.body.playAnimation("Spawn"),this.health=this.toughness,this.hurting=0,this.stage=-1,this.onDamaged(this.toughness,this.toughness)},s.dealDamage=function(t){var e=this.health+0;this.health-=t,this.hurting=10,this.onDamaged(e,this.health)},s.characterUpdate=function(t){this.hurting>0&&(this.hurting-=60*t),this.shouldMaterial()},s.setBodyRec=function(){this._hidden||this.health<=0?this.bodyRec=f.createRectangleSide(new c(1e5,1e5),0,0):this.bodyRec=f.createRectangleNodeSide(this.node,this.bodyRecSize.height,this.bodyRecSize.width,90)},s.characterOnLaneChange=function(t,e){null==t||t.deleteTomb(this),null==e||e.addTomb(this)},s.characterOnSquareChange=function(t,e){this.setBodyRec(),null!=t&&t.tombStone&&(t.tombStone=null),e.tombStone=this},s.onLnCSet=function(t,e){},s.shouldMaterial=function(){var t=new b(0,0,0,255);this.hurting>0&&(t.r+=10*this.hurting,t.g+=10*this.hurting,t.b+=10*this.hurting);var e=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(e,t),this.body.customMaterial=this.material},s.characterOnDisable=function(){var t;m.deleteTomb(this),null==(t=this.inLane)||t.deleteTomb(this),this.inLnC&&(this.inLnC.tombStone=null,this.inLnC.readIndex())},s.characterLateUpdate=function(t){var e;this.dead?y.destroyPooly(this.node):(null==(e=this.inLnC)?void 0:e.tombStone)!=this&&this.die(!1)},o(e,[{key:"hidden",get:function(){return this._hidden},set:function(t){var e;(this._hidden=t,t)?null==(e=this.body.armature().getSlot("MAIN"))||e._setDisplayIndex(-1):(this.stage=-1,this.onDamaged(this.health,this.health),this.playSpawnParticle());this.setBodyRec()}}]),e}(C)).prototype,"damageParticle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(z.prototype,"toughness",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 700}}),B=e(z.prototype,"bustable",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=e(z.prototype,"bodyRecSize",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(50,50)}}),D=z))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/tombBone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts","./Tombs.ts","./CharacterManager.ts","./CabbagePult.ts","./Character.ts"],(function(n){var t,o,e,r,a,c,i,u;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator},function(n){r=n.commonShot},function(n){a=n.TombEnum},function(n){c=n.Umbrellas},function(n){i=n.cabbagePult},function(n){u=n.CharacterType}],execute:function(){var l;o._RF.push({},"1a86fAtX2JEdLclRTAjmPcZ","tombBone",void 0);var s=e.ccclass;e.property,n("tombBone",s("tombBone")(l=function(n){function o(){return n.apply(this,arguments)||this}return t(o,n),o.prototype.specialOnGroundHit=function(n){var t=this;if(n.isInLawn()){var o=!1;if(c.umbrellas.forEach((function(n){var e,r;!o&&n.detector.judgeInRecNode(t.node)&&(o=!0,i.lobOneCabbageOnNode(t.node,t.node.worldPosition,0,t.node.parent,t.linearVelocity.x>=0?null==(e=t.inLane)?void 0:e.toRight:null==(r=t.inLane)?void 0:r.toLeft,2,u.default,!0),n.owner.umbrella())})),o)return!1;n.addTomb(a.egypt,!0,!0)}return!0},o}(r))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/Tombs.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,n,o,i,u,a,s;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,u=t._decorator,a=t.Prefab,s=t.Component}],execute:function(){var c,l,p,y,b;i._RF.push({},"cb12ei5DPtMULkKKnzbNN6d","Tombs",void 0);var f=u.ccclass,m=u.property,d=t("TombEnum",function(t){return t[t.tutorial=0]="tutorial",t[t.egypt=1]="egypt",t[t.pirate=2]="pirate",t[t.cowboy=3]="cowboy",t[t.future=4]="future",t[t.dark_normal=5]="dark_normal",t[t.dark_sunny=6]="dark_sunny",t[t.dark_plantfood=7]="dark_plantfood",t}({})),g=t("tombs",function(){function t(){}return t.getTomb=function(t){return this.res.EgyptTomb},t.getTombEnumByString=function(t){return null!=t&&t.includes("(gravestone_egypt@GridItemTypes)")?d.egypt:d.tutorial},t}());g.res=void 0;t("Tombs",(c=f("Tombs"),l=m(a),c((b=r((y=function(t){function r(){for(var r,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return r=t.call.apply(t,[this].concat(i))||this,n(r,"EgyptTomb",b,o(r)),r}return e(r,t),r.prototype.onLoad=function(){g.res=this},r}(s)).prototype,"EgyptTomb",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/Torchwood.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./NodePools.ts","./Peashooter.ts","./Character.ts","./torchWoodSound.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./GroundFire.ts","./Jalapeno.ts"],(function(e){var n,t,o,i,a,r,l,c,s,d,u,h,f,p,g,m,y,P,C,b,w;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.CCFloat,c=e.Prefab,s=e.Vec2,d=e.Vec3},function(e){u=e.Plant},function(e){h=e.NodePools},function(e){f=e.peaShooter},function(e){p=e.CharacterType},function(e){g=e.torchWoodSound},function(e){m=e.Rectangle},function(e){y=e.Square},function(e){P=e.zombieDamageType},function(e){C=e.GroundFireColorEnum,b=e.GroundFireSpreadStyleEnum},function(e){w=e.jalapeno}],execute:function(){var S,v,L,I,z,D,E,F,R,_,O;a._RF.push({},"351b4USk6JLE4y6eM9xWOiD","Torchwood",void 0);var A=r.ccclass,B=r.property;e("TorchwoodPlant",(S=A("TorchwoodPlant"),v=B(l),L=B(l),I=B(c),z=B(c),S((F=n((E=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(n=e.call.apply(e,[this].concat(a))||this).ignitedCSs=[],n.detector=m.createRectangleCenter(new s,0,0),o(n,"CD",F,i(n)),o(n,"damage",R,i(n)),n.busy=0,o(n,"blueParticle",_,i(n)),o(n,"yellowParticle",O,i(n)),n.fooded=!1,n}t(n,e);var a=n.prototype;return a.ignite=function(e,n){var t;void 0===n&&(n=!1);var o=!1,i=null;if(!n&&e.canBeYellowIgnited&&e.yellowIgnited){var a=h.instantiatePooly(e.yellowIgnited);a.parent=e.node.parent;var r=f.shootOnePea(a,new d(e._worldPositionX,e._worldPositionY),e.height,e.node.parent,new s,p.zombie);r.copy(e,!0,!1,!1,!0,!0,!0,!0,!0,!0),o=!0,e.fade(),this.ignitedCSs.push(r),i=r}else if(n&&e.canBeBlueIgnited&&e.blueIgnited){var l=h.instantiatePooly(e.blueIgnited);l.parent=e.node.parent;var c=f.shootOnePea(l,new d(e._worldPositionX,e._worldPositionY),e.height,e.node.parent,new s,p.zombie);c.copy(e,!0,!1,!1,!0,!0,!0,!0,!0,!0),o=!0,e.fade(),this.ignitedCSs.push(c),i=c}return o&&this.getComponent(g).playIgniteSound(),this.inLnC.havePeaBuff&&(null==(t=i)||t.addPeaBuff()),i},a.animationListener=function(e){"explode"==e.name&&w.burnFromLnC(this.inLnC,450,!0,5,10,C.yellow,b.cross,9,9)},a.spawnParticle=function(e){var n=h.instantiatePooly(this.fooded?this.blueParticle:this.yellowParticle);n.parent=e.inLane.prjLayer,n.worldPosition=new d(e.node.worldPosition.x,e.node.worldPosition.y+e.zombieHeight/2,100)},a.detectEnemies=function(){var e=this,n=[];this.inLane.zombiePool().concat().forEach((function(t){e.detector.judgeCrossRec(t.bodyRec)&&n.push(t)})),n.length&&(n.forEach((function(n){e.spawnParticle(n),n.dealDamage(e.damage*(e.fooded?3:2),!0,!1,!1,null,P.fire)})),this.busy=this.CD,this.getComponent(g).playAttackSound())},a.specialPlantOnSquareChange=function(e,n){this.detector=m.createRectangleNodeCenter(n.node,y.SquareDisW,y.SquareDisH)},a.specialPlantOnEnable=function(){this.fooded=!1,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},a.specialPlantFood=function(e){var n=this;this.foodable=!1,this.anmControl.playAnimation("Food",1),this.getComponent(g).playFoodSound(),this.fooded=!0,this.anmControl.IdleAnim="Idle_Blue",this.anmControl.RandomAnim=[],this.scheduleOnce((function(){n.foodEnd()}),5)},a.specialPlantUpdate=function(e){var n=this;this.inLane.prjPool().concat().forEach((function(e){if(e.inLnC==n.inLnC&&-1==n.ignitedCSs.indexOf(e)){var t=n.ignite(e,n.fooded);t&&(t.inLnC=n.inLnC)}})),this.ignitedCSs.concat().forEach((function(e){e.inLnC!=n.inLnC&&n.ignitedCSs.splice(n.ignitedCSs.indexOf(e),1)})),this.busy>0?this.busy-=e:this.detectEnemies()},n}(u)).prototype,"CD",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),R=n(E.prototype,"damage",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6.25}}),_=n(E.prototype,"blueParticle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(E.prototype,"yellowParticle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=E))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/torchWoodSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./plantSound.ts"],(function(o){var t,n,i,e,r,a,u,l,s;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,i=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,u=o.AudioClip},function(o){l=o.ArrayGet},function(o){s=o.plantSound}],execute:function(){var c,d,p,h,f,S,g,y,w;r._RF.push({},"445fe51DzxFhabIferb0l4x","torchWoodSound",void 0);var D=a.ccclass,b=a.property;o("torchWoodSound",(c=D("torchWoodSound"),d=b([u]),p=b([u]),h=b([u]),c((g=t((S=function(o){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=o.call.apply(o,[this].concat(r))||this,i(t,"foodSounds",g,e(t)),i(t,"igniteSounds",y,e(t)),t.ignCoolDown=0,i(t,"attackSounds",w,e(t)),t.attCoolDown=1,t}n(t,o);var r=t.prototype;return r.playFoodSound=function(){this.playOneShot(l.getRandom(this.foodSounds))},r.playIgniteSound=function(){this.ignCoolDown<=0&&(this.playOneShot(l.getRandom(this.igniteSounds)),this.ignCoolDown=.5)},r.playAttackSound=function(){this.attCoolDown<=0&&(this.attCoolDown=1,this.playOneShot(l.getRandom(this.attackSounds)))},r.update=function(o){this.attCoolDown>0&&this.attCoolDown--,this.ignCoolDown>0&&(this.ignCoolDown-=o)},t}(s)).prototype,"foodSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=t(S.prototype,"igniteSounds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(S.prototype,"attackSounds",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=S))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Trophies.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,r,e;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,r=o._decorator,e=o.Component}],execute:function(){var s;n._RF.push({},"85f44Xl39BGta8AE7/kY1hI","Trophies",void 0);var u=r.ccclass;r.property,o("TrophyEnum",function(o){return o[o.SunBoost=0]="SunBoost",o[o.ShovelBoost=1]="ShovelBoost",o[o.SlotBoost=2]="SlotBoost",o[o.PlantfoodBoost=3]="PlantfoodBoost",o}({})),o("Trophies",u("Trophies")(s=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var r=n.prototype;return r.start=function(){},r.update=function(o){},n}(e))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/UI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cardSelectAlmanac.ts","./Cards.ts","./Square.ts","./ShovelUIController.ts","./NodePools.ts","./SunCount.ts","./PlantFoodCount.ts","./CardFeatureTotal.ts","./SoundsController.ts","./inGame.ts","./FrontYard.ts","./SoundRescourses.ts","./levelController.ts","./Plants.ts","./Conveyor.ts","./SettingWindow.ts","./SandBoxLevelSettingWindow.ts","./SandBoxZombieCards.ts","./PowerupFingers.ts","./LnC.ts","./CoinCollecterInGame.ts","./SoundManager.ts","./LevelTaskCount.ts","./KeyListener.ts","./Armors.ts","./CharacterManager.ts","./Zombie.ts"],(function(e){var t,n,o,i,a,s,r,l,d,u,c,h,p,g,m,S,f,C,b,y,w,B,x,T,I,v,P,k,L,E,O,A,U,N,F,D,M,_,Z,H,W,z,R,G,q,K,Y,j,V,J,Q,X,$,ee,te,ne,oe;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,l=e.dragonBones,d=e.Node,u=e.Prefab,c=e.Button,h=e.Sprite,p=e.Label,g=e.EventMouse,m=e.director,S=e.Vec3,f=e.instantiate,C=e.find,b=e.KeyCode,y=e.Color,w=e.Tween,B=e.input,x=e.Input,T=e.game,I=e.tween,v=e.UIOpacity,P=e.Component},function(e){k=e.cardSelectAlmanac},function(e){L=e.Cards},function(e){E=e.Square},function(e){O=e.ShovelUIController},function(e){A=e.NodePools},function(e){U=e.SunCount},function(e){N=e.PlantFoodCount},function(e){F=e.CardFeatureTotal},function(e){D=e.MusicController},function(e){M=e.inGame},function(e){_=e.FrontYard,Z=e.yardType,H=e.stageEffects},function(e){W=e.sounds},function(e){z=e.LevelPlay},function(e){R=e.plants},function(e){G=e.Conveyor},function(e){q=e.Setting},function(e){K=e.SandBoxLevelSettingWindow},function(e){Y=e.SandBoxZombieCards},function(e){j=e.PowerupFingers},function(e){V=e.LnCSpawnZombieStyleEnum},function(e){J=e.CoinCollecterInGame},function(e){Q=e.MusicSortEnum},function(e){X=e.LevelTaskCount},function(e){$=e.KeyListener},function(e){ee=e.armorEnum,te=e.armors},function(e){ne=e.ZombiePool},function(e){oe=e.zombieDamageType}],execute:function(){var ie,ae,se,re,le,de,ue,ce,he,pe,ge,me,Se,fe,Ce,be,ye,we,Be,xe,Te,Ie,ve,Pe,ke,Le,Ee,Oe,Ae,Ue,Ne,Fe,De,Me,_e,Ze,He,We,ze,Re,Ge,qe;s._RF.push({},"c2160cIG6JF67sVDFCFV7Hp","UI",void 0);var Ke=r.ccclass,Ye=r.property,je=e("gamingSpeed",1),Ve=e("superSlowed",!1);e("UIInGame",(ie=Ke("UIInGame"),ae=Ye(l.ArmatureDisplay),se=Ye(d),re=Ye(d),le=Ye(d),de=Ye(u),ue=Ye(c),ce=Ye(u),he=Ye(d),pe=Ye([d]),ge=Ye(d),me=Ye(d),Se=Ye(d),fe=Ye(d),Ce=Ye(h),be=Ye(p),ye=Ye(p),we=Ye(d),Be=Ye(u),xe=Ye(d),ie(((qe=function(t){function s(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"sbZombieSpawnIcon",ve,i(e)),e.currentSBZombieAddArmor=0,o(e,"SBZombieArmorIconSlot",Pe,i(e)),e.currentFreeSeedPacket=null,e.cards=null,e.squares=null,e.sceneEnabled=!1,o(e,"mouse",ke,i(e)),o(e,"UIUpper",Le,i(e)),o(e,"sandBoxSettingWindowPrefab",Ee,i(e)),e.sandBoxSettingWindow=void 0,o(e,"sbButton",Oe,i(e)),e.sbButtonOldPos=void 0,o(e,"SBZombieCards",Ae,i(e)),o(e,"SBZombieCardsSlot",Ue,i(e)),o(e,"uiWillBeHiden",Ne,i(e)),e.uiScaleMemorized=[],e.uiHidden=!1,e.shovel=null,e.index=-1,e.willCostSun=0,e.indexChange=[function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(0)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(1)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(2)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(3)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(4)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(5)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(6)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(7)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(-1)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(-2)},function(t){t.getButton()==g.BUTTON_LEFT?e.tryChangingIndex(-3):t.getButton()==g.BUTTON_MIDDLE&&z.sandBoxModeOn&&E.foodAllPlants()},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(-4)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(-5)},function(t){t.getButton()==g.BUTTON_LEFT&&e.tryChangingIndex(-6)}],e.plantInHandType=[],e.plantReady=null,e.currentPlantName=null,e.shovelReady=null,e.currentSniperPlant=null,e.stageEffIndex=0,o(e,"pauseScreen",Fe,i(e)),o(e,"pauseButton",De,i(e)),e.normalPause=void 0,e.hoverPause=void 0,e.pressedPause=void 0,o(e,"s2xButton",Me,i(e)),e.normal2x=void 0,e.hover2x=void 0,e.pressed2x=void 0,e.oldTick=m.tick,e.musicI=0,e.gameStarted=!1,o(e,"plantInHandLayer",_e,i(e)),o(e,"windowSplash",Ze,i(e)),o(e,"gameLoseTip",He,i(e)),o(e,"gameLoseTipSmall",We,i(e)),e.exitNextTick=!1,o(e,"gameLoseButtons",ze,i(e)),e.gameLoseButtonOldPos=new S,o(e,"levelTaskShower",Re,i(e)),o(e,"levelTaskShowerSlot",Ge,i(e)),e.levelTasks=[],e}n(s,t);var r=s.prototype;return r.readSBZombieSpawnStyle=function(e){var t,n="DirectPut";switch(e){case V.dirtSpawn:n="DirtSpawn";break;case V.snowStorm:n="SnowStorm";break;case V.sandStorm:n="SandStorm";break;case V.fromLane:n="FromLane"}null==(t=this.sbZombieSpawnIcon)||t.playAnimation(n,1)},r.switchSBZombieSpawnStyle=function(){K.zombieSpawnStyle++},r.switchSBZombieAddArmor=function(e){this.SBZombieArmorIconSlot.destroyAllChildren();for(var t=this.currentSBZombieAddArmor+e;t<0;)t+=ee.amount;for(;t>=ee.amount;)t-=ee.amount;this.currentSBZombieAddArmor=t,f(te.getArmor(t)).parent=this.SBZombieArmorIconSlot},r.addArmorOnZombies_sandbox=function(){E.armorOnAllZombies(this.currentSBZombieAddArmor)},r.showSBSettings=function(){this.sandBoxSettingWindow?(Ve=e("superSlowed",!1),A.destroyPooly(this.sandBoxSettingWindow),this.sandBoxSettingWindow=null):(Ve=e("superSlowed",!0),this.sandBoxSettingWindow=A.instantiatePooly(this.sandBoxSettingWindowPrefab),this.sandBoxSettingWindow.parent=this.UIUpper,this.sandBoxSettingWindow.worldPosition=this.node.parent.worldPosition,this.sandBoxSettingWindow.setSiblingIndex(this.sbButton.node.getSiblingIndex()))},r.hideUI=function(){this.uiHidden?(this.uiScaleMemorized.forEach((function(e){e.node.scale=e.oldScale})),this.uiHidden=!1):(this.uiScaleMemorized.forEach((function(e){e.node.scale=new S(0,0,0)})),this.uiHidden=!0)},r.cardSelect=function(){this.cards.JudgeSelection(),this.cards.cardSelect(),this.shovel.shovelSelect(),N.component.choose(),this.squares.readIndex()},r.onEnable=function(){var e=this;this.scheduleOnce((function(){e.sceneEnabled=!0}),.1)},r.setSibling=function(){var e=C("Canvas/LawnCommon");this.node.setSiblingIndex(e.getSiblingIndex()),s.cardsAtUpper=e.getSiblingIndex()<this.node.getSiblingIndex(),q.saveSettings()},r.onKeyDown=function(t){var n;if(!z.component.gameLost){var o=L.cardsController.cardSlot;if(z.gameStarted||z.component.lastStandPrepareStarted)if(t.keyCode==b.BACK_QUOTE)this.hideUI();else{switch(t.keyCode){case b.DIGIT_1:o[0]&&($.ctrlDown&&z.sandBoxModeOn?E.allLnCSpawnPlant(L.cardsController.seedPackets[0].getComponent(F).ID):this.tryChangingIndex(0));break;case b.DIGIT_2:o[1]&&($.ctrlDown&&z.sandBoxModeOn?E.allLnCSpawnPlant(L.cardsController.seedPackets[1].getComponent(F).ID):this.tryChangingIndex(1));break;case b.DIGIT_3:o[2]&&($.ctrlDown&&z.sandBoxModeOn?E.allLnCSpawnPlant(L.cardsController.seedPackets[2].getComponent(F).ID):this.tryChangingIndex(2));break;case b.DIGIT_4:o[3]&&($.ctrlDown&&z.sandBoxModeOn?E.allLnCSpawnPlant(L.cardsController.seedPackets[3].getComponent(F).ID):this.tryChangingIndex(3));break;case b.KEY_Q:o[4]&&($.ctrlDown&&z.sandBoxModeOn?E.allLnCSpawnPlant(L.cardsController.seedPackets[4].getComponent(F).ID):this.tryChangingIndex(4));break;case b.KEY_W:o[5]&&($.ctrlDown&&z.sandBoxModeOn?E.allLnCSpawnPlant(L.cardsController.seedPackets[5].getComponent(F).ID):this.tryChangingIndex(5));break;case b.KEY_E:o[6]&&($.ctrlDown&&z.sandBoxModeOn?E.allLnCSpawnPlant(L.cardsController.seedPackets[6].getComponent(F).ID):this.tryChangingIndex(6));break;case b.KEY_R:o[7]&&($.ctrlDown&&z.sandBoxModeOn?E.allLnCSpawnPlant(L.cardsController.seedPackets[7].getComponent(F).ID):this.tryChangingIndex(7));break;case b.F3:this.setSibling();break;case b.KEY_K:$.ctrlDown&&z.sandBoxModeOn&&ne.pool().concat().forEach((function(e){e.playDie(!0,null,!1,oe.physicle,!1,!0,!1),A.destroyPooly(e.node)}));break;case b.KEY_D:$.ctrlDown&&z.sandBoxModeOn?E.shovelAllPlants():this.tryChangingIndex(-2);break;case b.KEY_F:$.ctrlDown&&z.sandBoxModeOn?E.foodAllPlants():this.tryChangingIndex(-3);break;case b.KEY_V:m.isPaused()||this.speedUp()}if(z.sandBoxModeOn){if(!this.sandBoxSettingWindow)switch(t.keyCode){case b.ARROW_LEFT:_.pushTide(1);break;case b.ARROW_RIGHT:_.pullTide(1);break;case b.ENTER:_.pullTide(9);break;case b.BACKSPACE:_.addTide(),_.pushTide(9);break;case b.TAB:_.setStageEffect(this.stageEffIndex++%(H.none+1));break;case b.F1:null==(n=M.component)||n.loadZombies();break;case b.F2:_.changeFrontYard((_.currentLawnYardType+1)%Z.yardAmount),this.musicI++;break;case b.F5:Ve=e("superSlowed",!Ve)}switch(t.keyCode){case b.F6:this.showSBSettings()}}}switch(t.keyCode){case b.SPACE:case b.ESCAPE:this.pauseMenu()}}},r.pauseMenu=function(){if(m.isPaused())m.resume(),this.pauseScreen.parent=this.node.parent,this.pauseScreen.getChildByName("MainBody").position=new S(0,1e3,0),this.pauseScreen.setSiblingIndex(0),D.resumeMusic(),this.pauseButton.getComponent(c).hoverSprite=this.hoverPause,this.pauseButton.getComponent(c).normalSprite=this.normalPause;else{if(z.component.gameWon)return;W.playPause(),D.pauseMusic(),this.pauseScreen.parent=this.UIUpper,this.pauseScreen.getChildByName("MainBody").position=new S,this.pauseScreen.setSiblingIndex(this.pauseButton.getSiblingIndex()),this.scheduleOnce((function(){m.pause()}),0),this.pauseButton.getComponent(c).hoverSprite=this.pressedPause,this.pauseButton.getComponent(c).normalSprite=this.pressedPause}},r.plantInHand=function(e,t){if(void 0===t&&(t=!0),this.plantInHandType=[],this.plantReady=null,this.currentPlantName=null,this.willCostSun=0,t&&e){var n=e.getComponent(F);this.currentPlantName=n.ID,this.plantInHandType=n.thisPlant.TYPE,this.willCostSun=n.thisPlant.SUNCOST,this.plantReady=A.instantiatePooly(R.getPlantsInCard(this.currentPlantName).plantDIS),this.plantReady.parent=this.plantInHandLayer,this.plantReady.getChildByName("Body").getComponent(l.ArmatureDisplay).color=new y(255,255,255,255),this.plantReady.setPosition(0,-20)}},r.spawnPlantCost=function(){var e;8==this.index&&(null==G||null==(e=G.component)||e.spliceCard(this.currentFreeSeedPacket)),this.node.getChildByName("SunSlot").getComponent(U).SunDec(this.willCostSun),this.index>=0&&this.index<=7&&this.cards.CoolStart(this.index)},s.exit=function(){s.uiingame.oldTickReturn(),w.stopAll(),A.clearAll(),m.loadScene("worldMapScene",(function(){m.isPaused()&&m.resume(),A.clearAll(),w.stopAll()})),w.stopAll()},r.tryChangingIndex=function(e){var t;if(!m.isPaused()&&!this.indexLocked&&!z.component.gameLost){var n=!1;switch(this.squares.deletePlantGhosts(),this.currentSniperPlant&&(this.currentSniperPlant.locateCancel(),this.currentSniperPlant.locatorNode=null,this.currentSniperPlant=null),e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:if(this.cards.seedPackets[e]){var o=this.cards.seedPackets[e].getComponent(k);o.getSelectable()?(A.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):(this.index=e,this.plantInHand(this.cards.seedPackets[e]),W.playCardChosen(),this.squares.plantGhost()),n=!0):(W.playCardChooseFailed(),o.affordable||o.cooling||U.component.playWarn())}break;case 8:null!=(t=this.currentFreeSeedPacket)&&t.enabled&&this.currentFreeSeedPacket.getComponent(k).getSelectable()&&(A.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):(this.index=e,this.plantInHand(this.currentFreeSeedPacket.node),W.playCardChosen(),this.squares.plantGhost()),n=!0);break;case 9:A.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index==e?this.tryChangingIndex(-1):(this.index=e,this.squares.plantGhost()),n=!0;break;case-1:if(A.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index<=8&&this.index>=0)this.plantInHand(null,!1),W.playCardCancel();else if(-2==this.index)W.playShovelActive();else if(-4==this.index){var i;null==(i=this.currentSniperPlant)||i.locateCancel()}null!=Y&&Y.component&&(Y.component.index=-1),this.index=-1,n=!0;break;case-2:A.destroyNodeArrayPooly(this.plantInHandLayer.children),this.index=-2==this.index?-1:-2,W.playShovelActive(),n=!0;break;case-3:N.plantFoodNum>0||K.freePF?z.gameStarted&&(this.index=-3==this.index?-1:-3,A.destroyNodeArrayPooly(this.plantInHandLayer.children),-3==this.index&&N.component.addMouseChild(),n=!0):N.plantfoodWarn();break;case-4:-4!=this.index&&(n=!0),this.index=-4;break;case-5:if(z.gameStarted){var a=this.index+0;this.index=-5==this.index?-1:-5,A.destroyNodeArrayPooly(this.plantInHandLayer.children),n=a!=this.index}}n&&(this.cardSelect(),j.component.judgeUIIndex(),8!=this.index&&this.currentFreeSeedPacket&&(W.playCardCancel(),this.currentFreeSeedPacket.getComponent(k).index=0,this.currentFreeSeedPacket=null))}},r.onMouseUp=function(e){-5==this.index&&e.getButton()==g.BUTTON_LEFT&&j.component.onMouseUp(e)},r.onMouseDown=function(e){if(e.getButton()==g.BUTTON_RIGHT){var t=this.index+0;this.tryChangingIndex(-1),-1!=t&&-1==this.index&&W.playRightButtonCancel()}else-5==this.index&&e.getButton()==g.BUTTON_LEFT&&j.component.onMouseDown(e)},r.oldTickReturn=function(){je=e("gamingSpeed",1),m.tick=this.oldTick},r.speedUp=function(){je=e("gamingSpeed",1==je?1.5:1),W.playSpeedUp(),1==je?(this.s2xButton.getComponent(c).normalSprite=this.normal2x,this.s2xButton.getComponent(c).pressedSprite=this.pressed2x,this.s2xButton.getComponent(c).hoverSprite=this.hover2x):(this.s2xButton.getComponent(c).normalSprite=this.pressed2x,this.s2xButton.getComponent(c).pressedSprite=this.pressed2x,this.s2xButton.getComponent(c).hoverSprite=this.hover2x)},s.gameStart=function(){this.uiingame._gameStart()},r._gameStart=function(){var e,t=this;if(!this.gameStarted){z.sandBoxModeOn&&(this.sbButton.node.active=!0,this.sbButton.node.position=this.sbButtonOldPos,f(this.SBZombieCards).parent=this.SBZombieCardsSlot),J.component&&(J.component.show(),J.component.hidden=!1),this.levelTaskShowerSlot.active=!0,this.gameStarted=!0,this.s2xButton.getComponent(h).color=new y(255,255,255,255),this.s2xButton.on(d.EventType.MOUSE_DOWN,(function(e){m.isPaused()||t.speedUp()})),this.shovel.node.on(d.EventType.MOUSE_DOWN,this.indexChange[9],this),this.node.parent.on(d.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.parent.on(d.EventType.MOUSE_UP,this.onMouseUp,this),C("Canvas/UIInGame/PlantFoodSlot/Button").on(d.EventType.MOUSE_DOWN,this.indexChange[10],this),N.keyOn();var n=C("Canvas/LawnCommon");(s.cardsAtUpper&&n.getSiblingIndex()>this.node.getSiblingIndex()||!s.cardsAtUpper&&n.getSiblingIndex()<this.node.getSiblingIndex())&&this.setSibling(),null!=(e=this.SBZombieArmorIconSlot)&&e.active&&(this.switchSBZombieAddArmor(0),this.SBZombieArmorIconSlot.parent.on(d.EventType.MOUSE_WHEEL,(function(e){e.preventSwallow=!0,e.getScrollY()>0?t.switchSBZombieAddArmor(-1):e.getScrollY()<0&&t.switchSBZombieAddArmor(1)}),this))}},r.onLoad=function(){var t=this;this.uiHidden=!1,this.gameLoseButtonOldPos=this.gameLoseButtons.position.clone(),this.uiWillBeHiden.forEach((function(e){t.uiScaleMemorized.push({node:e,oldScale:e.scale.clone()})})),this.sceneEnabled=!1,this.sbButtonOldPos=this.sbButton.node.position.clone(),this.sbButton.node.position.add3f(-1e3,1e3,0),Ve=e("superSlowed",!1),this.gameStarted=!1,this.currentFreeSeedPacket=null,s.uiingame=this,B.on(x.EventType.KEY_DOWN,this.onKeyDown,this),this.s2xButton.getComponent(h).color=new y(255,255,255,0),this.squares=C("Canvas/LawnCommon/Squares").getComponent(E),this.cards=this.node.getChildByName("Cards").getComponent(L),this.shovel=this.node.getChildByName("Shovel").getComponent(O),this.shovel.UIParent=this,this.normalPause=this.pauseButton.getComponent(c).normalSprite,this.hoverPause=this.pauseButton.getComponent(c).hoverSprite,this.pressedPause=this.pauseButton.getComponent(c).pressedSprite,this.normal2x=this.s2xButton.getComponent(c).normalSprite,this.hover2x=this.s2xButton.getComponent(c).hoverSprite,this.pressed2x=this.s2xButton.getComponent(c).pressedSprite},r.start=function(){this.showGameLoseButtons(!1),this.windowSplashColorA=0,this.cards.enabled=!0,this.uiHidden=!0,this.hideUI()},r.update=function(e){var t,n=this;if(this.plantInHandLayer.worldPosition=this.mouse.worldPosition,null!=(t=this.currentSniperPlant)&&t.locatorNode&&(this.currentSniperPlant.locatorNode.worldPosition=this.mouse.worldPosition),this.UIUpper.position=this.node.position,this.sceneEnabled&&!z.component.gameLost)if(Ve)m.tick=function(e){var t;null==n||null==(t=n.oldTick)||t.call(m,60*T.deltaTime*0)};else{var o=z.sandBoxModeOn&&!z.gameStarted?4:1;m.tick=function(e){var t;null==n||null==(t=n.oldTick)||t.call(m,je/60*o*(60*T.deltaTime))}}else this.oldTickReturn();this.exitNextTick&&s.exit()},r.victoryExit=function(){var e=this;this.windowSplash.color=new y(255,255,255,0),I(this).to(2.5,{}).to(2.5,{windowSplashColorA:255}).call((function(){e.exitNextTick=!0})).start()},r.showGameLoseButtons=function(e){void 0===e&&(e=!0),e?(this.gameLoseButtons.active=!0,this.gameLoseButtons.position=this.gameLoseButtonOldPos):(this.gameLoseButtons.active=!1,this.gameLoseButtons.position=new S(0,1e4,0))},r.loseDarken=function(e,t,n){var o=this;if(void 0===e&&(e=null),void 0===t&&(t="THE ZOMBIES ATE YOUR BRAINS!"),void 0===n&&(n=""),!z.component.gameLost&&!z.component.gameWon){this.tryChangingIndex(-1),z.component.gameLost=!0,D.switchMusicSort(Q.Lose),e&&(e.node.setParent(this.windowSplash.node.parent,!0),e.node.setSiblingIndex(this.windowSplash.node.getSiblingIndex()+1),e.triggerGameLose(),e.isGameLoseTriggerer=!0),this.gameLoseTip.string=t,this.windowSplash.color=new y(0,0,0,0),this.gameLoseTip.string=t;var i=this.gameLoseTip.getComponent(v);i.opacity=0,this.gameLoseTip.node.scale=new S(.5,1,1);var a=I(i).to(1.5,{opacity:255},{easing:"quadOut"}),s=I(this.gameLoseTip.node).to(1.5,{scale:new S(1,1,1)},{easing:"quadOut"});this.gameLoseTipSmall.string=n,this.gameLoseTipSmall.node.position=new S(0,420,10);I(this.gameLoseTipSmall.node).to(1.5,{position:new S(0,130,10)},{easing:"quadIn"}).to(1,{position:new S(0,220,10)},{easing:"quadOut"}).to(1,{position:new S(0,130,10)},{easing:"quadIn"}).to(.5,{position:new S(0,170,10)},{easing:"quadOut"}).to(.5,{position:new S(0,130,10)},{easing:"quadIn"}).start();I(this).to(2,{windowSplashColorA:255}).call((function(){z.component.gameOver=!0,a.start(),s.start(),o.showGameLoseButtons()})).start()}},r.calculateLevelTask=function(e,t){this.gameStarted&&!z.component.lastStandPrepareStarted&&this.levelTasks.forEach((function(n){n.changeObjdata(e,t)}))},r.warnLevelTask=function(e){this.levelTasks.forEach((function(t){t.mode==e&&t.playWarn()}))},r.judgeLevelTasksVictory=function(){var e=!0;return this.levelTasks.forEach((function(t){e&&(e=t.judgeVictory())})),e},r.getLevelTaskObject=function(e){for(var t=this.levelTasks.concat(),n=0;n<t.length;n++)if(t[n].mode==e)return t[n].objdata},r.getLevelTaskStartingObject=function(e){for(var t=this.levelTasks.concat(),n=0;n<t.length;n++)if(t[n].mode==e)return t[n].startingObjdata},r.pushLevelTask=function(e,t){if(t){this.levelTaskShowerSlot.active=!1;var n=f(this.levelTaskShower);n.parent=this.levelTaskShowerSlot;var o=n.getComponent(X);o.switchMode(e,t),this.levelTasks.push(o)}},a(s,[{key:"indexLocked",get:function(){return j.uiIndexLocked}},{key:"windowSplashColorA",get:function(){return this.windowSplash.color.a},set:function(e){var t=this.windowSplash.color.clone();this.windowSplash.color=new y(t.r,t.g,t.b,e)}}],[{key:"index",get:function(){return this.uiingame.index}}]),s}(P)).cardsAtUpper=!1,qe.uiingame=void 0,ve=t((Ie=qe).prototype,"sbZombieSpawnIcon",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=t(Ie.prototype,"SBZombieArmorIconSlot",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=t(Ie.prototype,"mouse",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(Ie.prototype,"UIUpper",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(Ie.prototype,"sandBoxSettingWindowPrefab",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=t(Ie.prototype,"sbButton",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=t(Ie.prototype,"SBZombieCards",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=t(Ie.prototype,"SBZombieCardsSlot",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=t(Ie.prototype,"uiWillBeHiden",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fe=t(Ie.prototype,"pauseScreen",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=t(Ie.prototype,"pauseButton",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=t(Ie.prototype,"s2xButton",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=t(Ie.prototype,"plantInHandLayer",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=t(Ie.prototype,"windowSplash",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=t(Ie.prototype,"gameLoseTip",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=t(Ie.prototype,"gameLoseTipSmall",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=t(Ie.prototype,"gameLoseButtons",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=t(Ie.prototype,"levelTaskShower",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=t(Ie.prototype,"levelTaskShowerSlot",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=Ie))||Te));s._RF.pop()}}}));

System.register("chunks:///_virtual/UmbrellaLeaf.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./umbrellaLeafSound.ts"],(function(t){var e,n,a,i,s,o,l,r,h,c,m,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,a=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,o=t.AudioSource,l=t.Vec2},function(t){r=t.Plant},function(t){h=t.Umbrellas,c=t.Rectangle},function(t){m=t.Square},function(t){u=t.umbrellaLeafSound}],execute:function(){var d;i._RF.push({},"f671cHIAU9Era0nTV0pwgDI","UmbrellaLeaf",void 0);var f=s.ccclass,b=(s.property,t("umbrellaLeafRange",(function(t,e){this.owner=void 0,this.detector=void 0,this.owner=t,this.detector=e})));t("UmbrellaLeafPlant",f("UmbrellaLeaf")(d=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).blockAnm="Block",e._stage=0,e.thisUmbrella=new b(a(e),c.createRectangleCenter(new l(0,0),3*m.SquareDisW,3*m.SquareDisH)),e.zombiesInRange=[],e.detector=void 0,e}e(i,t);var s=i.prototype;return s.umbrella=function(){return this.getComponent(u).playUmbrellaSound(),this.anmControl.playAnimation(this.blockAnm,1),this.setAnimation(!0),!0},s.specialPlantFood=function(t){this.foodable=!1,this.foodEnd(),this.getComponent(u).playFoodSound(),this.allowStack=!0,this.eaterDetectable=!1,this.smasherDetectable=!1,this.stage=2+this.stage%2,this.anmControl.playRandom()},s.bounce=function(){o.maxAudioChannel,this.getComponent(u).playBounceSound(),this.anmControl.playAnimation(this.blockAnm,1,0,.7),this.setAnimation(!0)},s.specialPlantDie=function(){var t=h.umbrellas.indexOf(this.thisUmbrella);-1!=t&&h.umbrellas.splice(t,1)},s.specialPlantOnEnable=function(){this.stage=0,-1==h.umbrellas.indexOf(this.thisUmbrella)&&h.umbrellas.push(this.thisUmbrella),this.zombiesInRange=[],this.setAnimation(!1),this.anmControl.playRandom()},s.setAnimation=function(t){this.anmControl;t?this.stage>=2?this.stage=3:this.stage=1:this.stage>=2?this.stage=2:this.stage=0},s.specialPlantOnSquareChange=function(t,e){this.detector=c.createRectangleNodeCenter(e.node,3*m.SquareDisW,3*m.SquareDisH),this.thisUmbrella.detector=this.detector},n(i,[{key:"stage",get:function(){return this._stage},set:function(t){switch(t){case 1:this.anmControl.IdleAnim="Idle_Excited",this.anmControl.RandomAnim=["Random_Excited"],this.deathAnm="Death",this.waterAnm="Water",this.blockAnm="Block";break;case 2:this.anmControl.IdleAnim="Idle_Infi",this.anmControl.RandomAnim=["Random_Infi"],this.deathAnm="Death_Infi",this.waterAnm="Water_Infi",this.blockAnm="Block_Infi";break;case 3:this.anmControl.IdleAnim="Idle_Excited_Infi",this.anmControl.RandomAnim=["Random_Excited_Infi"],this.deathAnm="Death_Infi",this.waterAnm="Water_Infi",this.blockAnm="Block_Infi";break;default:t=0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"],this.deathAnm="Death",this.waterAnm="Water",this.blockAnm="Block"}this._stage=t}}]),i}(r))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/umbrellaLeafSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./plantSound.ts"],(function(o){var n,e,t,u,r,i,l,a,c;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,u=o.assertThisInitialized},function(o){r=o.cclegacy,i=o._decorator,l=o.AudioClip},function(o){a=o.ArrayGet},function(o){c=o.plantSound}],execute:function(){var d,p,s,b,f,S,h,y,m;r._RF.push({},"2b2e22+u0ZJpI5DDdhvN8Rr","umbrellaLeafSound",void 0);var g=i.ccclass,D=i.property;o("umbrellaLeafSound",(d=g("umbrellaLeafSound"),p=D([l]),s=D([l]),b=D([l]),d((h=n((S=function(o){function n(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n=o.call.apply(o,[this].concat(r))||this,t(n,"umbrellaSound",h,u(n)),t(n,"bounceSound",y,u(n)),n.bounceSoundCoolDown=0,t(n,"foodSound",m,u(n)),n}e(n,o);var r=n.prototype;return r.playUmbrellaSound=function(){this.playOneShot(a.getRandom(this.umbrellaSound))},r.playBounceSound=function(){this.bounceSoundCoolDown<=0&&(this.playOneShot(a.getRandom(this.bounceSound)),this.bounceSoundCoolDown=1)},r.playFoodSound=function(){this.playOneShot(a.getRandom(this.foodSound))},r.update=function(o){this.bounceSoundCoolDown>0&&this.bounceSoundCoolDown--},n}(c)).prototype,"umbrellaSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=n(S.prototype,"bounceSound",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=n(S.prototype,"foodSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=S))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Vamporcini.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./CharacterManager.ts","./Square.ts","./Zombie.ts","./NodePools.ts","./SoundsController.ts","./vamporciniSound.ts"],(function(t){var n,i,e,o,a,r,s,l,c,h,u,b,d,m,p,f,g,P;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.CCFloat,l=t.Prefab,c=t.Vec2,h=t.dragonBones,u=t.AudioSource},function(t){b=t.Plant},function(t){d=t.Rectangle},function(t){m=t.Square},function(t){p=t.zombieDamageType},function(t){f=t.NodePools},function(t){g=t.SoundFXController},function(t){P=t.vamporciniSound}],execute:function(){var y,D,S,C,L,A,v,w,R,z,E,F,k,_,I,j,x,T,V;a._RF.push({},"e13e99QG7VHJpt/BDlmuh0l","Vamporcini",void 0);var q=r.ccclass,U=r.property;t("VamporciniPlant",(y=q("VamporciniPlant"),D=U(s),S=U(s),C=U(s),L=U(s),A=U(s),v=U(l),w=U(l),R=U(l),y((F=n((E=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,e(n,"maxToughness",F,o(n)),e(n,"normalDPS",k,o(n)),e(n,"attackDuration",_,o(n)),n.attackCD=1/0,e(n,"foodDPS",I,o(n)),e(n,"foodDuration",j,o(n)),e(n,"batParticles",x,o(n)),e(n,"hereParticles",T,o(n)),e(n,"thereParticles",V,o(n)),n.particles=[],n.absorbStartable=!0,n.absorbing=!1,n.absorbFinished=!1,n.detector=d.createRectangleCenter(new c,0,0),n}i(n,t);var a=n.prototype;return a.onDamaged=function(t,n,i){var e=5,o=this.anmControl.body.armature();for(e=5;e>=0;e--){var a=o.getSlot("SLOT"+(5-e).toString());i<this.maxToughness/7*(e+1)?null==a||a._setDisplayIndex(-1):null==a||a._setDisplayIndex(0)}},a.waterable=function(){return!this.absorbing&&this.absorbStartable},a.specialPlantOnEnable=function(){this.absorbing=!1,this.absorbFinished=!1,this.attackCD=1/0,this.anmControl.IdleAnim="Idle",this.anmControl.RandomAnim=["Random"]},a.specialPlantOnSquareChange=function(t,n){this.detector=d.createRectangleNodeCenter(n.node,3*m.SquareDisW,3*m.SquareDisH),this.particles.forEach((function(t){t.node.worldPosition=n.node.worldPosition}))},a.spawnParticles=function(){var t=this,n=f.instantiatePooly(this.thereParticles);n.parent=this.inLane.UpperLane.prjLayer;var i=f.instantiatePooly(this.hereParticles);i.parent=this.inLane.prjLayer;var e=f.instantiatePooly(this.batParticles);e.parent=this.inLane.prjLayer,[n,i,e].forEach((function(n){n.worldPosition=t.inLnC.node.worldPosition;var i=n.getComponent(h.ArmatureDisplay);t.particles.push(i),i.playAnimation("Start",1)}))},a.deleteParticles=function(){this.particles.forEach((function(t){t.playAnimation("Death")})),this.particles=[]},a.absorb=function(t){var n=this,i=0;this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(e){e.bodyRec.judgeCrossRec(n.detector)&&(e.dealDamage(t,!1,!1,!1,null,p.physicle,!0),i+=t)})),this.inLane.tombPool().concat(this.inLane.UpperLane.tombPool(),this.inLane.LowerLane.tombPool()).forEach((function(e){e.bodyRec.judgeCrossRec(n.detector)&&(e.dealDamage(t),i+=t)})),this.toughness=Math.min(this.toughness+4*i,this.maxToughness),this.health=this.toughness,this.onDamaged(0,this.toughness,this.toughness)},a.detectEnemies=function(){var t=this,n=!1;return this.inLane.zombiePool().concat(this.inLane.UpperLane.zombiePool(),this.inLane.LowerLane.zombiePool()).forEach((function(i){n||i.bodyRec.judgeCrossRec(t.detector)&&(n=!0)})),n},a.specialPlantFood=function(t){this.absorbStart()},a.absorbStart=function(){this.deleteParticles(),this.getComponent(P).playAbsorbStart(this.fooding),this.absorbing=!1,this.absorbStartable=!1,this.attackCD=1/0,this.anmControl.playAnimation(this.fooding?"FoodStart":"AbsorbStart",1),this.damagable=!1,this.anmControl.IdleAnim=this.fooding?"Fooding":"Absorbing",this.anmControl.RandomAnim=[]},a.absorbEnd=function(){this.absorbing=!1,this.damagable=!0,this.deleteParticles(),this.getComponent(P).playAbsorbEnd(),this.fooding?this.anmControl.playAnimation("FoodEnd",1,.1):this.anmControl.playAnimation("AbsorbEnd",1,.1),this.anmControl.IdleAnim="Idle_Red",this.anmControl.RandomAnim=["Random_Red"],this.deathAnm="Death_Red"},a.animationListener=function(t){"absorbStart"==t.name?(this.absorbing=!0,this.spawnParticles(),this.attackCD=this.fooding?this.foodDuration:this.attackDuration):"foodStart"==t.name?this.anmControl.playAnimation("Fooding",1/0):"foodEnd"==t.name&&this.foodEnd()},a.specialPlantDie=function(){this.deleteParticles()},a.specialPlantUpdate=function(t){if(this.absorbStartable&&this.detectEnemies()&&this.absorbStart(),this.absorbing){var n=(this.fooding?this.foodDPS:this.normalDPS)*t;this.absorb(n),this.attackCD>0?this.attackCD-=t:this.absorbEnd()}this.particles.forEach((function(t){var n=t.getComponent(u);n&&(n.volume=g.SoundFXVolume)}))},n}(b)).prototype,"maxToughness",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6e3}}),k=n(E.prototype,"normalDPS",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),_=n(E.prototype,"attackDuration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),I=n(E.prototype,"foodDPS",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),j=n(E.prototype,"foodDuration",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),x=n(E.prototype,"batParticles",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(E.prototype,"hereParticles",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(E.prototype,"thereParticles",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=E))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/vamporciniSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts","./NodePools.ts"],(function(o){var t,n,r,i,e,a,u,c,l;return{setters:[function(o){t=o.applyDecoratedDescriptor,n=o.inheritsLoose,r=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){e=o.cclegacy,a=o._decorator,u=o.AudioClip},function(o){c=o.plantSound},function(o){l=o.ArrayGet}],execute:function(){var s,d,p,b,S,f,y,h,v;e._RF.push({},"4237c+e/VZPxbgDw+Iz6Ulw","vamporciniSound",void 0);var g=a.ccclass,m=a.property;o("vamporciniSound",(s=g("vamporciniSound"),d=m([u]),p=m([u]),b=m([u]),s((y=t((f=function(o){function t(){for(var t,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return t=o.call.apply(o,[this].concat(e))||this,r(t,"foodStartSound",y,i(t)),r(t,"absorbStartSound",h,i(t)),r(t,"absorbEndSound",v,i(t)),t}n(t,o);var e=t.prototype;return e.playAbsorbStart=function(o){void 0===o&&(o=!1),this.playOneShot(l.getRandom(o?this.foodStartSound:this.absorbStartSound))},e.playAbsorbEnd=function(){this.playOneShot(l.getRandom(this.absorbEndSound))},t}(c)).prototype,"foodStartSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=t(f.prototype,"absorbStartSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=t(f.prototype,"absorbEndSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=f))||S));e._RF.pop()}}}));

System.register("chunks:///_virtual/WallNut.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Plant.ts","./wallnutSound.ts"],(function(t){var e,a,n,i,s,r,o,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator},function(t){o=t.Plant},function(t){h=t.wallnutSound}],execute:function(){var l,u,m,d,c;s._RF.push({},"d56b3xZyPhKQrzCj5jI3A26","WallNut",void 0);var f=r.ccclass,p=r.property;t("WallNutPlant",(l=f("WallNutPlant"),u=p(Number),l((c=e((d=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).armorHealth=0,n(e,"armorToughness",c,i(e)),e.armorStage=3,e.hurtStage=0,e}a(e,t);var s=e.prototype;return s.specialPlantOnLoad=function(){},s.normalSmash=function(t){this.fooding||this.invincible||(this.armorHealth>0?(this.armorHealth=0,this.foodable=!0,this.setArmor()):this.die())},s.replantable=function(){return this.hurtStage>0},s.replant=function(){this.health=this.toughness,this.setAnimation()},s.specialPlantOnEnable=function(){this.foodable=!0,this.setAnimation(),this.setArmor(),this.armorHealth=0},s.animationListener=function(t){"foodEnd"==t.name?this.foodEnd():"wearArmor"==t.name&&(this.setArmor(0),this.armorHealth=this.armorToughness)},s.waterable=function(){return 0==this.hurtStage},s.specialPlantDie=function(){this.setArmor()},s.setArmor=function(t){void 0===t&&(t=3);var e=this.anmControl.body.armature().getSlot("ARMOR");switch(t){case 0:e._setDisplayIndex(0);break;case 1:e._setDisplayIndex(1);break;case 2:e._setDisplayIndex(2);break;default:e._setDisplayIndex(-1),this.armorStage=3}},s.dealNormalDamage=function(t,e){var a=this.health+0;if(this.armorHealth>0){var n=this.armorHealth+0;this.armorHealth-=t,this.armorHealth!=this.armorToughness&&(this.foodable=!0);for(var i=0;i<=3;i++)n>=this.toughness/3*i&&this.armorHealth<=this.toughness/3*i&&this.setArmor(3-i)}else this.health-=t,t>0&&(this.hurting=this.defaultHurtLightStrength(0==e),this.onDamaged(t,a,this.health+0)),this.health<=0&&this.die();return this.health},s.onDamaged=function(t,e,a){for(var n=1;n<=3;n++)e>=this.toughness/4*n&&a<=this.toughness/4*n&&this.setAnimation(4-n)},s.specialPlantFood=function(t){this.getComponent(h).playFoodSound(),this.foodable=!1,this.setAnimation(0),this.anmControl.playAnimation("Food",1)},s.setAnimation=function(t){void 0===t&&(t=0),this.hurtStage=t;var e,a=this.anmControl;switch(t){case 1:a.IdleAnim="Idle2",a.RandomAnim=[],this.deathAnm="Death2";break;case 2:a.IdleAnim="Idle3",a.RandomAnim=[],this.deathAnm="Death3";break;case 3:a.IdleAnim="Idle4",a.RandomAnim=[],this.deathAnm="Death4";break;default:a.IdleAnim="Idle1",a.RandomAnim=["Rand11","Rand12"],this.deathAnm="Death1",this.hurtStage=0}this.dead||(a.playRandom(),this.replantable()&&(null==(e=this.inLnC)||e.readIndex()))},e}(o)).prototype,"armorToughness",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4e3}}),m=d))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/wallnutSound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./plantSound.ts"],(function(n){var t,o,e,r,i,u,l,a;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,u=n._decorator,l=n.AudioClip},function(n){a=n.plantSound}],execute:function(){var c,s,p,d,f;i._RF.push({},"32ece+svt1FM6szWFC0R0DX","wallnutSound",void 0);var S=u.ccclass,y=u.property;n("wallnutSound",(c=S("wallnutSound"),s=y(l),c((f=t((d=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return t=n.call.apply(n,[this].concat(i))||this,e(t,"foodSound",f,r(t)),t}return o(t,n),t.prototype.playFoodSound=function(){this.playOneShot(this.foodSound)},t}(a)).prototype,"foodSound",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./LevelNodes.ts","./levelController.ts","./Plants.ts","./PlayerProperties.ts","./SoundRescourses.ts","./worldMapScene.ts"],(function(e){var t,i,n,l,o,a,r,s,c,p,u,d,y,v,h,f,m,g,b,N,P,w,E,D,C,M,X,B,L,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.inheritsLoose,l=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,r=e._decorator,s=e.Enum,c=e.JsonAsset,p=e.Node,u=e.CCFloat,d=e.Vec3,y=e.dragonBones,v=e.tween,h=e.Color,f=e.UIOpacity,m=e.input,g=e.Input,b=e.Label,N=e.director,P=e.Component},function(e){w=e.NodePools},function(e){E=e.levelNodeRes},function(e){D=e.LevelPlay},function(e){C=e.PlantEnum,M=e.plants},function(e){X=e.AllPlayerProperties},function(e){B=e.sounds},function(e){L=e.WorldMapSceneDisplayEnum,S=e.worldMapScene}],execute:function(){var z,I,x,_,W,A,T,R,F,J,O,H,U,k,G,V,Y,j,q,K,Q,Z,$,ee,te,ie,ne,le,oe,ae,re,se,ce,pe,ue;a._RF.push({},"c950fgYqFxBG7Ic+A1nhlTR","WorldMap",void 0);var de=r.ccclass,ye=r.property,ve=function(e){return e[e.level=0]="level",e[e.plant=1]="plant",e[e.giftBox=2]="giftBox",e[e.trophy=3]="trophy",e}(ve||{}),he=function(e){return e[e.normal=0]="normal",e[e.minigame=1]="minigame",e[e.gargantuar=2]="gargantuar",e}(he||{});s(C),s(he),s(ve);var fe=(z=de("LevelIsland"),I=ye({type:ve}),x=ye({type:C,visible:function(){return this.islandDisplay==ve.plant}}),_=ye({type:he,visible:function(){return this.islandDisplay==ve.level}}),W=ye({type:c,visible:function(){return this.islandDisplay==ve.level}}),A=ye({type:String,visible:function(){return this.islandDisplay==ve.level}}),T=ye(p),z((J=t((F=function(){i(this,"islandDisplay",J,this),i(this,"plantDisplayed",O,this),i(this,"levelNodeAppearance",H,this),i(this,"levelJson",U,this),i(this,"levelNodeName",k,this),i(this,"islandNode",G,this)}).prototype,"islandDisplay",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ve.level}}),O=t(F.prototype,"plantDisplayed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.Peashooter}}),H=t(F.prototype,"levelNodeAppearance",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return he.normal}}),U=t(F.prototype,"levelJson",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(F.prototype,"levelNodeName",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),G=t(F.prototype,"islandNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=F))||R),me=(V=de("Farlands"),Y=ye(p),j=ye(u),V((Q=t((K=function(){i(this,"islandNode",Q,this),i(this,"offsetScale",Z,this),this.orgPosition=new d(0,0,0)}).prototype,"islandNode",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(K.prototype,"offsetScale",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),q=K))||q);s(L);e("WorldMap",($=de("WorldMap"),ee=ye([fe]),te=ye(p),ie=ye(p),ne=ye([me]),le=ye({type:L}),$((re=t((ae=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"levelIslands",re,l(t)),t.levelNodeLayer=void 0,t.levelPathLayer=void 0,i(t,"islandParent",se,l(t)),i(t,"levelParent",ce,l(t)),t.levelNodes=[],i(t,"farIslands",pe,l(t)),t._mapX=0,t.maxMapX=0,t.velocity=0,i(t,"displayEnum",ue,l(t)),t.dbs=[],t}n(t,e);var a=t.prototype;return a.onLoad=function(){this.dbs=this.getComponentsInChildren(y.ArmatureDisplay),this.levelNodes=[];var e=this.node.getChildByName("Levels");this.levelNodeLayer=e.getChildByName("Nodes"),this.levelPathLayer=e.getChildByName("Paths"),this.farIslands.forEach((function(e){e.orgPosition=e.islandNode.position.clone()}))},a.onDisable=function(){X.savePP()},a.moveBy=function(e,t){void 0===t&&(t=.1);var i=this.mapX+e;i>0&&(i=0),i<-this.maxMapX&&(i=-this.maxMapX);t>0?v(this).to(t,{mapX:i}).start():this.mapX=i},a.moveLefter=function(){this.velocity<0&&(this.velocity=0),this.velocity+=20},a.moveRighter=function(){this.velocity>0&&(this.velocity=0),this.velocity-=20},a.onEnable=function(){var e=this;this.dbs.forEach((function(t){var i=t.color.clone();t.color=new h(i.r,i.g,i.b,e.node.parent.getComponent(f).opacity)})),this.velocity=0,this.mapX=S.getWMXByDisplayEnum(this.displayEnum)},a.update=function(e){var t=this;this.dbs.forEach((function(e){var i=e.color.clone();e.color=new h(i.r,i.g,i.b,t.node.parent.getComponent(f).opacity)})),0!=this.velocity&&(this.moveBy(this.velocity,0),this.velocity/=1.05)},a.start=function(){var e=this;this.dbs.forEach((function(t){var i=t.color.clone();t.color=new h(i.r,i.g,i.b,e.node.parent.getComponent(f).opacity)})),B.playWorldMapStart(),m.on(g.EventType.MOUSE_WHEEL,(function(t){var i=.2*t.getScrollY();e.velocity=0,e.moveBy(i,0)}),this),m.on(g.EventType.TOUCH_MOVE,(function(t){var i=t.getDeltaX()*e.node.worldScale.x;e.velocity=i,e.moveBy(i,0)}),this),this.levelIslands.forEach((function(t){var i=t.islandNode.worldPosition;if(t.islandDisplay==ve.level){var n=E.normalNode();switch(t.levelNodeAppearance){case he.gargantuar:n=E.gargantuarNode();break;case he.minigame:n=E.minigameNode()}var l=w.instantiatePooly(n);l.parent=e.levelNodeLayer,l.worldPosition=i,l.getChildByName("title").getComponent(b).string=t.levelNodeName,e.levelNodes.push(l),l.getChildByName("listener").on(p.EventType.TOUCH_END,(function(){D.levelJson=t.levelJson,N.loadScene("inGameScene")}))}else if(t.islandDisplay==ve.plant){var o=w.instantiatePooly(M.getPlantsInCard(t.plantDisplayed).plantDIS);o.parent=e.levelNodeLayer,o.worldPosition=i}var a=i.clone().add(e.islandParent.worldPosition.clone().negative()).x;a>e.maxMapX&&(e.maxMapX=a)}))},o(t,[{key:"mapX",get:function(){return this._mapX},set:function(e){this.levelParent.position=new d(e,0,0),this.islandParent.position=new d(e,0,0),this.farIslands.forEach((function(t){t.islandNode.position=new d(e*t.offsetScale+t.orgPosition.x,t.orgPosition.y,0)})),this._mapX=e,S.setWMXByDisplayEnum(this.displayEnum,this._mapX)}}]),t}(P)).prototype,"levelIslands",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=t(ae.prototype,"islandParent",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(ae.prototype,"levelParent",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(ae.prototype,"farIslands",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=t(ae.prototype,"displayEnum",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.egypt}}),oe=ae))||oe));a._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapChooser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./worldMapScene.ts","./PlayerProperties.ts","./SoundRescourses.ts"],(function(e){var n,t,o,r,i,a,s,l,c,u,d,h,p,f,b,y,m,w,g,v,x,M;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,o=e.inheritsLoose,r=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Enum,c=e.Node,u=e.AudioClip,d=e.Color,h=e.UIOpacity,p=e.Vec3,f=e.dragonBones,b=e.input,y=e.Input,m=e.tween,w=e.Component},function(e){g=e.WorldMapSceneDisplayEnum,v=e.worldMapScene},function(e){x=e.AllPlayerProperties},function(e){M=e.sounds}],execute:function(){var P,C,I,E,S,_,T,z,A,W,D,O,B,N,k,F,H,L,R,U,j,q;a._RF.push({},"0afd7/QFy1OXrADNpaZkrno","WorldMapChooser",void 0);var Q=s.ccclass,V=s.property;l(g);var X=(P=Q("WorldMapIcon"),C=V(c),I=V(Boolean),E=V({type:g,visible:function(){return this.enterable}}),P((T=n((_=function(){t(this,"node",T,this),t(this,"enterable",z,this),t(this,"enterTo",A,this),this.x=0}).prototype,"node",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(_.prototype,"enterable",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=n(_.prototype,"enterTo",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.egypt}}),S=_))||S);e("WorldMapChooser",(W=Q("WorldMapChooser"),D=V(c),O=V(c),B=V([X]),N=V(u),k=V(u),W((L=n((H=function(e){function n(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,t(n,"mid",L,r(n)),t(n,"iconParent",R,r(n)),t(n,"icons",U,r(n)),t(n,"touchStartSound",j,r(n)),t(n,"touchEndSound",q,r(n)),n._currentI=0,n.xMax=0,n._x=0,n.dbs=[],n.entering=!1,n}o(n,e);var a=n.prototype;return a.onMouseWheel=function(e){var n=e.getScrollY()>0?-1:1;this.moveBy(n)},a.moveTo=function(e){void 0===e&&(e=0),this.currentI=e},a.moveBy=function(e){void 0===e&&(e=0),this.moveTo(this.currentI+e)},a.update=function(e){var n=this;this.dbs.forEach((function(e){var t=e.color.clone();e.color=new d(t.r,t.g,t.b,n.node.parent.getComponent(h).opacity)})),this.icons.forEach((function(e){var t=e.node.worldPosition.x-n.mid.worldPosition.x,o=Math.max(1-Math.abs(t)/600,.3);e.node.scale=new p(o,o,o)}))},a.onEnable=function(){var e=this;this.entering=!1,this.dbs.forEach((function(n){var t=n.color.clone();n.color=new d(t.r,t.g,t.b,e.node.parent.getComponent(h).opacity)})),this.icons.forEach((function(n){var t=n.node.worldPosition.x-e.mid.worldPosition.x,o=Math.max(1-Math.abs(t)/600,.3);n.node.scale=new p(o,o,o)})),this.currentI=isNaN(x.currentPlayer.worldChooserI)?0:x.currentPlayer.worldChooserI},a.onLoad=function(){var e=this;this.dbs=this.getComponentsInChildren(f.ArmatureDisplay),this.currentI=0,b.on(y.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.icons.forEach((function(n,t){var o=n.node.worldPosition.x-e.mid.worldPosition.x;n.x=o,e.xMax<=o&&(e.xMax=o),n.node.on(c.EventType.TOUCH_START,(function(){var o=Math.abs(n.node.worldPosition.x-e.mid.worldPosition.x);e.entering||(n.enterable&&o<5?M.play(e.touchStartSound):o>=5&&(e.currentI=t))}),e),n.node.on(c.EventType.TOUCH_END,(function(){var t=Math.abs(n.node.worldPosition.x-e.mid.worldPosition.x);e.entering||n.enterable&&t<5&&(v.component.switchWM(n.enterTo),e.entering=!0,M.play(e.touchEndSound))}),e)}))},i(n,[{key:"currentI",get:function(){return this._currentI},set:function(e){var n=this;if(e>=n.icons.length&&(e=n.icons.length-1),e<0&&(e=0),this._currentI!=e){m(n).to(.2,{x:n.icons[e].x},{easing:"quadOut"}).start();var t=n.icons[this._currentI].enterable,o=n.icons[e].enterable;this._currentI=e,x.currentPlayer.worldChooserI=e,t&&!o?this.mid.getComponent(f.ArmatureDisplay).playAnimation("Fade"):!t&&o&&this.mid.getComponent(f.ArmatureDisplay).playAnimation("Start")}}},{key:"x",get:function(){return this._x},set:function(e){e<0&&(e=0),e>this.xMax&&(e=this.xMax),this.iconParent.worldPosition=this.mid.worldPosition.clone().add(new p(-e,0,0)),this._x=e}}]),n}(w)).prototype,"mid",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(H.prototype,"iconParent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(H.prototype,"icons",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=n(H.prototype,"touchStartSound",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(H.prototype,"touchEndSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=H))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMaps.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,o,a,n,l,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,l=e.Prefab,p=e.Component}],execute:function(){var c,s,u,f,y,M,b,g,W;a._RF.push({},"5c9aeSHwwpMsYe+LVqE6pgO","WorldMaps",void 0);var d=n.ccclass,h=n.property;e("WorldMaps",(c=d("WorldMaps"),s=h(l),u=h(l),f=h(l),c((b=r((M=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return r=e.call.apply(e,[this].concat(a))||this,i(r,"WMChooser",b,o(r)),i(r,"EgyptWM",g,o(r)),i(r,"PirateWM",W,o(r)),r}return t(r,e),r}(p)).prototype,"WMChooser",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=r(M.prototype,"EgyptWM",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=r(M.prototype,"PirateWM",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=M))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/worldMapScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundsController.ts","./SoundManager.ts","./PlayerProperties.ts"],(function(e){var t,o,r,n,i,a,c,l,s,u,p,y,h,M,W,d,w,g,b,f,S,m,P,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.UIOpacity,l=e.Prefab,s=e.Node,u=e.director,p=e.AudioSource,y=e.input,h=e.Input,M=e.KeyCode,W=e.instantiate,d=e.tween,w=e.dragonBones,g=e.Color,b=e.Vec3,f=e.Component},function(e){S=e.MusicController,m=e.SoundFXController},function(e){P=e.musicType},function(e){v=e.AllPlayerProperties}],execute:function(){var C,N,X,z,D,E,L,k,A,F,V,_,x,B,I,T,K,O;i._RF.push({},"27653LZNN5NYJNVVGpF/xdf","worldMapScene",void 0);var R=a.ccclass,Y=a.property,j=e("WorldMapSceneDisplayEnum",function(e){return e[e.chooser=0]="chooser",e[e.egypt=1]="egypt",e[e.pirate=2]="pirate",e[e.cowboy=3]="cowboy",e}({}));e("worldMapScene",(C=R("worldMapScene"),N=Y(c),X=Y(c),z=Y(l),D=Y(l),E=Y(l),L=Y(l),k=Y(s),C(((O=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"WMSlot",V,n(t)),r(t,"WMLowerSlot",_,n(t)),t.audioSource=void 0,r(t,"WMChooser",x,n(t)),r(t,"egyptWM",B,n(t)),r(t,"pirateWM",I,n(t)),r(t,"cowboyWM",T,n(t)),t.settingsShown=void 0,r(t,"settingWindow",K,n(t)),t}o(t,e);var i=t.prototype;return i.exit=function(){v.currentPlayer.currentWM==j.chooser?u.loadScene("mainScene"):this.switchWM(j.chooser)},t.getWMXByDisplayEnum=function(e){switch(e){case j.egypt:return isNaN(v.currentPlayer.egyptWMX)?0:v.currentPlayer.egyptWMX;case j.pirate:return isNaN(v.currentPlayer.pirateWMX)?0:v.currentPlayer.pirateWMX;case j.cowboy:return isNaN(v.currentPlayer.cowboyWMX)?0:v.currentPlayer.cowboyWMX}return 0},t.setWMXByDisplayEnum=function(e,t){switch(e){case j.egypt:v.currentPlayer.egyptWMX=t;break;case j.pirate:v.currentPlayer.pirateWMX=t;break;case j.cowboy:v.currentPlayer.cowboyWMX=t}},i.onLoad=function(){var e=this;t.component=this,this.getComponent(p)||this.addComponent(p),this.audioSource=this.getComponent(p),y.on(h.EventType.KEY_DOWN,(function(t){t.keyCode==M.ESCAPE&&e.exit()}),this)},i.switchWM=function(e){var t=this,o=this.WMChooser;switch(e){case j.egypt:o=this.egyptWM;break;case j.pirate:o=this.pirateWM;break;case j.cowboy:o=this.cowboyWM}var r=0==this.WMSlot.opacity?0:.5,n=W(o);d(this.WMSlot).to(r,{opacity:0}).call((function(){})).to(.1,{}).call((function(){t.WMSlot.node.destroyAllChildren(),n.parent=t.WMLowerSlot.node,n.getComponentsInChildren(w.ArmatureDisplay).forEach((function(e){e.color=new g(255,255,255,0)}))})).to(.1,{}).call((function(){n.parent=t.WMSlot.node})).to(.5,{opacity:255}).start(),v.currentPlayer.currentWM=e,v.savePP()},i.setting=function(){this.settingsShown?(this.settingWindow.position=new b(-1e4,0),this.settingsShown=!1):(this.settingWindow.position=new b(0,0),this.settingsShown=!0)},i.start=function(){S.playMusic(P.Worldmap),this.settingsShown=!0,this.audioSource.volume=.3*m.SoundFXVolume,this.setting();var e=isNaN(v.currentPlayer.currentWM)?0:v.currentPlayer.currentWM;this.switchWM(e)},i.update=function(e){this.audioSource.volume=.3*m.SoundFXVolume},t}(f)).component=void 0,V=t((F=O).prototype,"WMSlot",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(F.prototype,"WMLowerSlot",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(F.prototype,"WMChooser",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(F.prototype,"egyptWM",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(F.prototype,"pirateWM",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(F.prototype,"cowboyWM",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(F.prototype,"settingWindow",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=F))||A));i._RF.pop()}}}));

System.register("chunks:///_virtual/Zombie.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Armor.ts","./Character.ts","./BodyGrouper.ts","./SoundsController.ts","./CharacterManager.ts","./Square.ts","./LnC.ts","./Armors.ts","./SoundRescourses.ts","./Particles.ts","./FrontYard.ts","./Materials.ts","./Plant.ts","./levelController.ts","./Sunflower.ts","./Zombies.ts","./ZombieAshParticle.ts","./EgyptSandStormParticle.ts","./ParticleSelfdestroy.ts","./Plants.ts","./UI.ts","./LevelTaskCount.ts"],(function(i){var t,e,n,o,a,s,r,l,h,d,u,c,p,f,m,b,y,g,w,S,P,v,k,D,L,z,T,C,A,R,E,_,B,W,x,Z,F,H,I,O,M,X,q,N,j,V,G,Y;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,a=i.createClass},function(i){s=i.cclegacy,r=i._decorator,l=i.CCFloat,h=i.Enum,d=i.dragonBones,u=i.AudioClip,c=i.Prefab,p=i.Node,f=i.Vec2,m=i.Size,b=i.tween,y=i.Vec3,g=i.Color,w=i.AudioSource,S=i.Material,P=i.math},function(i){v=i.instantiatePooly,k=i.ArrayGet,D=i.NodePools},function(i){L=i.Armor},function(i){z=i.Character},function(i){T=i.BodyGrouper},function(i){C=i.SoundFXController},function(i){A=i.Rectangle,R=i.ZombiePool,E=i.Umbrellas},function(i){_=i.Square},function(i){B=i.TileType},function(i){W=i.armors},function(i){x=i.sounds},function(i){Z=i.particle},function(i){F=i.FrontYard},function(i){H=i.materialRes},function(i){I=i.PlantType},function(i){O=i.LevelPlay},function(i){M=i.sunflower},function(i){X=i.ZombieEnum},function(i){q=i.ZombieAshParticle},function(i){N=i.EgyptSandStormParticle},function(i){j=i.ParticleSelfdestroy},function(i){V=i.PlantEnum},function(i){G=i.UIInGame},function(i){Y=i.LevelTaskCountModeEnum}],execute:function(){var U,K,J,Q,$,ii,ti,ei,ni,oi,ai,si,ri,li,hi,di,ui,ci,pi,fi,mi,bi,yi,gi,wi,Si,Pi,vi,ki,Di,Li,zi,Ti,Ci,Ai,Ri,Ei,_i,Bi,Wi,xi,Zi,Fi,Hi,Ii,Oi,Mi,Xi,qi,Ni,ji,Vi,Gi,Yi,Ui,Ki,Ji,Qi,$i,it,tt,et,nt,ot,at,st,rt,lt,ht,dt;s._RF.push({},"1f230U4V25L0KJSottj1hy0","Zombie",void 0);var ut=r.ccclass,ct=r.property,pt=i("zombiePoison",(U=ut("ZombiePoison"),K=ct({type:l,visible:!0}),J=ct({type:l,visible:!0}),U((ii=t(($=function(){function i(i,t){n(this,"DPS",ii,this),n(this,"duration",ti,this),this.DPS=i,this.duration=t}return i.prototype.isValid=function(){return this.DPS>0&&this.duration>0},i}()).prototype,"DPS",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ti=t($.prototype,"duration",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=$))||Q)),ft=i("zombieDamageType",function(i){return i[i.physicle=0]="physicle",i[i.fire=1]="fire",i[i.electricity=2]="electricity",i[i.potatoMine=3]="potatoMine",i[i.ray=4]="ray",i}({})),mt=i("ZombieGroanSoundGroupEnum",function(i){return i[i.modern=0]="modern",i[i.egypt=1]="egypt",i[i.pirate=2]="pirate",i[i.cowboy=3]="cowboy",i[i.future=4]="future",i[i.dark=5]="dark",i[i.beach=6]="beach",i[i.ice=7]="ice",i[i.lost=8]="lost",i[i.stage=9]="stage",i[i.dino=10]="dino",i[i.imp=11]="imp",i[i.gargantuar=12]="gargantuar",i[i.none=13]="none",i}({}));h(mt);i("Zombie",(ei=ut("Zombie Features"),ni=ct(l),oi=ct(d.ArmatureDisplay),ai=ct({type:mt}),si=ct(Boolean),ri=ct([u]),li=ct([u]),hi=ct({type:l,max:1,min:0}),di=ct([u]),ui=ct([u]),ci=ct([u]),pi=ct([u]),fi=ct(c),mi=ct(T),bi=ct(Boolean),yi=ct(l),gi=ct(c),wi=ct(c),Si=ct(Number),Pi=ct({type:Number,min:0}),vi=ct(Number),ki=ct(p),Di=ct(Boolean),Li=ct({type:Boolean,visible:function(){return this.chompable}}),zi=ct(f),Ti=ct(m),Ci=ct(Number),Ai=ct(f),Ri=ct(m),Ei=ct(Boolean),_i=ct(Number),ei((xi=t((Wi=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return(t=i.call.apply(i,[this].concat(a))||this)._reversed=!1,t.chilibeanFartTween=null,t.chilibeanPoisoning=!1,n(t,"chiliStunDurationScale",xi,o(t)),t.chiliStunParticle=null,t._chiliStun=0,t.displayed=!1,n(t,"butterFace",Zi,o(t)),t.butterStun=0,n(t,"zombieGroanSoundGroup",Fi,o(t)),t.ID=X.modern_basic,t.finalWaveVictoryCountdown=.1,t.poison=new pt(0,0),t._perfume=0,t.perfumeParticle=void 0,t.flying=!1,n(t,"flyZombie",Hi,o(t)),t.currentFlyZombie=!1,n(t,"breakSound",Ii,o(t)),n(t,"hurtSound",Oi,o(t)),n(t,"hurtSoundVolume",Mi,o(t)),n(t,"deathSound",Xi,o(t)),n(t,"onHeadThrownSound",qi,o(t)),n(t,"lieSound",Ni,o(t)),n(t,"groanSound",ji,o(t)),t.enteredLawn=!1,n(t,"zombieAshParticle",Vi,o(t)),t.zombieAshParticle_=null,n(t,"body",Gi,o(t)),n(t,"countHealthToThisWave",Yi,o(t)),n(t,"toughness",Ui,o(t)),t.health=190,t.stunned=0,n(t,"zombieHead",Ki,o(t)),n(t,"zombieArm",Ji,o(t)),n(t,"zombieHeight",Qi,o(t)),t.isGargantuar=!1,t.potatoMineDisappear=!0,t.knockBackTween=null,t.changeLaneTween=null,t.knockBackable=!0,t.leapable=!0,t.tallNutBlock=!1,t.leapHeightTween=null,t.dirtSpawning=!1,t.dirtSpawnTweens=[],n(t,"squarePerSec",$i,o(t)),t.randomSpeed=.3,n(t,"anmSpeed",it,o(t)),t.haveArm=!0,n(t,"headDropPoint",tt,o(t)),t.haveHead=!0,t.armors=[],n(t,"chompable",et,o(t)),t.chompable_=!0,n(t,"easyToChomp",nt,o(t)),t.easyToChomp_=!1,t.chill=0,t.freeze=0,t.icetrapParticle=void 0,t.dead=!1,t.chewSoundWhenEat=!0,t.eating=!1,t.walking=!1,t.audioSource=void 0,t.inWater=!1,n(t,"plantDetectorRecOffset",ot,o(t)),n(t,"plantDetectorRecSize",at,o(t)),t._plantDetectorRec=A.createRectangleCenter(new f(1e5,1e5),1,1),n(t,"dps",st,o(t)),t.lieEnded=!1,n(t,"bodyRecOffset",rt,o(t)),n(t,"bodyRecSize",lt,o(t)),t._bodyRec=A.createRectangleCenter(new f(1e5,1e5),1,1),t.hurting=0,t.havePlantfood=!1,n(t,"allowWaveAddPlantFood",ht,o(t)),t.material=void 0,n(t,"depthScale",dt,o(t)),t.sandStormPar=void 0,t.sandStormTween=void 0,t.zombieWave=null,t.blew=!1,t.pfParCD=0,t.switching=!1,t.brainEater=!0,t.oldTileType=B.floor,t.eatSoundCoolDown=0,t}e(t,i);var s=t.prototype;return s.chilibeanFart=function(){var i=this;this.chilibeanPoisoning=!0,this.chilibeanFartTween=b(this.db.color).to(2,{r:0,g:255,b:0}).call((function(){x.playZombieFart(),i.chilibeanPoisoning=!1,i.switching=!0,i.playIdle();var t=v(Z.zombieFart());t.parent=i.node.parent,t.setSiblingIndex(i.node.getSiblingIndex()),t.worldPosition=new y(i._worldPositionX,i._worldPositionY+i.height),t.scale=i.node.scale.clone().multiply(i.body.node.scale);i._bodyRec.prjX();i.reversed?i.inLane.zombiePool().forEach((function(t){t.bodyRec.prjX().x<=i.worldPositionX+20&&t.setChiliStun(10)})):i.inLane.zombiePool().forEach((function(t){t.bodyRec.prjX().y>=i.worldPositionX-20&&t.setChiliStun(10)}))})).to(1,{r:255,g:255,b:255}).call((function(){i.playDie(),i.chilibeanFartTween=null})).start()},s.dealChiliStun=function(i){this.chiliStun>0&&(this.chiliStun-=i,this.chiliStunParticle&&(this.chiliStunParticle.node.worldPosition=new y(this._worldPositionX,this._worldPositionY)))},s.onChiliStunned=function(i){},s.setChiliStun=function(i){return this.dead||(this.chiliStun=i>this.chiliStun?i*this.chiliStunDurationScale:this.chiliStun),this.freeze>0&&(this.onChiliStunned(this.chiliStun),this._onStunned(this.chiliStun)),!0},s.lobberTarget=function(){return this},s.lobberToPos=function(i){var t=this._bodyRec.prjX();return new f((t.x+t.y)/2-2*this.getShouldSpeed()*i*(this.reversed?-1:1),this.worldPositionY)},s.correctShadeWP=function(){this.worldPositionX=this.shadeSocket.worldPosition.x},s.onButtered=function(i){},s.setButter=function(i,t){return void 0===t&&(t=!1),t&&this.butterStun<=0&&i>0&&x.playButterOn(),this.butterStun=this.butterStun>i?this.butterStun:i,this.butterStun>0&&(this.onButtered(this.butterStun),this._onStunned(this.butterStun)),!0},s.dealButter=function(i){this.butterStun>0&&(this.butterStun-=i),this.butterFace&&(this.butterFace.color=new g(255,255,255,this.butterStun>0?255:0))},s.dealHurrikale=function(i){var t;null!=(t=this.inLane)&&t.hurrikaleBlowing()&&(this.flying?this.blowAway():(this.knockBackBy(new f(.2),!1,.1,!0,!1,!1),this.setChill(8)))},s.setPoison=function(i,t){i>=this.poison.DPS&&(this.poison.DPS=i),t>=this.poison.duration&&(this.poison.duration=t)},s.dealPoison=function(i){var t;null==(t=this.body.body.armature().getSlot("POISONFACE"))||t._setDisplayIndex(this.poison.isValid()?0:-1),this.poison.isValid()?(this.dealDamage(i*this.poison.DPS,!1,!1,!1,null,0,!1),this.poison.duration-=i):(this.poison.duration=0,this.poison.DPS=0)},s.setPerfume=function(i){this.perfume=i>this.perfume?i:this.perfume},s.dealPerfume=function(i){this.perfume>0&&(this.perfumeParticle&&(this.perfumeParticle.node.worldPosition=this.node.worldPosition),this.perfume-=i)},s.specialZombieOnLanding=function(){},s.onLanding=function(){var i=this.inLnC.getTileType();i==B.sky?this.playFall():i==B.sea&&this.dropSea(),this.dead||this.fallingInSky||this.specialZombieOnLanding()},s.playOnHeadThrownSound=function(){x.play(k.getRandom(this.onHeadThrownSound))},s.playDeathSound=function(){x.play(k.getRandom(this.deathSound))},s.playHurtSound=function(){x.play(k.getRandom(this.hurtSound),this.hurtSoundVolume)},s.playBreakSound=function(){this.breakSound.length?x.play(k.getRandom(this.breakSound)):x.playZombieLimbPop()},s.specialAshPlayed=function(i){},s.playAsh=function(){if(!this.zombieAshParticle_)return null;var i=D.instantiatePooly(this.zombieAshParticle_);if(null!=i&&i.isValid){i.parent=this.node.parent,i.setSiblingIndex(this.node.getSiblingIndex()),i.worldPosition=new y(this.shadeSocket.worldPosition.x,this.body.body.node.worldPosition.y,1),i.scale=this.node.scale.clone().multiply(this.body.node.scale),this.playDie(!0),D.destroyPooly(this.node);var t=i.getComponent(q);return this.smartShadeHider?t.inLnC=this.shadeInLnC:t.inLnC=this.inLnC,t.height=this.height,t.playAsh(),this.isGargantuar&&x.playGargantuarAsh(),this.playSpecialZombieDieForced(),this.specialAshPlayed(t),t.db}},s.extraHealth=function(){return 0},s.totalToughness=function(){var i=this.toughness;return this.armors.forEach((function(t){i+=t.getComponent(L).health})),i+=this.extraHealth()},s.totalHealth=function(){var i=this.health;return this.armors.forEach((function(t){i+=t.getComponent(L).health})),i+=this.extraHealth()},s._onStunned=function(i){this.endSandStorm(),this.onStunned(i)},s.onStunned=function(i){},s.stun=function(i){this.stunned=i>this.stunned?i:this.stunned,this._onStunned(i)},s.setToughness=function(i){void 0===i&&(i=190),this.toughness=i},s.onDamaged=function(i,t,e){},s.fallImmediatelyWhenHeavyDamaged=function(){return!0},s.dealNormalDamage=function(i,t,e,n,o,a,s){if(void 0===s&&(s=!0),!this.dead&&i>0){if(a==ft.fire&&(this.chill=0,this.freeze=0),this.armors.length<=0||!t){s&&(this.hurting=10);var r=this.health+0;if(this.health-=i,n&&this.playHurtSound(),this.onDamaged(r,this.health+0,a),this.health<=this.toughness/2&&this.haveArm&&(a!=ft.ray&&a!=ft.fire&&a!=ft.electricity||!(this.health<=0))){var l=null==o?void 0:o.clone();l&&l.multiply2f(1,.5).normalize().multiplyScalar(o.length()),this.breakArm(l)}if(this.health<=0)if(a!=ft.ray&&a!=ft.fire&&a!=ft.electricity||!this.zombieAshParticle_)this.playDie(!1,o,!0,a,!0,i>=this.toughness&&this.fallImmediatelyWhenHeavyDamaged());else{var h=this.playAsh();h&&a==ft.electricity&&(h.playAnimation("Shock",2),x.playZombieShock(this.isGargantuar))}!this.isAlive()&&a==ft.potatoMine&&this.potatoMineDisappear&&D.destroyPooly(this.node)}else if(this.armors.length>0&&t){var d,u=null==(d=this.armors[0].getComponent(L))?void 0:d.dealDamage(i,e);if(null!=u&&u<=0){var c=this.armors[0];this.throwArmor(c,o),this.armors.shift(),D.destroyPooly(c.node),this.dealDamage(-u,!0,e,n,o,a,s)}}return this.health}},s.dealDamage=function(i,t,e,n,o,a,s){return void 0===i&&(i=0),void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===o&&(o=null),void 0===a&&(a=ft.physicle),void 0===s&&(s=!0),this.dealNormalDamage(i,t,e,n,o,a,s)},s.throwArmor=function(i,t){var e=this.drop(i.armorDROP,i.node.worldPosition.y-this._worldPositionY,new y(i.node.worldPosition.x,this._worldPositionY,0),t,this.node.parent).getComponent(d.ArmatureDisplay);e.playAnimation("Broken2"),e.node.worldScale=i.node.worldScale},s.specialZombieOnDisable=function(){},s.characterOnDisable=function(){var i,t,e;(this.armors.length&&(this.armors.concat().forEach((function(i){D.destroyPooly(null==i?void 0:i.node)})),this.armors=[]),R.deleteZombie(this),null==(i=this.inLane)||i.deleteZombie(this),null!=(t=this.zombieWave)&&t.isValid)&&(this.zombieWave.getComponent(d.ArmatureDisplay).playAnimation("Fade"),this.zombieWave=null);null!=(e=this.icetrapParticle)&&e.isValid&&(this.icetrapParticle.playAnimation("Die",1),this.icetrapParticle=null),this.clearBuff(),this.specialZombieOnDisable(),this.dirtSpawnTweens.forEach((function(i){null==i||i.stop()}))},s.changeLaneTo=function(i,t,e){var n=this;void 0===t&&(t=2),void 0===e&&(e="linear"),i!=this.lIndex&&(this.knockBackTween||this.changeLaneTween||(this.changeLaneTween=b(this).to(t,{worldPositionY:_.getLaneComponent(i).floorY},{easing:e}).call((function(){n.changeLaneTween=null})).start()))},s.onKnockBackStart=function(){},s._onKnockBackEnd=function(){var i;this.flying=this.currentFlyZombie,null==(i=this.knockBackTween)||i.stop(),this.knockBackTween=null,this.flying||this.onLanding(),this.tallNutBlock=!1},s.specialZombieKnockbackable=function(){return!0},s.knockBackTo=function(i,t,e,n,o){var a,s=this;if(void 0===t&&(t=!0),void 0===e&&(e=.1),void 0===n&&(n=!0),void 0===o&&(o=!1),this.specialZombieKnockbackable()&&!this.changeLaneTween){this._onStunned(e),this.onKnockBackStart(),this.chiliStun=0,n||null==(a=this.knockBackTween)||a.stop(),this.flying=!!t||this.flying,this.tallNutBlock=o;this.knockBackTween=b(this).to(e*(this.currentFlyZombie?.2:1),{worldPositionX:i.x,worldPositionY:i.y}).call((function(){s._onKnockBackEnd()})).start()}},s.knockBackBy=function(i,t,e,n,o,a){if(void 0===t&&(t=!0),void 0===e&&(e=.1),void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===a&&(a=!1),this.specialZombieKnockbackable()&&!this.changeLaneTween){var s=this.node.worldPosition.x+i.x*_.SquareDisW,r=_.getSquareWorldPosition(0,8,1,1).x-1;!o&&s>r&&(s=Math.min(this.node.worldPosition.x+i.x*_.SquareDisW,Math.max(this.node.worldPosition.x,r)));var l=new f(s,this._worldPositionY-i.y*_.SquareDisH);this.knockBackTo(l,t,e,n,a)}},s._onLeapEnd=function(i){var t;null==(t=this.leapHeightTween)||t.stop(),this.leapHeightTween=null,this.onLeapEnd(i)},s.specialZombieLeapable=function(){return!0},s.leapBy=function(i,t,e,n,o,a,s,r){var l,h=this;if(void 0===t&&(t=!0),void 0===e&&(e=.5),void 0===n&&(n=27),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===r&&(r=!0),this.specialZombieLeapable()){null==(l=this.leapHeightTween)||l.stop(),r&&this.stun(e);var d=this.height;n<d&&(n=d);var u=n-d,c=e/(1+Math.sqrt(u/n));this.knockBackBy(i,t,e,!1,a,s);this.leapHeightTween=b(this).to(e-c,{height:n},{easing:"quadOut"}).to(c,{height:0},{easing:"quadIn"}).call((function(){h._onLeapEnd(o)})).start()}},s.leapTo=function(i,t,e,n,o,a,s){var r,l=this;if(void 0===t&&(t=!0),void 0===e&&(e=.5),void 0===n&&(n=27),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!0),this.specialZombieLeapable()){s&&this.stun(e),null==(r=this.leapHeightTween)||r.stop();var h=this.height;n<h&&(n=h);var d=n-h,u=e/(1+Math.sqrt(d/n));this.knockBackTo(i,t,e,!1,a);this.leapHeightTween=b(this).to(e-u,{height:n},{easing:"quadOut"}).to(u,{height:0},{easing:"quadIn"}).call((function(){l._onLeapEnd(o)})).start()}},s.specialOnLeapEnd=function(){},s.onLeapEnd=function(i){var t=this;if(void 0===i&&(i=!0),this.specialOnLeapEnd(),i&&this.isAlive()){var e=!1;E.umbrellas.forEach((function(i){var n,o,a;e||(null==i||null==(n=i.owner)?void 0:n.inLane)!=t.inLane&&(null==i||null==(o=i.owner)||null==(o=o.inLane)?void 0:o.UpperLane)!=t.inLane&&(null==i||null==(a=i.owner)||null==(a=a.inLane)?void 0:a.LowerLane)!=t.inLane||!i.detector.judgeCrossRec(t.bodyRec)||(e=!0,i.owner.bounce())})),e&&this.leapBy(new f(10,0),!0,.5,80,!1)}this.inLane&&(this.inLane.LaneIndex<0||this.inLane.LaneIndex>4)&&this.playDie()},s.onTallNutBlocked=function(){},s.tallNutListen=function(){var i,t=this;null==(i=this.inLane)||i.plantPool().forEach((function(i){i.ID==V.Tallnut&&t.knockBackTween&&t.leapHeightTween&&t.bodyRec.judgeCrossRec(i.bodyRec)&&(t._onKnockBackEnd(),t.onLeapEnd(!0),t.height=0,t.onTallNutBlocked())}))},s.onDirtSpawned=function(i){},s.playDirtSpawn=function(i){var t,e=this;if(i<0&&(i=0),this.playIdle(),this.dirtSpawning=!0,this.switching=!0,this.onDirtSpawned(i),null!=(t=this.db)&&t.isValid){var n,o,a;this.db.color=new g(255,255,255,0);var s=b(null==this||null==(n=this.db)?void 0:n.color).to(i,{}).to(.5,{a:255}).start();this.db.node.scale=new y(1,.3,1),this.db.node.position=new y(0,-this.zombieHeight/this.originalScale,0);var r=b(null==this||null==(o=this.db)?void 0:o.node).to(i,{}).to(.5,{scale:new y(1,1,1)},{easing:"quadOut"}).start(),l=b(null==this||null==(a=this.db)?void 0:a.node).to(i,{}).call((function(){var i=v(Z.dirtSpawn());i.parent=e.node.parent,i.worldPosition=new y(e._worldPositionX,e._worldPositionY,10),x.playDirtRise(!1,!0)})).to(1,{position:new y},{easing:"quadOut"}).call((function(){e.dirtSpawning=!1,e.switching=!1,e.playWalk(.2)})).start();this.dirtSpawnTweens.push(s,r,l)}},s.endDirtSpawn=function(){this.dirtSpawning&&(this.dirtSpawnTweens.forEach((function(i){i.stop()})),this.dirtSpawning=!1,this.db.node.scale=new y(1,1,1),this.db.node.position=new y(0,0,0),this.db.color=new g(255,255,255,255))},s.getShouldSpeed=function(){return this.randomSpeed*_.SquareDisW/60*this.shouldSpeedScale()*(this.walking?1:0)},s.setSpeed=function(i,t){void 0===t&&(t=!0),this.walking=t},s.defaultShouldSpeedScale=function(){if(this.leapHeightTween&&!this.isAlive())return 0;if(this.dead)return 1;if(this.stunned>0||this.butterStun>0||this.fallingInSky||this.freeze>0||this.chilibeanPoisoning||this.chiliStun>0)return 0;var i=1;return this.chill>0&&(i*=.5),this.perfume>0&&(i*=.5),i},s.willTrampleFlower=function(){return!0},s.shouldSpeedScale=function(){return this.defaultShouldSpeedScale()},s.drop=function(i,t,e,n,o){var a,s,r=null==n?void 0:n.clone();r&&r.multiplyScalar(.8+.4*Math.random()),r||(r=this.defaultDirection());var l=D.instantiatePooly(i);if(o||(o=null==(a=this.inLane)?void 0:a.zombieLayer),null==(s=o)||s.addChild(l),null!=l&&l.isValid){var h=l.getComponent(z);h.worldPosition=new f(e.x,e.y),h.height=t,h.linearVelocity=new f(r.x,0),h.node.angle=0,h.bodyLinearVelocity=r.y,h.gravity=3,h.detectEnemyOn=!1,h.bodyOmega=Math.pow(-1,Math.round(Math.random()))*Math.round(2*Math.random()+1)}return l},s.breakArm=function(i){void 0===i&&(i=null),this.body.showArm(!1),this.haveArm=!1,this.zombieArm&&(this.drop(this.zombieArm,this.zombieHeight/2,new y(this.shadeSocket.worldPosition.x,this._worldPositionY,0),i,this.node.parent),this.playBreakSound())},s.dropHead=function(i,t){var e=this;void 0===t&&(t=this.zombieHeight),this.armors.length&&(this.armors.concat().forEach((function(t){e.throwArmor(t,i),D.destroyPooly(t.node)})),this.armors=[]),this.haveHead&&this.zombieHead&&(this.playBreakSound(),this.drop(this.zombieHead,t,new y(this.headDropPoint?this.headDropPoint.worldPosition.x:this.shadeSocket.worldPosition.x,this._worldPositionY,0),i,this.node.parent),this.haveHead=!1)},s.defaultDirection=function(){return new f(Math.pow(-1,Math.round(Math.random()))*Math.round(10*Math.random()),15)},s.addArmor=function(i){var t=null;return(t=D.instantiatePooly(W.getArmor(i))).parent=this.node.getChildByName("Body").getChildByName("ArmorSocket"),this.armors.unshift(t.getComponent(L)),this.onArmorAdded(i),this.node},s.onArmorAdded=function(i){},s.copyBuff=function(i){this.setChill(i.chill),this.setFreeze(i.freeze),this.stun(i.stunned),this.setPoison(i.poison.DPS,i.poison.duration),this.setButter(i.butterStun)},s.onChill=function(i){},s.setChill=function(i){return this.dead||(this.chill=i>this.chill?i:this.chill),this.chill>0&&this.onChill(this.chill),!0},s.onFrozen=function(i){},s.setFreeze=function(i,t){return void 0===t&&(t=!0),this.dead||(t&&this.flying?this.chill=i>this.chill?i:this.chill:this.freeze=i>this.freeze?i:this.freeze),this.freeze>0&&(this.onChill(this.chill),this.onFrozen(this.freeze),this._onStunned(this.freeze)),!0},s.deathCauseReader=function(i,t){void 0===t&&(t=ft.physicle)},s.playDie=function(i,t,e,n,o,a,s){var r,l=this;if(void 0===i&&(i=!1),void 0===t&&(t=null),void 0===e&&(e=!0),void 0===n&&(n=ft.physicle),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===s&&(s=!0),!this.dead){if(this.endSandStorm(),s&&G.uiingame.calculateLevelTask(Y.ZombieKillCountDown,{}),this.deathCauseReader(t,n),this.havePlantfood&&(this.havePlantfood=!1,M.producePlantFood(this.worldPosition)),!this.displayed&&s){var h=Math.random();h<.001?M.dropOneGem(this.worldPosition):h<.025?M.dropOneCoin(this.worldPosition,1):h<.015&&M.dropOneCoin(this.worldPosition,0)}this.chiliStun=0,this.eating=!1,this.dead=!0,R.deleteZombie(this),null==(r=this.inLane)||r.deleteZombie(this),this.clearBuff(),this.armors.length&&(this.armors.concat().forEach((function(i){l.displayed||l.throwArmor(i,t),D.destroyPooly(i.node)})),this.armors=[]),i||(e&&this.playOnHeadThrownSound(),this.haveHead&&o&&this.dropHead(t),this.body.showHead(!1),this.playSpecialZombieDie(t),a&&this.judgeDeath()),this.displayed||this.playSpecialZombieDieForced(),this.dirtSpawning&&this.endDirtSpawn(),this.setBodyRec(!0)}},s.playSpecialZombieDie=function(i){},s.playSpecialZombieDieForced=function(){},s.replayAnimation=function(){this.walking?(this.walking=!1,this.playWalk()):this.eating?(this.eating=!1,this.playEat(0)):this.playIdle()},s.playEat=function(i){this.walking=!1,this.eatSoundCoolDown>0?this.eatSoundCoolDown-=i:(this.chewSoundWhenEat&&x.playZombieChew(),this.eatSoundCoolDown=1),this.eating||(this.eatSoundCoolDown=0,this.body.playAnimation(this.body.EatAnm),this.setSpeed(0,!1),this.correctShadeWP(),this.eating=!0)},s.playIdle=function(i){void 0===i&&(i=0),this.walking=!1,this.eating=!1,this.body.playAnimation(this.body.IdleAnm,1/0,i),this.setSpeed(0,!1)},s.playWalk=function(i){void 0===i&&(i=0),this.eating=!1,this.walking||(this.body.playAnimation(this.body.WalkAnm,1/0,i),this.walking=!0,this.setSpeed(this.shouldSpeedScale()))},s.specialZombieOnLoad=function(){},s.additionalZombies=function(){return[]},s.onPutDirectly=function(i){},s.animationOnLPComplete=function(){},s.playOneShot=function(i,t,e,n){return void 0===t&&(t=1),void 0===e&&(e=!1),void 0===n&&(n=(null==i?void 0:i.getDuration())/2),i&&t>0&&(e?this.audioSource.playOneShot(i,t*C.SoundFXVolume/this.audioSource.volume):x.play(i,t,n)),!0},s.characterOnLoad=function(){var i=this;this.body.body=this.body.getComponent(d.ArmatureDisplay),this.body.body.addEventListener(d.EventObject.FRAME_EVENT,this.animationListener,this),this.body.body.addEventListener(d.EventObject.SOUND_EVENT,this.soundEventListener,this),this.body.body.addEventListener(d.EventObject.LOOP_COMPLETE,(function(){i.animationOnLPComplete(),i.judgeFade(),i.judgeDeath()}),this),this.db=this.body.body,this.getComponent(w)||this.addComponent(w),this.audioSource=this.getComponent(w),this.specialZombieOnLoad();var t=new S;t.initialize({effectAsset:H.addColorEffect,defines:{USE_TEXTURE:!0}}),this.material=t},s.specialZombieOnSquareChange=function(i,t){},s.characterOnSquareChange=function(i,t){var e=t.getTileType(),n=this.inWater;this.inWater=e==B.water,!n&&this.inWater&&this.enterWater(),n&&!this.inWater&&this.exitWater(),this.isAlive()&&!this.sandStormTween&&this.specialZombieOnSquareChange(i,t)},s.enterWater=function(){this.onEnterWater()},s.onEnterWater=function(){},s.exitWater=function(){this.body.node.position=new y(0,0,0),this.onExitWater()},s.onExitWater=function(){},s.characterOnLaneChange=function(i,t){var e,n;this.fallingInSky||(this.node.setParent(t.zombieLayer,!0),null==t||t.addZombie(this),null==i||i.deleteZombie(this)),this.zombieWave&&this.zombieWave.setParent(this.inLane.node,!0),null==(e=this.icetrapParticle)||null==(e=e.node)||e.setParent(this.node.parent),null==(n=this.icetrapParticle)||null==(n=n.node)||n.setSiblingIndex(this.node.getSiblingIndex()+1),this.perfumeParticle&&this.perfumeParticle.node.setParent(this.inLane.prjLayer)},s.setPlantDetectorRec=function(){O.gameStarted&&this.isAlive()?this.plantDetectorRec=A.createRectangleCenter(new f(this.shadeSocket.worldPosition.x+this.plantDetectorRecOffset.x*(this.reversed?-1:1),this._worldPosition.y+this._height+this.plantDetectorRecOffset.y),this.plantDetectorRecSize.width,this.plantDetectorRecSize.height):this.plantDetectorRec=A.createRectangleCenter(new f(1e4,1e4),1,1)},s.plantEatAllowed=function(i){return!0},s.detectPlantOn=function(){return!this.switching&&!O.component.gameLost},s.ignorePlants=function(){return!1},s.defaultDetectPlant=function(i){var t=this;if(0!=i&&this.detectPlantOn()){var e=this.plantDetectorRec,n=null;this.ignorePlants()||this.inLane.plantPool().forEach((function(i){i.eaterDetectable&&t.plantEatAllowed(i)&&e.judgeCrossRec(i.bodyRec)&&(n&&i.plantType!=I.vine&&i.plantType!=I.plant&&i.plantType!=I.lilyPad&&i.plantType!=I.pot||(n=i))})),n?(n.eat(this.dps*i,this),this.playEat(i)):this.allowWalk()?this.playWalk():(this.walking||this.eating)&&this.playIdle()}},s.allowWalk=function(){return!0},s.detectPlant=function(i){this.defaultDetectPlant(i)},s.specialZombieOnEnable=function(){},s.characterOnEnable=function(){var i,t,e,n;this.tallNutBlock=!1,this.dirtSpawning=!1,null==(i=this.knockBackTween)||i.stop(),this.knockBackTween=null,null==(t=this.changeLaneTween)||t.stop(),this.changeLaneTween=null,null==(e=this.leapHeightTween)||e.stop(),this.leapHeightTween=null,this.lieEnded=!1,this.chiliStun=0,this.chiliStunParticle=null,this.perfume=0,this.perfumeParticle=null,this.haveHead=!0,null==(n=this.chilibeanFartTween)||n.stop(),this.chilibeanFartTween=null,this.chilibeanPoisoning=!1,this.displayed=!1,this.enteredLawn=!1,this.node.angle=0,this.inLane=null,this.inLnC=null,this.currentFlyZombie=this.flyZombie,this.flying=this.flyZombie,this.zombieAshParticle_=this.zombieAshParticle,R.registerZombie(this),this.chompable_=this.chompable,this.easyToChomp_=this.easyToChomp,this.oldTileType=B.floor,this.zombieWave=null,this.eating=!1,this.dead=!1,this.blew=!1,this.fallingInSky=!1,this.haveArm=!0,this.walking=!1,this.inWater=!1,this.body.node.angle=0,this.body.showHead(!0),this.body.showArm(),this.clearBuff(),this.setRandomSpeed(),this.health=this.toughness,this.body.node.scale=new y(1,1,1),this.playWalk(),this.switching=!1,this.reversed=!1,this.setBodyRec(!0),this.specialZombieOnEnable()},s.setRandomSpeed=function(i,t){void 0===i&&(i=this.squarePerSec),void 0===t&&(t=.008),this.randomSpeed=i+t*(1-2*Math.random())},s.playSpecialZombieDeath=function(){},s.judgeDeath=function(i){void 0===i&&(i=.1),this.blew||this.dead&&this.body.currentAnimationName!=this.body.DeathAnm&&(this.playDeathSound(),this.walking=!1,this.body.playAnimation(this.body.DeathAnm,1,i),this.body.body.timeScale=1,this.setSpeed(0,!1),this.playSpecialZombieDeath())},s.judgeFade=function(){this.lieEnded&&!this.fadingAway&&(P.Color.set(this.body.body.color,255,255,255,255),this.fadeAway())},s.specialSoundEventListener=function(i){},s.soundEventListener=function(i){"fall"==i.name&&this.inLnC.getTileType()!=B.sky&&(this.lieSound.length?x.play(k.getRandom(this.lieSound),C.SoundFXVolume):x.playZombieLie()),this.specialSoundEventListener(i)},s.specialSetBodyRec=function(){this.bodyRec=A.createRectangleCenter(new f(this.shadeSocket.worldPosition.x+this.bodyRecOffset.x*(this.reversed?-1:1),this._worldPositionY+this.bodyRecOffset.y+this._height),this.bodyRecSize.width,this.bodyRecSize.height)},s.currentFarBodyRec=function(){return!1},s.setBodyRec=function(i){void 0===i&&(i=this.currentFarBodyRec()),i?this.bodyRec=new A:this.specialSetBodyRec()},s.prevDistance=function(){return _.SquareDisW},s.isInLawn=function(){return this.inLnC&&this.inLnC.lIndex>=0&&this.inLnC.lIndex<=4&&this.inLnC.cIndex>=0&&this.inLnC.cIndex<=8},s.isAlive=function(){return!(this.dead||this.fallingInSky||this.blew||this.displayed)},s.shouldMaterial=function(){var i=new g(0,0,0,255),t=0;this.dead||this.fallingInSky||((this.chill>0||this.freeze>0)&&(t=1),this.hurting>0&&(i.r+=10*this.hurting,i.g+=10*this.hurting,i.b+=10*this.hurting),this.havePlantfood&&(i.r+=H.zombiePF.r,i.g+=H.zombiePF.g,i.b+=H.zombiePF.b));var e=this.material.passes[0].getHandle("chillColor"),n=this.material.passes[0].getHandle("addColor");this.material.passes[0].setUniform(e,t),this.material.passes[0].setUniform(n,i),this.body.body.customMaterial=this.material},s.shouldColor=function(){var i=new g(255,255,255,255);this.poison.isValid()?i=H.zombiePoisonColor:this.perfume>0&&(i=H.zombiePerfumeColor),this.dead&&(i=new g(255,255,255,255)),this.dirtSpawning||(this.body.body.color=i)},s.onLaneSpawnSettled=function(i){},s.animationListener=function(i){O.component.gameOver&&!this.isGameLoseTriggerer||("die"==i.name?this.lieEnded=!0:"land"==i.name?(this.flying=!1,this.currentFlyZombie=!1,this.onLanding()):"leapEnd"==i.name?this.onLeapEnd():"switchingFalse"==i.name&&(this.switching=!1,this.detectPlant(0)),this.specialAnimationListener(i))},s.specialAnimationListener=function(i){},s.dropSea=function(){Z.spawnSeaSplash(this.inLnC.lIndex,this.node.worldPosition),this.playDie(!0),D.destroyPooly(this.node)},s.clearBuff=function(){var i,t;this.chill=0,this.freeze=0,this.stunned=0,this.hurting=0,this.chiliStun=0,this.perfume=0,null==(i=this.icetrapParticle)||i.playAnimation("Die",1),this.icetrapParticle=null,this.poison.DPS=0,this.poison.duration=0,null==(t=this.body.body.armature().getSlot("POISONFACE"))||t._setDisplayIndex(-1),this.butterStun=0,this.butterFace&&(this.butterFace.color=new g(255,255,255,0)),this.shouldColor(),this.shouldMaterial()},s.playFall=function(){var i=this;this.fallingInSky||(this.knockBackTween&&(this.knockBackTween.stop(),this.knockBackTween=null),this.leapHeightTween&&(this.leapHeightTween.stop(),this.leapHeightTween=null),this.body.body.timeScale=0,this.walking=!1,this.armors.forEach((function(t){i.throwArmor(t,null),D.destroyPooly(t.node)})),this.armors=[],this.setPlantDetectorRec(),this.dead||this.playDie(!0),this.fallInSky(!0),this.setSpeed(0))},s.endSandStorm=function(){var i,t;this.sandStormTween&&(this.playWalk(.2),null==(i=this.sandStormPar)||i.end(),this.sandStormPar=null,null==(t=this.sandStormTween)||t.stop(),this.sandStormTween=null)},s.onSandStormStart=function(){},s.playSandStorm=function(i,t){var e=this;if(void 0===t&&(t=0),!this.sandStormTween){this.onSandStormStart(),this.playIdle();var n=Z.sandStorm();1==t&&(n=Z.snowStorm());var o=v(n);o.parent=this.node.parent,o.worldPosition=this.node.worldPosition,o.setSiblingIndex(this.node.getSiblingIndex()+1),this.sandStormPar=o.getComponent(N),this.worldPositionX=this.inLane.toRight.worldPosition.x,this.sandStormPar.onSettled(),this.sandStormTween=b(this).to(3,{worldPositionX:i},{easing:"quadOut"}).to(1,{}).call((function(){e.endSandStorm()})).start()}},s.specialZombieUpdate=function(i){},s.onTileTypeChange=function(i,t){this.displayed||(this.flying||(t==B.sky&&this.playFall(),t==B.sea&&this.dropSea()),i!=B.water&&t==B.water&&(this.inWater=!0,this.enterWater()),i==B.water&&t!=B.water&&(this.inWater=!1,this.exitWater()))},s.addZombieWave=function(i){if(!this.flying){if(i==B.water&&!this.zombieWave){var t=D.instantiatePooly(Z.zombieWaterWave());t.parent=this.inLane.node,t.getComponent(d.ArmatureDisplay).playAnimation("Idle",1/0),this.zombieWave=t,this.shadeHidden=!0}this.zombieWave&&(this.zombieWave.worldPosition=new y(this._worldPositionX,this._worldPositionY),this.shadeHidden=!0,i!=B.water&&(this.zombieWave.getComponent(d.ArmatureDisplay).playAnimation("Fade"),this.zombieWave=null,this.shadeHidden=!1))}},s.specialDisblowable=function(){return!1},s.blowAway=function(){var i=this;this.blew||this.specialDisblowable()||(this.blew=!0,this.playDie(!0,null,!1),b(this).by(1,{worldPositionX:2e3},{easing:"cubicIn"}).call((function(){i.armors.concat().forEach((function(i){D.destroyPooly(i.node)})),i.armors=[],i.clearBuff(),D.destroyPooly(i.node)})).start())},s.plantFoodPar=function(i){if(this.pfParCD>0&&(this.pfParCD-=i),this.pfParCD<=0){var t;this.pfParCD=3+3*Math.random();var e=D.instantiatePooly(Z.PFLightning());if(e.parent=null==(t=this.inLane)?void 0:t.prjLayer,e.active){var n=Math.random()>.5;e.worldPosition=new y(n?this.bodyRec.prjX().x:this.bodyRec.prjX().y,this.node.worldPosition.y,this.node.worldPosition.z),e.getComponent(d.ArmatureDisplay).playAnimation("");var o=this.zombieHeight/96;e.scale=new y(o,o,o)}}},s.specialTriggerGameLose=function(){},s.triggerGameLose=function(){this.switching=!0,this.playEat(0),this.specialTriggerGameLose()},s.characterUpdate=function(i){var t,e;this.setPlantDetectorRec(),this.setBodyRec(!this.isAlive()),this.havePlantfood&&this.plantFoodPar(i),!this.enteredLawn&&this.bodyRec.judgeCrossRec(_.lawnRec)&&(this.enteredLawn=!0),null==(t=this.icetrapParticle)||null==(t=t.node)||t.setWorldPosition(new y(this._worldPositionX,this._worldPositionY));var n=this.shouldSpeedScale(),o=this.randomSpeed*_.SquareDisW/60*n*(this.enteredLawn?1:2);!this.fallingInSky&&this.walking?(this.body.body.timeScale=o/this.anmSpeed,this.worldPositionX-=o*i*60*(this._reversed?-1:1)):this.fallingInSky||this.blew?this.body.body.timeScale=0:this.eating||this.switching?this.body.body.timeScale=n:this.dead?this.body.body.timeScale=1:this.body.body.timeScale=n*this.randomSpeed/this.squarePerSec,this.isAlive()&&(this.shadeWorldPosition.x<_.zombieWinX?O.sandBoxModeOn?this.worldPosition=new f(_.zombieSpawnX,this.shadeWorldPosition.y):!this.reversed&&this.brainEater&&G.uiingame.loseDarken(this):(this.shadeWorldPosition.x>_.zombieSpawnX+_.SquareDisW&&this._reversed||this.shadeWorldPosition.x<=_.zombieWinX-_.SquareDisW&&!this._reversed)&&(this.playDie(!0),D.destroyPooly(this.node)),!this.inLane||this.dirtSpawning||this.sandStormTween||O.component.gameLost||(this.detectPlant(i*n),this.specialZombieUpdate(i*n)),this.dealPoison(i),this.dealButter(i),this.dealChiliStun(i),this.dealPerfume(i),this.dealHurrikale(i));var a=null==(e=this.inLnC)?void 0:e.getTileType();if(a!=this.oldTileType&&this.onTileTypeChange(this.oldTileType,a),!this.flying){var s=-F.depth(this._worldPositionX)*this.depthScale;this.body.node.position=new y(0,s/this.body.node.worldScale.y,1)}if(this.hurting>0&&(this.hurting-=60*i),this.stunned>0&&(this.stunned-=i),this.chill>0&&this.freeze<=0&&(this.chill-=i),this.freeze>0){if(this.freeze-=i,!this.icetrapParticle){var r=D.instantiatePooly(Z.zombieIceTrap());this.inLane&&(r.parent=this.inLane.zombieLayer,r.worldPosition=this.node.worldPosition,r.setSiblingIndex(this.node.getSiblingIndex()+1),this.icetrapParticle=r.getComponent(d.ArmatureDisplay),this.icetrapParticle.playAnimation("Idle",1/0))}}else this.icetrapParticle&&(this.icetrapParticle.playAnimation("Die",1),this.icetrapParticle=null);this.shouldMaterial(),this.dead||this.shouldColor(),this.addZombieWave(a),this.tallNutBlock&&this.tallNutListen(),this.sandStormPar&&(this.sandStormPar.node.worldPosition=new y(this._worldPositionX,this._worldPositionY)),O.component.gameWon&&this.playDie(),this.isGameLoseTriggerer&&this.playEat(i)},a(t,[{key:"reversed",get:function(){return this._reversed},set:function(i){var t=this.node.scale.clone();this.node.scale=new y(Math.abs(t.x)*(i?-1:1),t.y,t.z),this._reversed=i,this.setBodyRec(),this.setPlantDetectorRec()}},{key:"chiliStun",get:function(){return this._chiliStun},set:function(i){if(this.chiliStun<=0&&i>0){var t=v(Z.zombieChiliBeanStun());t.parent=this.node.parent,t.setSiblingIndex(this.node.getSiblingIndex()+1),t.worldPosition=new y(this.shade.node.worldPosition.x,this._worldPositionY),this.chiliStunParticle=t.getComponent(j),this.chiliStunParticle.db.playAnimation("Start",1)}else this._chiliStun>0&&i<=0&&this.chiliStunParticle&&(this.chiliStunParticle.db.playAnimation("Die",2),this.chiliStunParticle=null);this._chiliStun=i}},{key:"perfume",get:function(){return this._perfume},set:function(i){if(i>0&&this._perfume<=0){var t=v(Z.zombiePerfumeSlow());t.parent=this.inLane.prjLayer,t.worldPosition=this.node.worldPosition.clone(),t.worldScale=this.node.worldScale.clone(),this.perfumeParticle=t.getComponent(j),this.perfumeParticle.db.playAnimation("Idle",1/0)}else if(i<=0&&this._perfume>0){var e;null==(e=this.perfumeParticle)||null==(e=e.db)||e.playAnimation("Die",1)}this._perfume=i}},{key:"plantDetectorRec",get:function(){return!this.isAlive()||this.dirtSpawning?new A:this._plantDetectorRec},set:function(i){this._plantDetectorRec=i}},{key:"bodyRec",get:function(){return O.gameStarted&&this.isAlive()&&!this.dirtSpawning&&!this.chilibeanFartTween?this._bodyRec:new A},set:function(i){this._bodyRec=i}}]),t}(z)).prototype,"chiliStunDurationScale",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Zi=t(Wi.prototype,"butterFace",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fi=t(Wi.prototype,"zombieGroanSoundGroup",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mt.modern}}),Hi=t(Wi.prototype,"flyZombie",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ii=t(Wi.prototype,"breakSound",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oi=t(Wi.prototype,"hurtSound",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mi=t(Wi.prototype,"hurtSoundVolume",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xi=t(Wi.prototype,"deathSound",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qi=t(Wi.prototype,"onHeadThrownSound",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ni=t(Wi.prototype,"lieSound",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ji=t(Wi.prototype,"groanSound",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vi=t(Wi.prototype,"zombieAshParticle",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gi=t(Wi.prototype,"body",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yi=t(Wi.prototype,"countHealthToThisWave",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ui=t(Wi.prototype,"toughness",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 190}}),Ki=t(Wi.prototype,"zombieHead",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ji=t(Wi.prototype,"zombieArm",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qi=t(Wi.prototype,"zombieHeight",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),$i=t(Wi.prototype,"squarePerSec",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),it=t(Wi.prototype,"anmSpeed",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.35}}),tt=t(Wi.prototype,"headDropPoint",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=t(Wi.prototype,"chompable",[Di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nt=t(Wi.prototype,"easyToChomp",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ot=t(Wi.prototype,"plantDetectorRecOffset",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(0,38)}}),at=t(Wi.prototype,"plantDetectorRecSize",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m(32,96)}}),st=t(Wi.prototype,"dps",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),rt=t(Wi.prototype,"bodyRecOffset",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(0,38)}}),lt=t(Wi.prototype,"bodyRecSize",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m(48,96)}}),ht=t(Wi.prototype,"allowWaveAddPlantFood",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),dt=t(Wi.prototype,"depthScale",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),Bi=Wi))||Bi));s._RF.pop()}}}));

System.register("chunks:///_virtual/ZombieAshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ParticleSelfdestroy.ts","./LnC.ts"],(function(e){var t,i,n,r,o;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator},function(e){r=e.ParticleSelfdestroy},function(e){o=e.TileType}],execute:function(){var s;i._RF.push({},"5fe0cRIBMdG9a1Hu7mi2SL6","ZombieAshParticle",void 0);var a=n.ccclass;n.property,e("ZombieAshParticle",a("ZombieAshParticle")(s=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).sky=!1,t.inLnC=void 0,t.height=0,t}t(i,e);var n=i.prototype;return n.zombieAshDBListener=function(e){},n.animationListener=function(e){"ash"==e.name&&this.playAsh(),this.zombieAshDBListener(e)},n.playAsh=function(){var e,t="PlayFloor",i=null==(e=this.inLnC)?void 0:e.getTileType();(this.height>5||i==o.sea||i==o.water||i==o.sky)&&(t="PlaySky"),this.db.playAnimation(t)},i}(r))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/zombieDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./commonShot.ts"],(function(t){var i,o,e,n,r;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,n=t.Vec2},function(t){r=t.commonShot}],execute:function(){var s;o._RF.push({},"45bb9Yr+sNB1ZuCJPlM2PYm","zombieDrop",void 0);var c=e.ccclass;e.property,t("zombieDrop",c("zombieDrop")(s=function(t){function o(){return t.apply(this,arguments)||this}return i(o,t),o.prototype.hitFloor=function(t){this.height=0;var i=this.linearVelocity.clone(),o=this.bodyLinearVelocity,e=new n(i.x/2,i.y/2),r=o/-2-.55*t*60*this.gravity;r<=3&&!this.fadingAway&&(e=new n(0,0),r=0,this.fallingInSky||(this.bodyOmega=0),this.gravity=0,this.fadeAway()),this.linearVelocity=e,this.bodyLinearVelocity=r},o}(r))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/Zombies.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodePools.ts","./Zombie.ts","./Armors.ts","./Square.ts","./SoundRescourses.ts","./EgyptCamelZombie.ts","./FrontYard.ts","./CowboyPonchoZombie.ts"],(function(e){var o,a,r,i,t,b,n,l,m,c,p,u,s,g,y,_,Z,w,h,f,k,d;return{setters:[function(e){o=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){t=e.cclegacy,b=e._decorator,n=e.JsonAsset,l=e.AudioClip,m=e.Prefab,c=e.Vec2,p=e.Component,u=e.instantiate},function(e){s=e.ArrayGet,g=e.NodePools},function(e){y=e.Zombie,_=e.ZombieGroanSoundGroupEnum},function(e){Z=e.armorEnum},function(e){w=e.Square},function(e){h=e.sounds},function(e){f=e.EgyptCamelZombie},function(e){k=e.FrontYard},function(e){d=e.CowboyPonchoZombie}],execute:function(){var z,C,G,R,P,B,S,I,A,F,v,E,T,L,M,O,D,N,W,x,J,j,H,q,V,Y,U,K,X,Q,$,ee,oe,ae,re,ie,te,be,ne,le,me,ce,pe,ue,se,ge,ye,_e,Ze,we,he,fe,ke,de,ze,Ce,Ge,Re,Pe,Be,Se,Ie,Ae,Fe,ve,Ee,Te,Le,Me,Oe,De,Ne,We,xe,Je,je,He,qe,Ve,Ye,Ue,Ke,Xe,Qe,$e,eo,oo,ao,ro,io,to,bo,no,lo,mo,co,po,uo,so,go,yo,_o,Zo,wo,ho,fo,ko,zo,Co,Go,Ro,Po,Bo,So,Io,Ao,Fo,vo,Eo,To,Lo,Mo,Oo,Do,No,Wo,xo,Jo,jo,Ho,qo,Vo,Yo,Uo,Ko;t._RF.push({},"3127d1KIzhGIqdUCpakDMry","Zombies",void 0);var Xo=b.ccclass,Qo=b.property,$o=(e("ZombieFeature",(function(){this.NAME="",this.ZOMBIETYPE="",this.CODENAME="",this.SUNCOST=0,this.WAVEPOINTCOST=100,this.WEIGHT=100,this.OBTAINWORLD="egypt"})),e("ZombieEnum",function(e){return e[e.modern_basic=0]="modern_basic",e[e.modern_cone=1]="modern_cone",e[e.modern_bucket=2]="modern_bucket",e[e.modern_bricks=3]="modern_bricks",e[e.modern_flag=4]="modern_flag",e[e.modern_rally=5]="modern_rally",e[e.modern_imp=6]="modern_imp",e[e.modern_gargantuar=7]="modern_gargantuar",e[e.modern_bobSled=8]="modern_bobSled",e[e.modern_bobSled_team=9]="modern_bobSled_team",e[e.modern_balloon=10]="modern_balloon",e[e.modern_allstar=11]="modern_allstar",e[e.modern_sleighCart=12]="modern_sleighCart",e[e.modern_catapult=13]="modern_catapult",e[e.egypt_basic=14]="egypt_basic",e[e.egypt_cone=15]="egypt_cone",e[e.egypt_bucket=16]="egypt_bucket",e[e.egypt_bricks=17]="egypt_bricks",e[e.egypt_flag=18]="egypt_flag",e[e.egypt_rally=19]="egypt_rally",e[e.egypt_ra=20]="egypt_ra",e[e.egypt_camel=21]="egypt_camel",e[e.egypt_camel_onehump=22]="egypt_camel_onehump",e[e.egypt_camel_twohump=23]="egypt_camel_twohump",e[e.egypt_camel_threehump=24]="egypt_camel_threehump",e[e.egypt_camel_manyhump=25]="egypt_camel_manyhump",e[e.egypt_explorer=26]="egypt_explorer",e[e.egypt_torchlight=27]="egypt_torchlight",e[e.egypt_tombraiser=28]="egypt_tombraiser",e[e.egypt_pharaoh_inner=29]="egypt_pharaoh_inner",e[e.egypt_pharaoh_weak=30]="egypt_pharaoh_weak",e[e.egypt_pharaoh=31]="egypt_pharaoh",e[e.egypt_imp=32]="egypt_imp",e[e.egypt_gargantuar=33]="egypt_gargantuar",e[e.pirate_basic=34]="pirate_basic",e[e.pirate_cone=35]="pirate_cone",e[e.pirate_bucket=36]="pirate_bucket",e[e.pirate_bricks=37]="pirate_bricks",e[e.pirate_flag=38]="pirate_flag",e[e.pirate_rally=39]="pirate_rally",e[e.pirate_swashbuckler=40]="pirate_swashbuckler",e[e.pirate_seagull=41]="pirate_seagull",e[e.pirate_pelican=42]="pirate_pelican",e[e.pirate_barrel_pusher=43]="pirate_barrel_pusher",e[e.pirate_barrel=44]="pirate_barrel",e[e.pirate_cannon=45]="pirate_cannon",e[e.pirate_captain=46]="pirate_captain",e[e.pirate_parrot=47]="pirate_parrot",e[e.pirate_imp=48]="pirate_imp",e[e.pirate_gargantuar=49]="pirate_gargantuar",e[e.cowboy_basic=50]="cowboy_basic",e[e.cowboy_cone=51]="cowboy_cone",e[e.cowboy_bucket=52]="cowboy_bucket",e[e.cowboy_bricks=53]="cowboy_bricks",e[e.cowboy_flag=54]="cowboy_flag",e[e.cowboy_rally=55]="cowboy_rally",e[e.cowboy_prospector=56]="cowboy_prospector",e[e.cowboy_piano=57]="cowboy_piano",e[e.cowboy_poncho=58]="cowboy_poncho",e[e.cowboy_poncho_no_plate=59]="cowboy_poncho_no_plate",e[e.cowboy_poncho_plate=60]="cowboy_poncho_plate",e[e.cowboy_chicken_farmer=61]="cowboy_chicken_farmer",e[e.cowboy_chicken=62]="cowboy_chicken",e[e.cowboy_bull=63]="cowboy_bull",e[e.cowboy_bull_black=64]="cowboy_bull_black",e[e.cowboy_imp=65]="cowboy_imp",e[e.cowboy_gargantuar=66]="cowboy_gargantuar",e[e.future_basic=67]="future_basic",e[e.future_cone=68]="future_cone",e[e.future_bucket=69]="future_bucket",e[e.future_bricks=70]="future_bricks",e[e.future_jetpack=71]="future_jetpack",e[e.lost_relichunter=72]="lost_relichunter",e[e.zombieAmount=73]="zombieAmount",e}({}))),ea=e("zombies",function(){function e(){}return e.playGroan=function(e,o){void 0===o&&(o=1),this.zombieRes.playZombieGroan(e,o)},e.getLessZombieLane=function(e){if(e.length){for(var o=1/0,a=0;e.length>0;){var r=s.getRandom(e),i=e.indexOf(r);e.splice(i);var t=w.getLaneComponent(r).zombiePool().length;t<o&&(a=r,o=t)}return a}return Math.floor(5*Math.random())},e.createZombie=function(o,a){var r=e.getZombie(a),i=r.getComponent(y);if(isNaN(o)||null==o){var t,b,n=k.currentLawn;o=!i.flyZombie&&null!=n&&null!=(t=n.PlankRows)&&t.length?this.getLessZombieLane(n.PlankRows):i.flyZombie&&null!=n&&null!=(b=n.PlankRows)&&b.length?this.getLessZombieLane(n.SeaRows):this.getLessZombieLane([0,1,2,3,4])}var l=w.getLaneComponent(o),m=Math.random()*w.SquareDisW;return r.parent=l.zombieLayer,i.worldPosition=new c(w.zombieSpawnX+m,l.spawnPoint.worldPosition.y),i.onLaneSpawnSettled(l),i.judgeInLnC(),i},e.createZombieByRTID=function(e,o){var a=this.getZombieEnumByRTID(o);return this.createZombie(e,a)},e.getZombie=function(e,o){void 0===o&&(o=!1);var a=this.zombieRes,r=o?u:g.instantiatePooly,i=r(a.basicZombie),t=e+0;switch(e){case $o.modern_sleighCart:i=r(a.sleighCartZombie);break;case $o.modern_basic:i=r(a.basicZombie);break;case $o.modern_cone:i=r(a.basicZombie).getComponent(y).addArmor(Z.basic_cone);break;case $o.modern_bucket:i=r(a.basicZombie).getComponent(y).addArmor(Z.basic_bucket);break;case $o.modern_bricks:i=r(a.basicZombie).getComponent(y).addArmor(Z.basic_bricks);break;case $o.modern_flag:i=r(a.basicFlagZombie);break;case $o.modern_rally:i=r(a.basicRallyZombie);break;case $o.modern_imp:i=r(a.modernImpZombie);break;case $o.modern_gargantuar:i=r(a.modernGargantuarZombie);break;case $o.modern_bobSled:i=r(a.bobSledZombie);break;case $o.modern_allstar:i=r(a.allstarZombie);break;case $o.modern_balloon:i=r(a.balloonZombie);break;case $o.future_basic:i=r(a.futureBasicZombie);break;case $o.future_cone:i=r(a.futureBasicZombie).getComponent(y).addArmor(Z.future_cone);break;case $o.future_bucket:i=r(a.futureBasicZombie).getComponent(y).addArmor(Z.future_bucket);break;case $o.future_bricks:i=r(a.futureBasicZombie).getComponent(y).addArmor(Z.future_bricks);break;case $o.future_jetpack:i=r(a.futureJetpackZombie);break;case $o.lost_relichunter:i=r(a.lostRelicHunterZombie);break;case $o.modern_bobSled_team:i=r(a.bobSledZombieTeam);break;case $o.modern_catapult:i=r(a.catapultZombie);break;case $o.egypt_basic:i=r(a.egyptBasicZombie);break;case $o.egypt_cone:i=r(a.egyptBasicZombie).getComponent(y).addArmor(Z.egypt_cone);break;case $o.egypt_bucket:i=r(a.egyptBasicZombie).getComponent(y).addArmor(Z.egypt_bucket);break;case $o.egypt_bricks:i=r(a.egyptBasicZombie).getComponent(y).addArmor(Z.egypt_bricks);break;case $o.egypt_flag:i=r(a.egyptFlagZombie);break;case $o.egypt_rally:i=r(a.egyptRallyZombie);break;case $o.egypt_ra:i=r(a.egyptRaZombie);break;case $o.egypt_camel:(i=r(a.egyptCamelZombie)).getComponent(f).teamAmount=0,i.getComponent(f).defaultShowSlot=0;break;case $o.egypt_camel_onehump:(i=r(a.egyptCamelZombie)).getComponent(f).teamAmount=3,i.getComponent(f).defaultShowSlot=0;break;case $o.egypt_camel_twohump:(i=r(a.egyptCamelZombie)).getComponent(f).teamAmount=4,i.getComponent(f).defaultShowSlot=0;break;case $o.egypt_camel_threehump:(i=r(a.egyptCamelZombie)).getComponent(f).teamAmount=5,i.getComponent(f).defaultShowSlot=0;break;case $o.egypt_camel_manyhump:(i=r(a.egyptCamelZombie)).getComponent(f).teamAmount=4+Math.ceil(3*Math.random()),i.getComponent(f).defaultShowSlot=0;break;case $o.egypt_explorer:i=r(a.egyptExplorerZombie);break;case $o.egypt_torchlight:i=r(a.egyptTorchlightZombie);break;case $o.egypt_tombraiser:i=r(a.egyptTombRaiserZombie);break;case $o.egypt_pharaoh_weak:i=r(a.egyptPharaohWeakZombie);break;case $o.egypt_pharaoh:i=r(a.egyptPharaohZombie);break;case $o.egypt_gargantuar:i=r(a.egyptGargantuarZombie);break;case $o.egypt_pharaoh_inner:i=r(a.egyptPharaohInnerZombie);break;case $o.egypt_imp:i=r(a.egyptImpZombie);break;case $o.pirate_basic:i=r(a.pirateBasicZombie);break;case $o.pirate_cone:i=r(a.pirateBasicZombie).getComponent(y).addArmor(Z.pirate_cone);break;case $o.pirate_bucket:i=r(a.pirateBasicZombie).getComponent(y).addArmor(Z.pirate_bucket);break;case $o.pirate_bricks:i=r(a.pirateBasicZombie).getComponent(y).addArmor(Z.pirate_bricks);break;case $o.pirate_flag:i=r(a.pirateFlagZombie);break;case $o.pirate_rally:i=r(a.pirateRallyZombie);break;case $o.pirate_swashbuckler:i=r(a.pirateSwashbucklerZombie);break;case $o.pirate_seagull:i=r(a.pirateSeagullZombie);break;case $o.pirate_pelican:i=r(a.piratePelicanZombie);break;case $o.pirate_barrel_pusher:i=r(a.pirateBarrelPusherZombie);break;case $o.pirate_barrel:i=r(a.pirateBarrel);break;case $o.pirate_cannon:i=r(a.pirateImpCannonZombie);break;case $o.pirate_captain:i=r(a.pirateCaptainZombie);break;case $o.pirate_parrot:i=r(a.pirateParrotZombie);break;case $o.pirate_imp:i=r(a.pirateImpZombie);break;case $o.pirate_gargantuar:i=r(a.pirateGargantuarZombie);break;case $o.cowboy_basic:i=r(a.cowboyBasicZombie);break;case $o.cowboy_cone:i=r(a.cowboyBasicZombie).getComponent(y).addArmor(Z.cowboy_cone);break;case $o.cowboy_bucket:i=r(a.cowboyBasicZombie).getComponent(y).addArmor(Z.cowboy_bucket);break;case $o.cowboy_bricks:i=r(a.cowboyBasicZombie).getComponent(y).addArmor(Z.cowboy_bricks);break;case $o.cowboy_flag:i=r(a.cowboyFlagZombie);break;case $o.cowboy_rally:i=r(a.cowboyRallyZombie);break;case $o.cowboy_prospector:i=r(a.cowboyProspectorZombie);break;case $o.cowboy_piano:i=r(a.cowboyPianoZombie);break;case $o.cowboy_poncho:var b=(i=r(a.cowboyPonchoZombie)).getComponent(d);b&&(b.spawnPlateMode=-1);break;case $o.cowboy_poncho_no_plate:var n=(i=r(a.cowboyPonchoZombie)).getComponent(d);n&&(n.spawnPlateMode=0);break;case $o.cowboy_poncho_plate:var l=(i=r(a.cowboyPonchoZombie)).getComponent(d);l&&(l.spawnPlateMode=1);break;case $o.cowboy_chicken_farmer:i=r(a.cowboyChickenFarmerZombie);break;case $o.cowboy_chicken:i=r(a.cowboyChickenZombie);break;case $o.cowboy_bull:i=r(a.cowboyBullZombie);break;case $o.cowboy_bull_black:i=r(a.cowboyBlackBullZombie);break;case $o.cowboy_imp:i=r(a.cowboyImpZombie);break;case $o.cowboy_gargantuar:i=r(a.cowboyGargantuarZombie);break;default:t=$o.modern_basic,i=r(a.basicZombie)}return i.getComponent(y).ID=t,i},e.getZombieEnumByString=function(e){var o=-1;return this.zombieRes.ZombieFeatures.forEach((function(a,r){-1==o&&a.CODENAME==e&&(o=r)})),-1==o&&(o=$o.modern_basic),o},e.getZombieEnumByRTID=function(e){var o=e.concat(),a=o.indexOf("RTID("),r=o.indexOf("@ZombieTypes)"),i="";return-1!=a&&(i=o.slice(a+5,r)),this.getZombieEnumByString(i)},e.getZombieWavePointCost=function(e){return this.zombieRes.ZombieFeatures[e].WAVEPOINTCOST},e.getZombieWeight=function(e){return this.zombieRes.ZombieFeatures[e].WEIGHT},e.pickZombieByWeight=function(e){var o=this,a=[],r=0;e.forEach((function(e){var i=o.getZombieWeight(e);a.push(r+i),r+=i}));for(var i=Math.random()*r,t=0;t<a.length;t++)if(i<a[t])return e[t];return s.getRandom(e)},e.getZombieFeature=function(e){return this.zombieRes.ZombieFeatures[e]},e}());ea.zombieRes=null;e("Zombies",(z=Xo("Zombies"),C=Qo(n),G=Qo([l]),R=Qo([l]),P=Qo([l]),B=Qo([l]),S=Qo([l]),I=Qo([l]),A=Qo([l]),F=Qo([l]),v=Qo([l]),E=Qo([l]),T=Qo([l]),L=Qo([l]),M=Qo([l]),O=Qo(m),D=Qo(m),N=Qo(m),W=Qo(m),x=Qo(m),J=Qo(m),j=Qo(m),H=Qo(m),q=Qo(m),V=Qo(m),Y=Qo(m),U=Qo(m),K=Qo(m),X=Qo(m),Q=Qo(m),$=Qo(m),ee=Qo(m),oe=Qo(m),ae=Qo(m),re=Qo(m),ie=Qo(m),te=Qo(m),be=Qo(m),ne=Qo(m),le=Qo(m),me=Qo(m),ce=Qo(m),pe=Qo(m),ue=Qo(m),se=Qo(m),ge=Qo(m),ye=Qo(m),_e=Qo(m),Ze=Qo(m),we=Qo(m),he=Qo(m),fe=Qo(m),ke=Qo(m),de=Qo(m),ze=Qo(m),Ce=Qo(m),Ge=Qo(m),Re=Qo(m),Pe=Qo(m),Be=Qo(m),Se=Qo(m),Ie=Qo(m),Ae=Qo(m),Fe=Qo(m),ve=Qo(m),Ee=Qo(m),Te=Qo(m),z((Oe=o((Me=function(e){function o(){for(var o,a=arguments.length,t=new Array(a),b=0;b<a;b++)t[b]=arguments[b];return o=e.call.apply(e,[this].concat(t))||this,r(o,"zombieFeaturesJson",Oe,i(o)),o.ZombieFeatures=[],r(o,"modernZombieGroan",De,i(o)),r(o,"egyptZombieGroan",Ne,i(o)),r(o,"pirateZombieGroan",We,i(o)),r(o,"cowboyZombieGroan",xe,i(o)),r(o,"futureZombieGroan",Je,i(o)),r(o,"darkZombieGroan",je,i(o)),r(o,"beachZombieGroan",He,i(o)),r(o,"iceZombieGroan",qe,i(o)),r(o,"lostZombieGroan",Ve,i(o)),r(o,"stageZombieGroan",Ye,i(o)),r(o,"dinoZombieGroan",Ue,i(o)),r(o,"impGroan",Ke,i(o)),r(o,"gargantuarGroan",Xe,i(o)),r(o,"basicZombie",Qe,i(o)),r(o,"basicFlagZombie",$e,i(o)),r(o,"basicRallyZombie",eo,i(o)),r(o,"modernImpZombie",oo,i(o)),r(o,"modernGargantuarZombie",ao,i(o)),r(o,"bobSledZombie",ro,i(o)),r(o,"bobSledZombieTeam",io,i(o)),r(o,"balloonZombie",to,i(o)),r(o,"allstarZombie",bo,i(o)),r(o,"sleighCartZombie",no,i(o)),r(o,"futureBasicZombie",lo,i(o)),r(o,"futureJetpackZombie",mo,i(o)),r(o,"lostRelicHunterZombie",co,i(o)),r(o,"catapultZombie",po,i(o)),r(o,"egyptBasicZombie",uo,i(o)),r(o,"egyptFlagZombie",so,i(o)),r(o,"egyptRallyZombie",go,i(o)),r(o,"egyptRaZombie",yo,i(o)),r(o,"egyptCamelZombie",_o,i(o)),r(o,"egyptExplorerZombie",Zo,i(o)),r(o,"egyptTorchlightZombie",wo,i(o)),r(o,"egyptTombRaiserZombie",ho,i(o)),r(o,"egyptPharaohWeakZombie",fo,i(o)),r(o,"egyptPharaohZombie",ko,i(o)),r(o,"egyptPharaohInnerZombie",zo,i(o)),r(o,"egyptImpZombie",Co,i(o)),r(o,"egyptGargantuarZombie",Go,i(o)),r(o,"pirateBasicZombie",Ro,i(o)),r(o,"pirateFlagZombie",Po,i(o)),r(o,"pirateRallyZombie",Bo,i(o)),r(o,"pirateSwashbucklerZombie",So,i(o)),r(o,"pirateSeagullZombie",Io,i(o)),r(o,"piratePelicanZombie",Ao,i(o)),r(o,"pirateBarrelPusherZombie",Fo,i(o)),r(o,"pirateBarrel",vo,i(o)),r(o,"pirateImpCannonZombie",Eo,i(o)),r(o,"pirateCaptainZombie",To,i(o)),r(o,"pirateParrotZombie",Lo,i(o)),r(o,"pirateImpZombie",Mo,i(o)),r(o,"pirateGargantuarZombie",Oo,i(o)),r(o,"cowboyBasicZombie",Do,i(o)),r(o,"cowboyFlagZombie",No,i(o)),r(o,"cowboyRallyZombie",Wo,i(o)),r(o,"cowboyProspectorZombie",xo,i(o)),r(o,"cowboyPianoZombie",Jo,i(o)),r(o,"cowboyChickenFarmerZombie",jo,i(o)),r(o,"cowboyChickenZombie",Ho,i(o)),r(o,"cowboyBullZombie",qo,i(o)),r(o,"cowboyBlackBullZombie",Vo,i(o)),r(o,"cowboyImpZombie",Yo,i(o)),r(o,"cowboyGargantuarZombie",Uo,i(o)),r(o,"cowboyPonchoZombie",Ko,i(o)),o}a(o,e);var t=o.prototype;return t.playZombieGroan=function(e,o){switch(void 0===o&&(o=1),e){case _.modern:h.play(s.getRandom(this.modernZombieGroan),o);break;case _.egypt:h.play(s.getRandom(this.egyptZombieGroan),o);break;case _.pirate:h.play(s.getRandom(this.pirateZombieGroan),o);break;case _.cowboy:h.play(s.getRandom(this.cowboyZombieGroan),o);break;case _.future:h.play(s.getRandom(this.futureZombieGroan),o);break;case _.dark:h.play(s.getRandom(this.darkZombieGroan),o);break;case _.beach:h.play(s.getRandom(this.beachZombieGroan),o);break;case _.ice:h.play(s.getRandom(this.iceZombieGroan),o);break;case _.lost:h.play(s.getRandom(this.lostZombieGroan),o);break;case _.stage:h.play(s.getRandom(this.stageZombieGroan),o);break;case _.dino:h.play(s.getRandom(this.dinoZombieGroan),o);break;case _.imp:h.play(s.getRandom(this.impGroan),o);break;case _.gargantuar:h.play(s.getRandom(this.gargantuarGroan),o)}},t.onLoad=function(){ea.zombieRes=this;var e=JSON.stringify(this.zombieFeaturesJson);this.ZombieFeatures=JSON.parse(e).json.ZOMBIES},o}(p)).prototype,"zombieFeaturesJson",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=o(Me.prototype,"modernZombieGroan",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ne=o(Me.prototype,"egyptZombieGroan",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),We=o(Me.prototype,"pirateZombieGroan",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=o(Me.prototype,"cowboyZombieGroan",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Je=o(Me.prototype,"futureZombieGroan",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=o(Me.prototype,"darkZombieGroan",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He=o(Me.prototype,"beachZombieGroan",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qe=o(Me.prototype,"iceZombieGroan",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ve=o(Me.prototype,"lostZombieGroan",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ye=o(Me.prototype,"stageZombieGroan",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=o(Me.prototype,"dinoZombieGroan",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ke=o(Me.prototype,"impGroan",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xe=o(Me.prototype,"gargantuarGroan",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qe=o(Me.prototype,"basicZombie",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=o(Me.prototype,"basicFlagZombie",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo=o(Me.prototype,"basicRallyZombie",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oo=o(Me.prototype,"modernImpZombie",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ao=o(Me.prototype,"modernGargantuarZombie",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=o(Me.prototype,"bobSledZombie",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),io=o(Me.prototype,"bobSledZombieTeam",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=o(Me.prototype,"balloonZombie",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bo=o(Me.prototype,"allstarZombie",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=o(Me.prototype,"sleighCartZombie",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lo=o(Me.prototype,"futureBasicZombie",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo=o(Me.prototype,"futureJetpackZombie",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),co=o(Me.prototype,"lostRelicHunterZombie",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),po=o(Me.prototype,"catapultZombie",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uo=o(Me.prototype,"egyptBasicZombie",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=o(Me.prototype,"egyptFlagZombie",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go=o(Me.prototype,"egyptRallyZombie",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yo=o(Me.prototype,"egyptRaZombie",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_o=o(Me.prototype,"egyptCamelZombie",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zo=o(Me.prototype,"egyptExplorerZombie",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wo=o(Me.prototype,"egyptTorchlightZombie",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ho=o(Me.prototype,"egyptTombRaiserZombie",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fo=o(Me.prototype,"egyptPharaohWeakZombie",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ko=o(Me.prototype,"egyptPharaohZombie",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zo=o(Me.prototype,"egyptPharaohInnerZombie",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Co=o(Me.prototype,"egyptImpZombie",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Go=o(Me.prototype,"egyptGargantuarZombie",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ro=o(Me.prototype,"pirateBasicZombie",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Po=o(Me.prototype,"pirateFlagZombie",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bo=o(Me.prototype,"pirateRallyZombie",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),So=o(Me.prototype,"pirateSwashbucklerZombie",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=o(Me.prototype,"pirateSeagullZombie",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ao=o(Me.prototype,"piratePelicanZombie",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fo=o(Me.prototype,"pirateBarrelPusherZombie",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vo=o(Me.prototype,"pirateBarrel",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eo=o(Me.prototype,"pirateImpCannonZombie",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),To=o(Me.prototype,"pirateCaptainZombie",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lo=o(Me.prototype,"pirateParrotZombie",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mo=o(Me.prototype,"pirateImpZombie",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oo=o(Me.prototype,"pirateGargantuarZombie",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Do=o(Me.prototype,"cowboyBasicZombie",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),No=o(Me.prototype,"cowboyFlagZombie",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wo=o(Me.prototype,"cowboyRallyZombie",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xo=o(Me.prototype,"cowboyProspectorZombie",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=o(Me.prototype,"cowboyPianoZombie",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jo=o(Me.prototype,"cowboyChickenFarmerZombie",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ho=o(Me.prototype,"cowboyChickenZombie",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qo=o(Me.prototype,"cowboyBullZombie",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vo=o(Me.prototype,"cowboyBlackBullZombie",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yo=o(Me.prototype,"cowboyImpZombie",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uo=o(Me.prototype,"cowboyGargantuarZombie",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ko=o(Me.prototype,"cowboyPonchoZombie",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=Me))||Le));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});